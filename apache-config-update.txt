# Instructions pour mettre à jour la configuration Apache

# 1. Modifiez votre fichier de configuration Apache (/etc/apache2/sites-available/softis.jp.conf)
# et ajoutez ces directives dans la section <VirtualHost *:443>:

# Activer les modules de réécriture et headers si ce n'est pas déjà fait
# sudo a2enmod rewrite
# sudo a2enmod headers

# Assurer que AllowOverride est défini sur All pour que .htaccess fonctionne
<Directory /var/www/softis/dist>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# Si vous avez des problèmes avec les chemins d'images, ajoutez cette règle de réécriture:
<IfModule mod_rewrite.c>
    RewriteEngine On
    # Rediriger les anciennes références à /src/assets/ vers /assets/
    RewriteRule ^/src/assets/(.*)$ /assets/$1 [L]
</IfModule>

# 2. Après avoir modifié la configuration, redémarrez Apache:
# sudo systemctl restart apache2

# 3. Assurez-vous que les fichiers ont les bonnes permissions:
# sudo chown -R www-data:www-data /var/www/softis
# sudo chmod -R 755 /var/www/softis 