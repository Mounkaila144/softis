var sg=Object.defineProperty;var ig=(t,e,n)=>e in t?sg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yt=(t,e,n)=>ig(t,typeof e!="symbol"?e+"":e,n);import{r as ag,g as Ts,R as Xt,a as F,j as a,L as Pe,N as iu,m as J,A as pn,u as Pd,O as og,b as sn,c as Ni,d as Rd,B as lg,e as cg,f as Xe}from"./vendor-rZuCylbC.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Dd,au=ag;Dd=au.createRoot,au.hydrateRoot;var ug=typeof Element<"u",hg=typeof Map=="function",dg=typeof Set=="function",mg=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function hi(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!hi(t[r],e[r]))return!1;return!0}var i;if(hg&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!hi(r.value[1],e.get(r.value[0])))return!1;return!0}if(dg&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(mg&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(ug&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!hi(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var fg=function(e,n){try{return hi(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const pg=Ts(fg);var gg=function(t,e,n,r,s,i,o,l){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,s,i,o,l],d=0;u=new Error(e.replace(/%s/g,function(){return h[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},xg=gg;const ou=Ts(xg);var yg=function(e,n,r,s){var i=r?r.call(s,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),h=0;h<o.length;h++){var d=o[h];if(!u(d))return!1;var f=e[d],g=n[d];if(i=r?r.call(s,f,g,d):void 0,i===!1||i===void 0&&f!==g)return!1}return!0};const bg=Ts(yg);var Ld=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Ld||{}),Ua={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},lu=Object.values(Ld),cl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wg=Object.entries(cl).reduce((t,[e,n])=>(t[n]=e,t),{}),Lt="data-rh",hr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},dr=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},vg=t=>{let e=dr(t,"title");const n=dr(t,hr.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=dr(t,hr.DEFAULT_TITLE);return e||r||void 0},_g=t=>dr(t,hr.ON_CHANGE_CLIENT_STATE)||(()=>{}),Ba=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),Eg=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const l=s[i].toLowerCase();if(t.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),Ng=t=>console&&typeof console.warn=="function"&&console.warn(t),Gr=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Ng(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,i)=>{const o={};i.filter(u=>{let h;const d=Object.keys(u);for(let g=0;g<d.length;g+=1){const p=d[g],v=p.toLowerCase();e.indexOf(v)!==-1&&!(h==="rel"&&u[h].toLowerCase()==="canonical")&&!(v==="rel"&&u[v].toLowerCase()==="stylesheet")&&(h=v),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(h=p)}if(!h||!u[h])return!1;const f=u[h].toLowerCase();return r[h]||(r[h]={}),o[h]||(o[h]={}),r[h][f]?!1:(o[h][f]=!0,!0)}).reverse().forEach(u=>s.push(u));const l=Object.keys(o);for(let u=0;u<l.length;u+=1){const h=l[u],d={...r[h],...o[h]};r[h]=d}return s},[]).reverse()},Tg=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},jg=t=>({baseTag:Eg(["href"],t),bodyAttributes:Ba("bodyAttributes",t),defer:dr(t,hr.DEFER),encode:dr(t,hr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ba("htmlAttributes",t),linkTags:Gr("link",["rel","href"],t),metaTags:Gr("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Gr("noscript",["innerHTML"],t),onChangeClientState:_g(t),scriptTags:Gr("script",["src","innerHTML"],t),styleTags:Gr("style",["cssText"],t),title:vg(t),titleAttributes:Ba("titleAttributes",t),prioritizeSeoTags:Tg(t,hr.PRIORITIZE_SEO_TAGS)}),Od=t=>Array.isArray(t)?t.join(""):t,Sg=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},$a=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(Sg(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},cu=(t,e)=>({...t,[e]:void 0}),kg=["noscript","script","style"],go=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Vd=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),Ig=(t,e,n,r)=>{const s=Vd(n),i=Od(e);return s?`<${t} ${Lt}="true" ${s}>${go(i,r)}</${t}>`:`<${t} ${Lt}="true">${go(i,r)}</${t}>`},Ag=(t,e,n=!0)=>e.reduce((r,s)=>{const i=s,o=Object.keys(i).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,d)=>{const f=typeof i[d]>"u"?d:`${d}="${go(i[d],n)}"`;return h?`${h} ${f}`:f},""),l=i.innerHTML||i.cssText||"",u=kg.indexOf(t)===-1;return`${r}<${t} ${Lt}="true" ${o}${u?"/>":`>${l}</${t}>`}`},""),Md=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=cl[r];return n[s||r]=t[r],n},e),Cg=(t,e,n)=>{const r={key:e,[Lt]:!0},s=Md(n,r);return[Xt.createElement("title",s,e)]},di=(t,e)=>e.map((n,r)=>{const s={key:r,[Lt]:!0};return Object.keys(n).forEach(i=>{const l=cl[i]||i;if(l==="innerHTML"||l==="cssText"){const u=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[l]=n[i]}),Xt.createElement(t,s)}),Ct=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Cg(t,e.title,e.titleAttributes),toString:()=>Ig(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Md(e),toString:()=>Vd(e)};default:return{toComponent:()=>di(t,e),toString:()=>Ag(t,e,n)}}},Pg=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=$a(t,Ua.meta),i=$a(e,Ua.link),o=$a(n,Ua.script);return{priorityMethods:{toComponent:()=>[...di("meta",s.priority),...di("link",i.priority),...di("script",o.priority)],toString:()=>`${Ct("meta",s.priority,r)} ${Ct("link",i.priority,r)} ${Ct("script",o.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}},Rg=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:l="",titleAttributes:u,prioritizeSeoTags:h}=t;let{linkTags:d,metaTags:f,scriptTags:g}=t,p={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:g}=Pg(t)),{priority:p,base:Ct("base",e,r),bodyAttributes:Ct("bodyAttributes",n,r),htmlAttributes:Ct("htmlAttributes",s,r),link:Ct("link",d,r),meta:Ct("meta",f,r),noscript:Ct("noscript",i,r),script:Ct("script",g,r),style:Ct("style",o,r),title:Ct("title",{title:l,titleAttributes:u},r)}},xo=Rg,ti=[],Fd=!!(typeof window<"u"&&window.document&&window.document.createElement),yo=class{constructor(t,e){Yt(this,"instances",[]);Yt(this,"canUseDOM",Fd);Yt(this,"context");Yt(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ti:this.instances,add:t=>{(this.canUseDOM?ti:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ti:this.instances).indexOf(t);(this.canUseDOM?ti:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=xo({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Dg={},qd=Xt.createContext(Dg),Un,zd=(Un=class extends F.Component{constructor(n){super(n);Yt(this,"helmetData");this.helmetData=new yo(this.props.context||{},Un.canUseDOM)}render(){return Xt.createElement(qd.Provider,{value:this.helmetData.value},this.props.children)}},Yt(Un,"canUseDOM",Fd),Un),er=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Lt}]`),s=[].slice.call(r),i=[];let o;return e&&e.length&&e.forEach(l=>{const u=document.createElement(t);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h))if(h==="innerHTML")u.innerHTML=l.innerHTML;else if(h==="cssText")u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{const d=h,f=typeof l[d]>"u"?"":l[d];u.setAttribute(h,f)}u.setAttribute(Lt,"true"),s.some((h,d)=>(o=d,u.isEqualNode(h)))?s.splice(o,1):i.push(u)}),s.forEach(l=>{var u;return(u=l.parentNode)==null?void 0:u.removeChild(l)}),i.forEach(l=>n.appendChild(l)),{oldTags:s,newTags:i}},bo=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Lt),s=r?r.split(","):[],i=[...s],o=Object.keys(e);for(const l of o){const u=e[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),s.indexOf(l)===-1&&s.push(l);const h=i.indexOf(l);h!==-1&&i.splice(h,1)}for(let l=i.length-1;l>=0;l-=1)n.removeAttribute(i[l]);s.length===i.length?n.removeAttribute(Lt):n.getAttribute(Lt)!==o.join(",")&&n.setAttribute(Lt,o.join(","))},Lg=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=Od(t)),bo("title",e)},uu=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:u,scriptTags:h,styleTags:d,title:f,titleAttributes:g}=t;bo("body",r),bo("html",s),Lg(f,g);const p={baseTag:er("base",n),linkTags:er("link",i),metaTags:er("meta",o),noscriptTags:er("noscript",l),scriptTags:er("script",h),styleTags:er("style",d)},v={},E={};Object.keys(p).forEach(C=>{const{newTags:A,oldTags:R}=p[C];A.length&&(v[C]=A),R.length&&(E[C]=p[C].oldTags)}),e&&e(),u(t,v,E)},Wr=null,Og=t=>{Wr&&cancelAnimationFrame(Wr),t.defer?Wr=requestAnimationFrame(()=>{uu(t,()=>{Wr=null})}):(uu(t),Wr=null)},Vg=Og,hu=class extends F.Component{constructor(){super(...arguments);Yt(this,"rendered",!1)}shouldComponentUpdate(e){return!bg(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=jg(e.get().map(i=>{const o={...i.props};return delete o.context,o}));zd.canUseDOM?Vg(s):xo&&(r=xo(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},po,Mg=(po=class extends F.Component{shouldComponentUpdate(t){return!pg(cu(this.props,"helmetData"),cu(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return ou(lu.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${lu.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),ou(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Xt.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,o=Object.keys(i).reduce((u,h)=>(u[wg[h]||h]=i[h],u),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,s),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,s);break;default:e=this.mapObjectTypeChildren(r,e,o,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof yo)){const s=r;r=new yo(s.context,!0),delete n.helmetData}return r?Xt.createElement(hu,{...n,context:r.value}):Xt.createElement(qd.Consumer,null,s=>Xt.createElement(hu,{...n,context:s}))}},Yt(po,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),po);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...h},d)=>F.createElement("svg",{ref:d,...Fg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${qg(t)}`,l].join(" "),...h},[...e.map(([f,g])=>F.createElement(f,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=re("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=re("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=re("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=re("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=re("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ie=({children:t,className:e=""})=>a.jsx("div",{className:`container mx-auto px-4 md:px-6 lg:px-8 ${e}`,children:t}),ox=(t,e={})=>{if(t.startsWith("http"))return t;if(t.startsWith("/src/assets/")){const r=t.replace("/src/assets/","/assets/");return""+t.substring(1),r}return t.startsWith("/")?t:`/${t}`},lx=(t,e={sizes:[640,750,828,1080,1200,1920,2048,3840]})=>t.startsWith("http")?"":`${t} 1x, ${t} 2x`,cx=(t="#f3f4f6")=>{const e=`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100%" height="100%" fill="${t}"/></svg>`;return`data:image/svg+xml;base64,${btoa(e)}`},Qe=({src:t,alt:e,className:n="",style:r={},width:s,height:i,quality:o=75,sizes:l="100vw",loading:u="lazy",onLoad:h,placeholder:d,format:f="webp"})=>{const[g,p]=F.useState(!1),[v,E]=F.useState(d||cx()),[C,A]=F.useState(!1),[R,L]=F.useState(!1);F.useEffect(()=>{if(!R){const D=new Image,k=ox(t,{width:s,height:i,quality:o,format:f});D.src=k,D.onload=()=>{E(k),p(!0),h&&h()},D.onerror=()=>{if(t.startsWith("/src/assets/")){L(!0);const y="/"+t.substring(1),w=new Image;w.src=y,w.onload=()=>{E(y),p(!0),h&&h()},w.onerror=()=>{A(!0),E(t)}}else A(!0),E(t)}}return()=>{L(!1)}},[t]);const U=C?"":lx(t,{sizes:[640,750,828,1080,1200,1920,2048],quality:o,format:f}),W={...r,transition:"opacity 0.5s ease",opacity:g?1:.3};return a.jsx("img",{src:v,alt:e,className:`${n}`,style:W,width:s,height:i,loading:u,sizes:l,srcSet:U,onLoad:()=>p(!0),onError:()=>{if(t.startsWith("/src/assets/")&&!C&&!R){L(!0);const D="/"+t.substring(1);E(D)}else A(!0),E(t)}})},ux=(t,e,n,r)=>{var i,o,l,u;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Bn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&u.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},mu={},_o=(t,e,n,r)=>{Bn(n)&&mu[n]||(Bn(n)&&(mu[n]=new Date),ux(t,e,n,r))},Kd=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Eo=(t,e,n)=>{t.loadNamespaces(e,Kd(t,n))},fu=(t,e,n,r)=>{if(Bn(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Eo(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Kd(t,r))},hx=(t,e,n={})=>!e.languages||!e.languages.length?(_o(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),Bn=t=>typeof t=="string",dx=t=>typeof t=="object"&&t!==null,mx=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fx={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},px=t=>fx[t],gx=t=>t.replace(mx,px);let No={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gx};const xx=(t={})=>{No={...No,...t}},yx=()=>No;let Gd;const bx=t=>{Gd=t},wx=()=>Gd,Wd={type:"3rdParty",init(t){xx(t.options.react),bx(t)}},vx=F.createContext();class _x{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ex=(t,e)=>{const n=F.useRef();return F.useEffect(()=>{n.current=t},[t,e]),n.current},Jd=(t,e,n,r)=>t.getFixedT(e,n,r),Nx=(t,e,n,r)=>F.useCallback(Jd(t,e,n,r),[t,e,n,r]),Tx=(t,e={})=>{var U,W,D,k;const{i18n:n}=e,{i18n:r,defaultNS:s}=F.useContext(vx)||{},i=n||r||wx();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new _x),!i){_o(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const y=(N,_)=>Bn(_)?_:dx(_)&&Bn(_.defaultValue)?_.defaultValue:Array.isArray(N)?N[N.length-1]:N,w=[y,{},!1];return w.t=y,w.i18n={},w.ready=!1,w}(U=i.options.react)!=null&&U.wait&&_o(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...yx(),...i.options.react,...e},{useSuspense:l,keyPrefix:u}=o;let h=s||((W=i.options)==null?void 0:W.defaultNS);h=Bn(h)?[h]:h||["translation"],(k=(D=i.reportNamespaces).addUsedNamespaces)==null||k.call(D,h);const d=(i.isInitialized||i.initializedStoreOnce)&&h.every(y=>hx(y,i,o)),f=Nx(i,e.lng||null,o.nsMode==="fallback"?h:h[0],u),g=()=>f,p=()=>Jd(i,e.lng||null,o.nsMode==="fallback"?h:h[0],u),[v,E]=F.useState(g);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const A=Ex(C),R=F.useRef(!0);F.useEffect(()=>{const{bindI18n:y,bindI18nStore:w}=o;R.current=!0,!d&&!l&&(e.lng?fu(i,e.lng,h,()=>{R.current&&E(p)}):Eo(i,h,()=>{R.current&&E(p)})),d&&A&&A!==C&&R.current&&E(p);const N=()=>{R.current&&E(p)};return y&&(i==null||i.on(y,N)),w&&(i==null||i.store.on(w,N)),()=>{R.current=!1,i&&(y==null||y.split(" ").forEach(_=>i.off(_,N))),w&&i&&w.split(" ").forEach(_=>i.store.off(_,N))}},[i,C]),F.useEffect(()=>{R.current&&d&&E(g)},[i,u,d]);const L=[v,i,d];if(L.t=v,L.i18n=i,L.ready=d,d||!d&&!l)return L;throw new Promise(y=>{e.lng?fu(i,e.lng,h,()=>y()):Eo(i,h,()=>y())})},ne=t=>typeof t=="string",Jr=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},pu=t=>t==null?"":""+t,jx=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Sx=/###/g,gu=t=>t&&t.indexOf("###")>-1?t.replace(Sx,"."):t,xu=t=>!t||ne(t),ss=(t,e,n)=>{const r=ne(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(xu(t))return{};const i=gu(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return xu(t)?{}:{obj:t,k:gu(r[s])}},yu=(t,e,n)=>{const{obj:r,k:s}=ss(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=ss(t,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=ss(t,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},kx=(t,e,n,r)=>{const{obj:s,k:i}=ss(t,e,Object);s[i]=s[i]||[],s[i].push(n)},ki=(t,e)=>{const{obj:n,k:r}=ss(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Ix=(t,e,n)=>{const r=ki(t,n);return r!==void 0?r:ki(e,n)},Yd=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ne(t[r])||t[r]instanceof String||ne(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Yd(t[r],e[r],n):t[r]=e[r]);return t},tr=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ax={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Cx=t=>ne(t)?t.replace(/[&<>"'\/]/g,e=>Ax[e]):t;class Px{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Rx=[" ",",","?","!",";"],Dx=new Px(20),Lx=(t,e,n)=>{e=e||"",n=n||"";const r=Rx.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=Dx.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},To=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,l="";for(let u=i;u<r.length;++u)if(u!==i&&(l+=n),l+=r[u],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=o}return s},Ii=t=>t==null?void 0:t.replace("_","-"),Ox={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let Vx=class jo{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Ox,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(ne(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new jo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new jo(this.logger,e)}};var zt=new Vx;class ta{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class bu extends ta{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var h,d;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):ne(r)&&i?l.push(...r.split(i)):l.push(r)));const u=ki(this.data,l);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),u||!o||!ne(r)?u:To((d=(h=this.data)==null?void 0:h[e])==null?void 0:d[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=n,n=l[1]),this.addNamespaces(n),yu(this.data,l,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(ne(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let u=ki(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Yd(u,r,i):u={...u,...r},yu(this.data,l,u),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Xd={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const wu={},vu=t=>!ne(t)&&typeof t!="boolean"&&typeof t!="number";class Ai extends ta{constructor(e,n={}){super(),jx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Lx(e,r,s);if(o&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:ne(i)?[i]:i};const h=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),e=h.join(s)}return{key:e,namespaces:ne(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],s),h=u[u.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return g?i?{res:`${h}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${d}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:l;const p=this.resolve(e,s);let v=p==null?void 0:p.res;const E=(p==null?void 0:p.usedKey)||l,C=(p==null?void 0:p.exactUsedKey)||l,A=["[object Number]","[object Function]","[object RegExp]"],R=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,U=s.count!==void 0&&!ne(s.count),W=Ai.hasDefaultValue(s),D=U?this.pluralResolver.getSuffix(f,s.count,s):"",k=s.ordinal&&U?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",y=U&&!s.ordinal&&s.count===0,w=y&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${D}`]||s[`defaultValue${k}`]||s.defaultValue;let N=v;L&&!v&&W&&(N=w);const _=vu(N),j=Object.prototype.toString.apply(N);if(L&&N&&_&&A.indexOf(j)<0&&!(ne(R)&&Array.isArray(N))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,N,{...s,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(p.res=T,p.usedParams=this.getUsedParamsDetails(s),p):T}if(o){const T=Array.isArray(N),K=T?[]:{},Y=T?C:E;for(const fe in N)if(Object.prototype.hasOwnProperty.call(N,fe)){const le=`${Y}${o}${fe}`;W&&!v?K[fe]=this.translate(le,{...s,defaultValue:vu(w)?w[fe]:void 0,joinArrays:!1,ns:u}):K[fe]=this.translate(le,{...s,joinArrays:!1,ns:u}),K[fe]===le&&(K[fe]=N[fe])}v=K}}else if(L&&ne(R)&&Array.isArray(v))v=v.join(R),v&&(v=this.extendTranslation(v,e,s,r));else{let T=!1,K=!1;!this.isValidLookup(v)&&W&&(T=!0,v=w),this.isValidLookup(v)||(K=!0,v=l);const fe=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:v,le=W&&w!==v&&this.options.updateMissing;if(K||T||le){if(this.logger.log(le?"updateKey":"missingKey",f,h,l,le?w:v),o){const _e=this.resolve(l,{...s,keySeparator:!1});_e&&_e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let je=[];const Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let _e=0;_e<Oe.length;_e++)je.push(Oe[_e]);else this.options.saveMissingTo==="all"?je=this.languageUtils.toResolveHierarchy(s.lng||this.language):je.push(s.lng||this.language);const I=(_e,we,S)=>{var Ye;const ze=W&&S!==v?S:fe;this.options.missingKeyHandler?this.options.missingKeyHandler(_e,h,we,ze,le,s):(Ye=this.backendConnector)!=null&&Ye.saveMissing&&this.backendConnector.saveMissing(_e,h,we,ze,le,s),this.emit("missingKey",_e,h,we,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?je.forEach(_e=>{const we=this.pluralResolver.getSuffixes(_e,s);y&&s[`defaultValue${this.options.pluralSeparator}zero`]&&we.indexOf(`${this.options.pluralSeparator}zero`)<0&&we.push(`${this.options.pluralSeparator}zero`),we.forEach(S=>{I([_e],l+S,s[`defaultValue${S}`]||w)})}):I(je,l,w))}v=this.extendTranslation(v,e,s,p,r),K&&v===l&&this.options.appendNamespaceToMissingKey&&(v=`${h}${d}${l}`),(K||T)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${d}${l}`:l,T?v:void 0,s))}return i?(p.res=v,p.usedParams=this.getUsedParamsDetails(s),p):v}extendTranslation(e,n,r,s,i){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=ne(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let g=r.replace&&!ne(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||s.usedLng,r),d){const p=e.match(this.interpolator.nestingRegexp),v=p&&p.length;f<v&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(i==null?void 0:i[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=ne(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=Xd.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,l;return ne(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,n),d=h.key;s=d;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=n.count!==void 0&&!ne(n.count),p=g&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(ne(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(C=>{var A,R;this.isValidLookup(r)||(l=C,!wu[`${E[0]}-${C}`]&&((A=this.utils)!=null&&A.hasLoadedNamespace)&&!((R=this.utils)!=null&&R.hasLoadedNamespace(l))&&(wu[`${E[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(L=>{var D;if(this.isValidLookup(r))return;o=L;const U=[d];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(U,d,L,C,n);else{let k;g&&(k=this.pluralResolver.getSuffix(L,n.count,n));const y=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(U.push(d+k),n.ordinal&&k.indexOf(w)===0&&U.push(d+k.replace(w,this.options.pluralSeparator)),p&&U.push(d+y)),v){const N=`${d}${this.options.contextSeparator}${n.context}`;U.push(N),g&&(U.push(N+k),n.ordinal&&k.indexOf(w)===0&&U.push(N+k.replace(w,this.options.pluralSeparator)),p&&U.push(N+y))}}let W;for(;W=U.pop();)this.isValidLookup(r)||(i=W,r=this.getResource(L,C,W,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ne(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class _u{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zt.create("languageUtils")}getScriptPartFromCode(e){if(e=Ii(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ii(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ne(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ne(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ne(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ne(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const Eu={zero:0,one:1,two:2,few:3,many:4,other:5},Nu={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Mx{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=zt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Ii(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Nu;if(!e.match(/-|_/))return Nu;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Eu[s]-Eu[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Tu=(t,e,n,r=".",s=!0)=>{let i=Ix(t,e,n);return!i&&s&&ne(n)&&(i=To(t,n,r),i===void 0&&(i=To(e,n,r))),i},Ha=t=>t.replace(/\$/g,"$$$$");class Fx{constructor(e={}){var n;this.logger=zt.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:u,formatSeparator:h,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:E,nestingOptionsSeparator:C,maxReplaces:A,alwaysFormat:R}=e.interpolation;this.escape=n!==void 0?n:Cx,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?tr(i):o||"{{",this.suffix=l?tr(l):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=g?tr(g):p||tr("$t("),this.nestingSuffix=v?tr(v):E||tr(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=A||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var p;let i,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=v=>{if(v.indexOf(this.formatSeparator)<0){const R=Tu(n,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,r,{...s,...n,interpolationkey:v}):R}const E=v.split(this.formatSeparator),C=E.shift().trim(),A=E.join(this.formatSeparator).trim();return this.format(Tu(n,u,C,this.options.keySeparator,this.options.ignoreJSONStructure),A,r,{...s,...n,interpolationkey:C})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>Ha(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?Ha(this.escape(v)):Ha(v)}].forEach(v=>{for(l=0;i=v.regex.exec(e);){const E=i[1].trim();if(o=h(E),o===void 0)if(typeof d=="function"){const A=d(e,i,s);o=ne(A)?A:""}else if(s&&Object.prototype.hasOwnProperty.call(s,E))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),o="";else!ne(o)&&!this.useRawValueToEscape&&(o=pu(o));const C=v.safeValue(o);if(e=e.replace(i[0],C),f?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const l=(u,h)=>{const d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;const f=u.split(new RegExp(`${d}[ ]*{`));let g=`{${f[1]}`;u=f[0],g=this.interpolate(g,o);const p=g.match(/'/g),v=g.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!v||v.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,E),`${u}${d}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];o={...r},o=o.replace&&!ne(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=d.shift(),u=d,h=!0}if(i=n(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&!ne(i))return i;ne(i)||(i=pu(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),h&&(i=u.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const qx=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...u]=o.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=h),h==="false"&&(n[d]=!1),h==="true"&&(n[d]=!0),isNaN(h)||(n[d]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},nr=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=e[o];return l||(l=t(Ii(r),s),e[o]=l),l(n)}};class zx{constructor(e={}){this.logger=zt.create("formatter"),this.options=e,this.formats={number:nr((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:nr((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:nr((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:nr((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:nr((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=nr(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,u)=>{var f;const{formatName:h,formatOptions:d}=qx(u);if(this.formats[h]){let g=l;try{const p=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},v=p.locale||p.lng||s.locale||s.lng||r;g=this.formats[h](l,v,{...d,...s,...p})}catch(p){this.logger.warn(p)}return g}else this.logger.warn(`there was no format function for ${h}`);return l},e)}}const Ux=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Bx extends ta{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},l={},u={};return e.forEach(h=>{let d=!0;n.forEach(f=>{const g=`${h}|${f}`;!r.reload&&this.store.hasResourceBundle(h,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,d=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),u[f]===void 0&&(u[f]=!0)))}),d||(l[h]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(u=>{kx(u.loaded,[i],o),Ux(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{l[h]||(l[h]={});const d=u.loaded[h];d.length&&d.forEach(f=>{l[h][f]===void 0&&(l[h][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(h,d)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,n);h&&typeof h.then=="function"?h.then(d=>l(null,d)).catch(l):l(null,h)}catch(h){l(h)}return}return u(e,n,l)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ne(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ne(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,n,r,s,i,o={},l=()=>{}){var u,h,d,f,g;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const p={...o,isUpdate:i},v=this.backend.create.bind(this.backend);if(v.length<6)try{let E;v.length===5?E=v(e,n,r,s,p):E=v(e,n,r,s),E&&typeof E.then=="function"?E.then(C=>l(null,C)).catch(l):l(null,E)}catch(E){l(E)}else v(e,n,r,s,l,p)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const ju=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ne(t[1])&&(e.defaultValue=t[1]),ne(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Su=t=>{var e,n;return ne(t.ns)&&(t.ns=[t.ns]),ne(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ne(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},ni=()=>{},$x=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ps extends ta{constructor(e={},n){if(super(),this.options=Su(e),this.services={},this.logger=zt,this.modules={external:[]},$x(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ne(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=ju();this.options={...r,...this.options,...Su(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?zt.init(s(this.modules.logger),this.options):zt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=zx;const d=new _u(this.options);this.store=new bu(this.options.resources,this.options);const f=this.services;f.logger=zt,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Mx(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(h),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Fx(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Bx(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(g,...p)=>{this.emit(g,...p)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Ai(this.services,this.options),this.translator.on("*",(g,...p)=>{this.emit(g,...p)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ni),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...d)=>this.store[h](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...d)=>(this.store[h](...d),this)});const l=Jr(),u=()=>{const h=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,n=ni){var i,o;let r=n;const s=ne(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,h=>u(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const s=Jr();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=ni),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Xd.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Jr();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?this.isLanguageChangingTo===e&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(l,(...h)=>this.t(...h))},o=l=>{var d,f;!e&&!l&&this.services.languageDetector&&(l=[]);const u=ne(l)?l:l&&l[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(ne(l)?[l]:l);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,h)),this.loadResources(h,g=>{i(g,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...l)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(l)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||s.keyPrefix);const h=this.options.keySeparator||".";let d;return u.keyPrefix&&Array.isArray(i)?d=i.map(f=>`${u.keyPrefix}${h}${f}`):d=u.keyPrefix?`${u.keyPrefix}${h}${i}`:i,this.t(d,u)};return ne(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,u)=>{const h=this.services.backendConnector.state[`${l}|${u}`];return h===-1||h===0||h===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=Jr();return this.options.ns?(ne(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Jr();ne(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new _u(ju());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new ps(e,n)}cloneInstance(e={},n=ni){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new ps(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((d,f)=>(d[f]={...u[h][f]},d),u[h]),u),{});i.store=new bu(l,s),i.services.resourceStore=i.store}return i.translator=new Ai(i.services,s),i.translator.on("*",(l,...u)=>{i.emit(l,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Re=ps.createInstance();Re.createInstance=ps.createInstance;Re.createInstance;Re.dir;Re.init;Re.loadResources;Re.reloadResources;Re.use;Re.changeLanguage;Re.getFixedT;Re.t;Re.exists;Re.setDefaultNamespace;Re.hasLoadedNamespace;Re.loadNamespaces;Re.loadLanguages;const{slice:Hx,forEach:Qx}=[];function Kx(t){return Qx.call(Hx.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Gx(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const ku=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Wx=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!ku.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!ku.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Iu={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=Wx(t,encodeURIComponent(e),s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t){this.create(t,"",-1)}};var Jx={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Iu.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&Iu.create(n,t,r,s,i)}},Yx={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let l=0;l<o.length;l++){const u=o[l].indexOf("=");u>0&&o[l].substring(0,u)===e&&(n=o[l].substring(u+1))}}return n}};let rr=null;const Au=()=>{if(rr!==null)return rr;try{if(rr=typeof window<"u"&&window.localStorage!==null,!rr)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{rr=!1}return rr};var Xx={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Au())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Au()&&window.localStorage.setItem(n,t)}};let sr=null;const Cu=()=>{if(sr!==null)return sr;try{if(sr=typeof window<"u"&&window.sessionStorage!==null,!sr)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{sr=!1}return sr};var Zx={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Cu())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Cu()&&window.sessionStorage.setItem(n,t)}},ey={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},ty={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},ny={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},ry={name:"subdomain",lookup(t){var s,i;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let Zd=!1;try{document.cookie,Zd=!0}catch{}const em=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Zd||em.splice(1,1);const sy=()=>({order:em,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class dl{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Kx(n,this.options||{},sy()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Jx),this.addDetector(Yx),this.addDetector(Xx),this.addDetector(Zx),this.addDetector(ey),this.addDetector(ty),this.addDetector(ny),this.addDetector(ry)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!Gx(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}dl.type="languageDetector";const iy={home:"Accueil",pricing:"Tarifs",instructors:"Instructeurs",contact:"Contact",faq:"FAQ",gallery:"Galerie",questions:"Questions",blog:"Blog",login:"Connexion",logout:"Déconnexion",admin:"Administration"},ay={welcome:"Bienvenue à Zen Fitness Tokyo",subtitle:"Votre chemin vers l'équilibre mental et physique",getStarted:"Commencer",aboutSoftis:"Qu'est-ce que Softis ?",pilatesLedByTherapist:"Pilates personnalisé dirigé par un physiothérapeute",studioDescription:"Un studio qui ouvrira ses portes dans un emplacement idéal à 1 minute à pied de la gare de Toyota. Vous pouvez recevoir des cours personnalisés d'un instructeur de Pilates certifié en physiothérapie.",expertInstruction:"Instruction spécialisée",oneMinWalk:"À 1 minute à pied de la gare",studioFeatures:"Caractéristiques de notre studio",feature1:"Cours spécialisés dispensés par un instructeur qualifié en physiothérapie",feature2:"Cours personnalisés accessibles même aux débutants et à ceux qui ne sont pas à l'aise avec l'exercice",feature3:"Nombreux équipements de Pilates disponibles",feature4:"Facilité de poursuite grâce à l'accessibilité ! Emplacement idéal près de la gare et parking gratuit",whatHappensPilates:"Que se passe-t-il quand vous pratiquez le Pilates ?",recommendedFor:"Softis est recommandé pour ces personnes",recommendation1:"Vous vous sentez raide et un peu mal à l'aise",recommendation2:"Vous avez des douleurs aux épaules, au cou, au dos ou aux genoux",recommendation3:"Vous n'êtes pas satisfait de votre posture",recommendation4:"Vous n'êtes pas satisfait des cours de Pilates en groupe ou êtes gêné par le regard des autres",recommendation5:"Vous voulez connaître les caractéristiques de votre corps",pilatesEffects:"Effets du Pilates (peuvent varier selon les personnes)",effect1:"Votre corps devient convenablement souple et vous vous sentez rafraîchi",effect2:"Les douleurs et la fatigue sont soulagées",effect3:"Votre posture s'améliore et votre aura change",effect4:"Votre système nerveux autonome se régule et votre pensée devient positive",effect5:"Vous connaissez les caractéristiques de votre corps et savez ce dont vous devez être conscient au quotidien",comingSoon:"Bientôt disponible...",howToUse:"Comment utiliser nos services",step1Title:"Inscription LINE",step1Description:"Inscrivez-vous à notre LINE officielle et demandez un cours d'essai",step2Title:"Premier cours d'essai",step2Description:"Venez au studio pour votre premier cours d'essai",firstLesson:"Prenez votre premier cours d'essai",bookWithLine:"Réserver via LINE",machines:"Équipements complets",machinesDescription:"Chez Softis, nous disposons des derniers équipements de Pilates pour vous offrir des exercices adaptés à votre corps",reformer:"Reformer",reformerDescription:"Machine emblématique du Pilates. Utilisez la résistance des ressorts pour tonifier harmonieusement tous les muscles du corps.",barrel:"Barrel",barrelDescription:"Machine particulièrement efficace pour améliorer la flexibilité de la colonne vertébrale et la posture. Soutient la courbure naturelle de la colonne vertébrale.",chair:"Chair",chairDescription:"Efficace pour la stabilité du tronc et le renforcement du haut et du bas du corps. Améliore également l'équilibre.",specialMachine1:"Machine spéciale 1",specialMachine1Description:"Machine spécialisée pour les mouvements de Pilates. Cible efficacement diverses parties du corps.",tower:"Tower",towerDescription:"Vous vous déplacez en manipulant librement des ressorts sur une plateforme fixe.",spineCorrector:"Spine Corrector",spineCorrectorDescription:"Une machine qui corrige le mouvement et la forme de la colonne vertébrale. Pour les personnes dont le corps est raide, l'utilisation de cette courbure pour déplacer la colonne vertébrale peut faciliter le mouvement.",specialMachine4:"Machine spéciale 4",specialMachine4Description:"Conception réglable adaptée à tous les types de corps et niveaux. Permet un entraînement personnalisé pour vous.",viewMore:"Voir plus"},oy={title:"Tarifs",subtitle:"Nous proposons différentes options adaptées à vos besoins",priceList:"Tableau des prix",openingCampaign:"Offre spéciale d'ouverture pour les 20 premiers clients",recommended:"Recommandé",firstTrial:"Premier essai",firstTrialDesc:"Essayez l'entraînement à un prix spécial.",firstTrialPrice:"3000 yens",bookNow:"Réserver maintenant",fiveTickets:"Carnet de 5 séances",fiveTicketsDesc:"Tickets flexibles à tarif avantageux.",fiveTicketsPrice:"39000 yens",tenTickets:"Carnet de 10 séances",tenTicketsDesc:"Idéal pour un entraînement régulier avec des résultats durables.",tenTicketsPrice:"80000 yens",choose:"Choisir",normalPrice:"Prix normal : 5000 yens",professionalEvaluation:"Évaluation fitness professionnelle",individualProgram:"Programme personnalisé",nutritionAdvice:"Conseils en nutrition",limitedOffer:"Offre limitée aux 20 premiers clients",perSession:"par séance",validityMonths:"Validité : 3 mois",paymentOptions:"Paiement en espèces ou carte de crédit possible",personalFollow:"Suivi personnalisé",perSession2:"par séance",validityMonths2:"Validité : 5 mois",cashOrBankTransfer:"Paiement en espèces ou par virement bancaire uniquement",customProgram:"Programme sur mesure",detailedProgress:"Suivi détaillé des progrès",priceDetails:"Détails des tarifs",openingCampaignDetails:"Campagne d'ouverture : offre spéciale limitée aux 20 premiers clients !",membershipFee:"Frais d'adhésion",membershipFeeDesc:"Pour la campagne d'ouverture, les frais d'adhésion sont gratuits pour les 20 premiers clients !",singleSession:"Session unique",singleSessionPrice:"9000 yens / séance",singleSessionDesc:"Paiement possible en espèces ou par carte de crédit.",paymentAndCancellation:"Paiement et politique d'annulation",paymentMethods:"Modes de paiement",ticketValidity:"※ Les carnets de tickets ont une date d'expiration. 5 séances → 3 mois, 10 séances → 5 mois",paymentOptionsDetails:"※ Les frais pour la première séance, l'adhésion, les tickets uniques et les carnets de 5 séances peuvent être payés par : espèces, carte de crédit",tenTicketPayment:"※ Les carnets de 10 séances peuvent être payés uniquement en espèces ou par virement bancaire (frais de virement à la charge du client).",cancellationPolicy:"Politique d'annulation",cancelPolicyRule1:"・ Pour modifier ou annuler une séance, veuillez le faire via le site de réservation avant 9h00 la veille de la séance.",cancelPolicyRule2:"Pour les annulations après ce délai, veuillez contacter notre LINE officiel.",cancelPolicyRule3:"Dans ce cas, 100% du prix de la séance sera facturé ou une séance sera déduite de votre carnet. (Des exceptions peuvent être accordées, n'hésitez pas à nous consulter)."},ly={title:"Nos instructeurs",viewProfile:"Voir le profil",subtitle:"Les instructeurs de Softis vous accompagnent vers une meilleure santé grâce à leur expertise et leur expérience.",akimaMayu:"Akima Mayu",ownerInstructor:"Propriétaire et instructrice de Pilates",greeting:"Message de bienvenue",greetingContent:"Bonjour, je suis Akima Mayu, propriétaire de Softis. J'ai travaillé comme physiothérapeute en milieu hospitalier et j'ai réalisé l'importance d'un corps en bonne santé. À travers le Pilates, je souhaite vous faire découvrir l'importance des soins corporels quotidiens et d'aimer votre corps.",qualifications:"Qualifications",qualification1:"Physiothérapeute (expérience en milieu hospitalier certifié par l'Organisation japonaise des hôpitaux)",qualification2:"Instructrice certifiée Pilates BESJ",qualification3:"Instructrice certifiée Pilates PAC",qualification4:"Qualification en anatomie fonctionnelle Pilates®️",qualification5:"Qualification de spécialiste en alimentation",message:"Message",messageContent:"Le Pilates n'est pas seulement un exercice, c'est un moment pour se connecter avec soi-même. Que vous soyez raide, que vous ayez des douleurs ou que vous soyez préoccupé par votre posture, tout ira bien. Avec un programme adapté à votre corps, vous ressentirez des changements sans effort excessif. Célébrons ensemble vos réussites !",specialties:"Spécialités",specialty1:"Pilates",specialty2:"Amélioration de la posture",specialty3:"Prévention des douleurs",specialty4:"Amélioration fonctionnelle du corps",teachingPhilosophy:"Philosophie d'enseignement",threePromises:"Trois promesses",promise1:"Enseignement individualisé axé sur la sécurité",promise1Desc:"Programmes sécurisés basés sur les connaissances en physiothérapie",promise2:"Équilibre entre le corps et l'esprit",promise2Desc:"Approche holistique mettant l'accent sur la pleine conscience",promise3:"Formation d'habitudes durables",promise3Desc:"Exercices faciles à intégrer dans la vie quotidienne",treatableCases:"Cas traités",case1:"Douleurs chroniques des épaules et du dos",case2:"Soins pré et post-nataux",case3:"Correction de la posture voûtée et du dos cambré",case4:"Amélioration des performances sportives",case5:"Réduction du stress",case6:"Amélioration de la mobilité corporelle",quote:`"La véritable santé commence par écouter son corps.
Cheminons ensemble vers votre 'corps idéal'."`},cy={title:"Contactez-nous",name:"Nom",email:"Email",message:"Message",send:"Envoyer",success:"Votre message a été envoyé avec succès",error:"Une erreur s'est produite lors de l'envoi du message",seoTitle:"Accès et contact | Studio de Pilates à 1 minute à pied de la gare de Toyota",seoDescription:"Comment accéder au studio de Pilates Softis à 1 minute à pied de la gare de Toyota. 2e étage du bâtiment Central, 1-26 Wakamiya-cho, Toyota, préfecture d'Aichi. Parking gratuit disponible.",seoKeywords:"accès, gare de Toyota, 1 minute à pied, studio de Pilates, contact, Toyota Aichi, parking gratuit, ligne Meitetsu Toyota",headerImageAlt:"Image d'arrière-plan contact",access:"Accès",accessSubtitle:"À 1 minute à pied de la gare de Toyota, ligne Meitetsu",accessInformation:"Informations d'accès",address:"Adresse",addressLine1:"1-26 Wakamiya-cho, Toyota",addressLine2:"2e étage du bâtiment Central",addressLine3:"Le bâtiment jaune avec minimini au premier étage",accessDetails:"Détails d'accès",accessDetailsLine1:"Utilisez le bâtiment Central comme point de repère",accessDetailsLine2:"Montez au 2e étage par l'escalier à gauche du bâtiment",publicTransport:"Transports en commun",meitetsuLine:"Ligne Meitetsu Toyota",toyotaStationAccess:"1 minute à pied de la gare de Toyota",aichiLoop:"Chemin de fer en boucle Aichi",shinToyotaAccess:"4 minutes à pied de la gare de Shin-Toyota",mapTitle:"1-26 Wakamiya-cho, Toyota, préfecture d'Aichi, 2e étage du bâtiment Central",studioImage:"Studio Softis",parkingInfo:"Informations de stationnement",parkingDetails:"Veuillez vous garer ailleurs qu'à l'emplacement marqué 4F tout à gauche",formDescription:"Si vous avez des questions, des commentaires ou des demandes, n'hésitez pas à nous contacter via le formulaire ci-dessous. Nous vous répondrons dans les 24 heures.",phone:"Numéro de téléphone",subject:"Sujet",privacyConsent:"J'accepte la politique de confidentialité",formSubmitSuccess:"Votre demande a été reçue. Nous vous contacterons prochainement."},uy={seoTitle:"Blog - Studio de Pilates Softis",seoDescription:"Informations utiles sur le Pilates, l'amélioration de la posture et un mode de vie sain. Conseils pratiques du studio de Pilates Softis à Toyota.",seoKeywords:"Pilates, blog, amélioration de la posture, santé, exercice, Softis, studio de Pilates",title:"Blog",subtitle:"Nous partageons des informations sur le Pilates, la santé et l'amélioration de la posture",categories:"Catégories",allCategories:"Toutes",loading:"Chargement des articles du blog...",comments:"commentaires",readMore:"Lire la suite",noPostsFound:"Aucun article trouvé.",writeNewPost:"Écrire un nouvel article",schemaHeadline:"Blog Softis Pilates - Informations sur la santé, l'amélioration de la posture et le Pilates",schemaDescription:"Informations utiles sur le Pilates, l'amélioration de la posture et un mode de vie sain. Conseils pratiques du studio de Pilates Softis à Toyota.",schemaAuthorName:"Studio de Pilates Softis",schemaPublisherName:"Studio de Pilates Softis"},hy={seoTitle:"FAQ - Studio de Pilates Softis",seoDescription:"Nous avons rassemblé les questions fréquemment posées sur le studio de Pilates Softis. Informations sur les réservations, les objets à apporter et les procédures d'annulation.",seoKeywords:"Pilates, questions fréquentes, FAQ, débutant, méthode de réservation, annulation, objets à apporter, Softis, studio de Pilates",title:"Questions fréquentes",subtitle:"Nous répondons à vos questions concernant Softis",loading:"Chargement de la FAQ...",staffAnswers:"Réponses de notre équipe",noFaqData:"Aucune donnée FAQ disponible.",customerQuestions:"Questions fréquentes de nos clients",moreQuestions:"Vous avez d'autres questions ?",contactInvitation:"Si vous avez d'autres questions, n'hésitez pas à nous contacter.",postQuestion:"Poser une question",contactUs:"Contactez-nous"},dy={studioDescription:"Studio de Pilates personnel à Toyota dirigé par un physiothérapeute",quickLinks:"Liens rapides",access:"Accès",address:"1-26 Wakamiya-cho, Toyota, Aichi - Bâtiment Central, 2ème étage",stationAccess:"1 minute à pied de la gare de Toyota sur la ligne Meitetsu",allRightsReserved:"Tous droits réservés."},my={title:"Posez votre question ici",submissionError:"Un problème est survenu lors de l'envoi de votre question. Veuillez réessayer.",generalError:"Une erreur s'est produite. Veuillez réessayer plus tard.",successMessage:"Merci pour votre question. Notre équipe vous répondra dès que possible.",name:"Nom",email:"Email",emailNote:"Nous vous enverrons la réponse par email",question:"Question",submitting:"Envoi en cours...",submit:"Envoyer ma question"},fy={faq:"Gestion FAQ",blog:"Gestion Blog",firebase:"Firebase",translations:"Traductions",logout:"Déconnexion",dashboard:"Tableau de bord",saveChanges:"Enregistrer les modifications",saving:"Enregistrement en cours...",saved:"Enregistré avec succès",error:"Une erreur est survenue",filters:"Filtres",all:"Tous",pending:"En attente",answered:"Répondus",published:"Publié",draft:"Brouillon",search:"Rechercher...",userInfo:"Informations utilisateur",questionContent:"Contenu de la question",answer:"Réponse",date:"Date",status:"Statut",comments:"Commentaires",actions:"Actions",edit:"Modifier",delete:"Supprimer",save:"Enregistrer",cancel:"Annuler",confirmDelete:"Êtes-vous sûr de vouloir supprimer cet élément ?",yes:"Oui",no:"Non",dataManagement:"Gestion des données",export:"Exporter",import:"Importer",refreshInterface:"Rafraîchir l'interface",initializeDatabase:"Initialiser la base de données",noResults:"Aucun résultat trouvé",loading:"Chargement en cours...",processing:"Traitement en cours...",author:"Auteur",email:"Email",content:"Contenu",title:"Titre",imageUrl:"URL de l'image",tags:"Tags",addTag:"Ajouter un tag",preview:"Aperçu",publishAnswer:"Publier la réponse",approveComment:"Approuver le commentaire",translationManagement:"Gestion des traductions",key:"Clé",french:"Français",english:"Anglais",japanese:"Japonais",editingLanguage:"Langue d'édition",showMore:"Afficher plus",showLess:"Afficher moins"},py={title:"Questions fréquentes",subtitle:"Vous avez des questions ? N'hésitez pas à nous les poser.",yourQuestion:"Votre question",yourEmail:"Votre adresse e-mail",yourName:"Votre nom",questionPlaceholder:"Posez votre question ici...",submitting:"Envoi en cours...",submit:"Envoyer ma question",list:"Liste des questions",details:"Détails de la question",answerPlaceholder:"Saisissez votre réponse ici...",noAnswer:"Aucune réponse pour le moment",answerDate:"Date de réponse",selectQuestion:"Veuillez sélectionner une question",selectFromList:"Sélectionnez une question dans la liste à gauche"},Ci={common:iy,home:ay,pricing:oy,instructors:ly,contact:cy,blog:uy,faq:hy,footer:dy,questionForm:my,admin:fy,questions:py},gy={home:"Home",pricing:"Pricing",instructors:"Instructors",contact:"Contact",faq:"FAQ",gallery:"Gallery",questions:"Questions",blog:"Blog",login:"Login",logout:"Logout",admin:"Admin"},xy={welcome:"Welcome to Zen Fitness Tokyo",subtitle:"Your path to mental and physical balance",getStarted:"Get Started",aboutSoftis:"What is Softis?",pilatesLedByTherapist:"Pilates led by a physical therapist",studioDescription:"A studio opening in a prime location just 1 minute walk from Toyota Station. You can receive personal lessons from Pilates instructors certified in physical therapy.",expertInstruction:"Expert instruction",oneMinWalk:"1 minute walk from station",studioFeatures:"Our Studio Features",feature1:"Specialized lessons by instructors with physical therapy qualifications",feature2:"Personal lessons that are safe for beginners and those who are not comfortable with exercise",feature3:"Multiple Pilates machines available",feature4:"Easy to continue because it's easy to get to! Great location near the station and free parking",whatHappensPilates:"What happens when you do Pilates?",recommendedFor:"Softis is recommended for these people",recommendation1:"Your body feels stiff and somehow uncomfortable",recommendation2:"You have shoulder, neck, back, or knee pain",recommendation3:"You are not satisfied with your posture",recommendation4:"You are not satisfied with group Pilates lessons or are concerned about others watching you",recommendation5:"You want to know about your body's characteristics",pilatesEffects:"Effects of Pilates (results may vary)",effect1:"Your body becomes appropriately flexible and you feel refreshed",effect2:"Pain and fatigue are relieved",effect3:"Your posture improves and your aura changes",effect4:"Your autonomic nervous system is regulated and your thinking becomes positive",effect5:"You learn about your body's characteristics and what to be aware of in daily life",comingSoon:"Coming Soon...",howToUse:"How to Use Our Services",step1Title:"LINE Registration",step1Description:"Register for our official LINE account and apply for a trial session",step2Title:"First Trial Lesson",step2Description:"Visit the studio and take your first trial lesson",firstLesson:"Take your first trial lesson",bookWithLine:"Book with LINE",machines:"Comprehensive Machine Equipment",machinesDescription:"At Softis, we offer the latest Pilates machines to provide exercises tailored to your body",reformer:"Reformer",reformerDescription:"The iconic Pilates machine. Using spring resistance to train muscles throughout the body in a balanced way.",barrel:"Barrel",barrelDescription:"A machine particularly effective for improving spine flexibility and posture. Supports the natural curve of the spine.",chair:"Chair",chairDescription:"Effective for core stability and strengthening the upper and lower body. Also improves balance ability.",specialMachine1:"Special Machine 1",specialMachine1Description:"A specialized machine for Pilates movements. Efficiently targets various parts of the body.",tower:"Tower",towerDescription:"You move while freely handling moving springs on a fixed platform.",spineCorrector:"Spine Corrector",spineCorrectorDescription:"A machine that corrects the movement and shape of the spine. For people with stiff bodies, using this curve to move the spine can make movement easier.",specialMachine4:"Special Machine 4",specialMachine4Description:"Adjustable design that accommodates all body types and levels. Allows for training customized to you.",viewMore:"View More"},yy={title:"Contact Us",name:"Name",email:"Email",message:"Message",send:"Send",success:"Your message has been sent successfully",error:"An error occurred while sending your message",seoTitle:"Access & Contact | Pilates Studio 1 Minute Walk from Toyota Station",seoDescription:"How to access Softis Pilates Studio, just 1 minute walk from Toyota Station. Located on the 2nd floor of Central Building, 1-26 Wakamiya-cho, Toyota, Aichi. Free parking available.",seoKeywords:"access, Toyota station, 1 minute walk, Pilates studio, contact, Toyota Aichi, free parking, Meitetsu Toyota line",headerImageAlt:"Contact background image",access:"Access",accessSubtitle:"1 minute walk from Meitetsu Toyota Station",accessInformation:"Access Information",address:"Address",addressLine1:"1-26 Wakamiya-cho, Toyota",addressLine2:"Central Building 2nd Floor",addressLine3:"Yellow building with minimini on the first floor",accessDetails:"Access Details",accessDetailsLine1:"Look for the Central Building as your landmark",accessDetailsLine2:"Use the stairs on the left side of the building to reach the 2nd floor",publicTransport:"Public Transportation",meitetsuLine:"Meitetsu Toyota Line",toyotaStationAccess:"1 minute walk from Toyota Station",aichiLoop:"Aichi Loop Railway",shinToyotaAccess:"4 minute walk from Shin-Toyota Station",mapTitle:"1-26 Wakamiya-cho, Toyota, Aichi Prefecture, Central Building 2nd Floor",studioImage:"Softis Studio",parkingInfo:"Parking Information",parkingDetails:"Please park anywhere except the space marked 4F on the far left",formDescription:"If you have any questions, comments, or inquiries, please feel free to contact us using the form below. We will respond within 24 hours.",phone:"Phone Number",subject:"Subject",privacyConsent:"I agree to the privacy policy",formSubmitSuccess:"Your inquiry has been received. We will contact you soon."},by={title:"Pricing",subtitle:"We offer various options to meet your needs",priceList:"Price List",openingCampaign:"Opening campaign special offer for the first 20 customers",recommended:"Recommended",firstTrial:"First Trial",firstTrialDesc:"Try training at a special price.",firstTrialPrice:"3,000 yen",bookNow:"Book Now",fiveTickets:"5-Session Ticket",fiveTicketsDesc:"Flexible tickets at an advantageous price.",fiveTicketsPrice:"39,000 yen",tenTickets:"10-Session Ticket",tenTicketsDesc:"Ideal for regular training with lasting results.",tenTicketsPrice:"80,000 yen",choose:"Choose",normalPrice:"Regular price: 5,000 yen",professionalEvaluation:"Professional fitness evaluation",individualProgram:"Individual program",nutritionAdvice:"Nutrition advice",limitedOffer:"Limited offer for first 20 customers",perSession:"per session",validityMonths:"Validity: 3 months",paymentOptions:"Cash or credit card payment available",personalFollow:"Personal follow-up",perSession2:"per session",validityMonths2:"Validity: 5 months",cashOrBankTransfer:"Cash or bank transfer payment only",customProgram:"Custom program",detailedProgress:"Detailed progress tracking",priceDetails:"Price Details",openingCampaignDetails:"Opening campaign: special offer limited to the first 20 customers!",membershipFee:"Membership Fee",membershipFeeDesc:"As part of our opening campaign, membership fees are free for the first 20 customers!",singleSession:"Single Session",singleSessionPrice:"9,000 yen / session",singleSessionDesc:"Payment can be made by cash or credit card.",paymentAndCancellation:"Payment and Cancellation Policy",paymentMethods:"Payment Methods",ticketValidity:"※ Ticket packages have an expiration date. 5 sessions → 3 months, 10 sessions → 5 months",paymentOptionsDetails:"※ First-time trial fees, membership fees, single tickets, and 5-session tickets can be paid by: cash, credit card",tenTicketPayment:"※ 10-session tickets can only be paid by cash or bank transfer (transfer fees to be borne by the customer).",cancellationPolicy:"Cancellation Policy",cancelPolicyRule1:"・ To change or cancel a session, please do so through the reservation site by 9:00 AM the day before the session.",cancelPolicyRule2:"For cancellations after this time, please contact our official LINE.",cancelPolicyRule3:"In this case, 100% of the session fee will be charged or one session will be deducted from your ticket package. (Exceptions may be granted, please consult with us)."},wy={title:"Our Instructors",viewProfile:"View Profile",subtitle:"Softis instructors support your health with specialized knowledge and extensive experience.",akimaMayu:"Akima Mayu",ownerInstructor:"Owner & Pilates Instructor",greeting:"Greeting",greetingContent:"Hello, I'm Akima Mayu, the owner of Softis. I have experience working as a physical therapist in hospitals and realized the importance of maintaining a healthy body. Through Pilates, I want to share the importance of daily body care and loving your own body.",qualifications:"Qualifications",qualification1:"Physical Therapist (experience in Japan Hospital Certified Organization)",qualification2:"BESJ Pilates Certified Instructor",qualification3:"PAC Pilates Certified Instructor",qualification4:"Pilates Functional Anatomy®️ Qualification",qualification5:"Food Master Qualification",message:"Message",messageContent:"Pilates is not just an exercise, it's a time to connect with yourself. Whether you're stiff, in pain, or concerned about your posture, it's okay. With a program tailored to your body, you'll feel changes without excessive effort. Let's celebrate your 'I did it!' moments together!",specialties:"Specialties",specialty1:"Pilates",specialty2:"Posture improvement",specialty3:"Pain prevention",specialty4:"Body functional improvement",teachingPhilosophy:"Teaching Philosophy",threePromises:"Three Promises",promise1:"Safety-first individualized instruction",promise1Desc:"Safe programs based on physical therapy knowledge",promise2:"Body and mind balance",promise2Desc:"Holistic approach emphasizing mindfulness",promise3:"Sustainable habit formation",promise3Desc:"Exercises that are easy to incorporate into daily life",treatableCases:"Treatable Cases",case1:"Chronic shoulder and back pain",case2:"Pre and post-natal body care",case3:"Rounded shoulders and swayback posture correction",case4:"Sports performance improvement",case5:"Stress reduction",case6:"Body mobility improvement",quote:`"True health begins with listening to your body.
Let's walk together toward your 'ideal body'."`},vy={seoTitle:"Blog - Softis Pilates Studio",seoDescription:"Valuable information about Pilates, posture improvement, and healthy living. Practical advice from Softis Pilates Studio in Toyota.",seoKeywords:"Pilates, blog, posture improvement, health, exercise, Softis, Pilates studio",title:"Blog",subtitle:"We share information about Pilates, health, and posture improvement",categories:"Categories",allCategories:"All",loading:"Loading blog posts...",comments:"comments",readMore:"Read more",noPostsFound:"No posts found.",writeNewPost:"Write a new post",schemaHeadline:"Softis Pilates Blog - Information on Health, Posture Improvement, and Pilates",schemaDescription:"Valuable information about Pilates, posture improvement, and healthy living. Practical advice from Softis Pilates Studio in Toyota.",schemaAuthorName:"Softis Pilates Studio",schemaPublisherName:"Softis Pilates Studio"},_y={seoTitle:"FAQ - Softis Pilates Studio",seoDescription:"We have compiled frequently asked questions about Softis Pilates Studio. Information about lesson reservations, what to bring, and cancellation procedures.",seoKeywords:"Pilates, frequently asked questions, FAQ, beginner, reservation method, cancellation, what to bring, Softis, Pilates studio",title:"Frequently Asked Questions",subtitle:"We answer your questions about Softis",loading:"Loading FAQ...",staffAnswers:"Staff Answers",noFaqData:"No FAQ data available.",customerQuestions:"Frequent Customer Questions",moreQuestions:"Still have questions?",contactInvitation:"If you have other questions, feel free to contact us.",postQuestion:"Post a Question",contactUs:"Contact us"},Ey={studioDescription:"Personal Pilates studio in Toyota led by a physical therapist",quickLinks:"Quick Links",access:"Access",address:"1-26 Wakamiya-cho, Toyota, Aichi - Central Building, 2nd floor",stationAccess:"1 minute walk from Toyota Station on the Meitetsu Line",allRightsReserved:"All rights reserved."},Ny={title:"Ask Your Question Here",submissionError:"There was a problem submitting your question. Please try again.",generalError:"An error occurred. Please try again later.",successMessage:"Thank you for your question. Our staff will respond as soon as possible.",name:"Name",email:"Email",emailNote:"We'll send the answer to your email",question:"Question",submitting:"Submitting...",submit:"Submit Question"},Ty={faq:"FAQ Management",blog:"Blog Management",firebase:"Firebase",translations:"Translations",logout:"Logout",dashboard:"Dashboard",saveChanges:"Save Changes",saving:"Saving...",saved:"Successfully saved",error:"An error occurred",filters:"Filters",all:"All",pending:"Pending",answered:"Answered",published:"Published",draft:"Draft",search:"Search...",userInfo:"User Information",questionContent:"Question Content",answer:"Answer",date:"Date",status:"Status",comments:"Comments",actions:"Actions",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",confirmDelete:"Are you sure you want to delete this item?",yes:"Yes",no:"No",dataManagement:"Data Management",export:"Export",import:"Import",refreshInterface:"Refresh Interface",initializeDatabase:"Initialize Database",noResults:"No results found",loading:"Loading...",processing:"Processing...",author:"Author",email:"Email",content:"Content",title:"Title",imageUrl:"Image URL",tags:"Tags",addTag:"Add tag",preview:"Preview",publishAnswer:"Publish Answer",approveComment:"Approve Comment",translationManagement:"Translation Management",key:"Key",french:"French",english:"English",japanese:"Japanese",editingLanguage:"Editing Language",showMore:"Show more",showLess:"Show less"},Pi={common:gy,home:xy,contact:yy,pricing:by,instructors:wy,blog:vy,faq:_y,footer:Ey,questionForm:Ny,admin:Ty},jy={home:"ホーム",pricing:"料金",instructors:"インストラクター",contact:"お問い合わせ",faq:"よくある質問",gallery:"ギャラリー",questions:"ご質問",blog:"ブログ",login:"ログイン",logout:"ログアウト",admin:"管理"},Sy={welcome:`Softis
豊田市パーソナルピラティススタジオ`,subtitle:"心身のバランスへの道",getStarted:"始める",aboutSoftis:"Softisとは？",pilatesLedByTherapist:"理学療法士が導くパーソナルピラティス",studioDescription:"豊田市駅徒歩1分の好立地にオープンするスタジオです。理学療法士資格を所有したピラティスインストラクターによるパーソナルレッスンが受けられます。",expertInstruction:"専門的な指導",oneMinWalk:"駅から徒歩1分",studioFeatures:"当スタジオの特徴",feature1:"理学療法士資格所有インストラクターによる専門的なレッスン",feature2:"パーソナルレッスンで初心者や運動が苦手な方でも安心",feature3:"ピラティスマシン多数設置",feature4:"続けやすさは通いやすさ！抜群の駅近の好立地かつ無料駐車場完備",whatHappensPilates:"ピラティスをするとどうなるの？",recommendedFor:"Softisはこんな人におすすめ",recommendation1:"身体が硬くてなんとなく調子が悪い",recommendation2:"肩首こりや腰、膝痛がある",recommendation3:"自分の姿勢が気に入らない",recommendation4:"グループピラティスレッスンでは満足できない、他の人の目が気になる",recommendation5:"自分の身体の特徴が知りたい",pilatesEffects:"ピラティスの効果（個人差はあります）",effect1:"身体が適度に柔らかくなってスッキリ",effect2:"痛みや疲れなど不調が和らぐ",effect3:"姿勢が良くなりオーラが変わる",effect4:"自律神経が整い思考が前向きになる",effect5:"自分の身体の特徴を知れるため日常生活で意識すべきことがわかる",comingSoon:"Coming Soon…",howToUse:"ご利用方法",step1Title:"LINE登録",step1Description:"店舗公式LINEをご登録し初回体験申し込み",step2Title:"初回体験レッスン",step2Description:"来店し初回体験レッスンを受ける",firstLesson:"初回体験レッスンを受ける",bookWithLine:"LINEで予約する",machines:"充実したマシン設備",machinesDescription:"Softisでは最新のピラティスマシンを取り揃え、あなたの体に合わせたエクササイズをご提供します",reformer:"リフォーマー",reformerDescription:"ピラティスの代表的なマシン。スプリングの抵抗を利用して、全身の筋肉をバランスよく鍛えることができます。",barrel:"バレル",barrelDescription:"背骨の柔軟性を高め、姿勢改善に特に効果的なマシン。自然な脊柱のカーブをサポートします。",chair:"チェア",chairDescription:"体幹の安定性と上半身・下半身の筋力強化に効果的。バランス能力も向上させます。",specialMachine1:"専用マシン 1",specialMachine1Description:"ピラティスの動きを特化させた専用マシン。身体の様々な部位に効率よくアプローチします。",tower:"タワ",towerDescription:"固定された台の上で動くバネを自由に扱いながら動きます",spineCorrector:"スパインコレクタ",spineCorrectorDescription:"背骨の動きや形を修正するマシンです。身体がちがちさんはこちらの湾曲を使いながら背骨を動かしていくと動きやすくなる場合があります",specialMachine4:"専用マシン 4",specialMachine4Description:"あらゆる体型、レベルに対応できる調整可能な設計。あなたに合わせたトレーニングが可能です。",viewMore:"もっと見る"},ky={title:"料金案内",subtitle:"あなたのニーズに合わせたさまざまなオプションをご用意しています",priceList:"料金表",openingCampaign:"オープニングキャンペーン料金　先着20名様",recommended:"おすすめ",firstTrial:"初回体験",firstTrialDesc:"特別価格でトレーニングを体験できます。",firstTrialPrice:"3000円",bookNow:"予約する",fiveTickets:"5回券",fiveTicketsDesc:"フレキシブルな利用が可能なお得なチケット。",fiveTicketsPrice:"39000円",tenTickets:"10回券",tenTicketsDesc:"定期的なトレーニングと持続的な結果を望む方に最適。",tenTicketsPrice:"80000円",choose:"選択する",normalPrice:"通常価格: 5000円",professionalEvaluation:"専門的なフィットネス評価",individualProgram:"個別プログラム",nutritionAdvice:"栄養アドバイス",limitedOffer:"先着20名様限定",perSession:"1回あたり 7800円",validityMonths:"有効期限: 3ヶ月",paymentOptions:"現金・クレジットカード払い可能",personalFollow:"パーソナルフォロー",perSession2:"1回あたり 8000円",validityMonths2:"有効期限: 5ヶ月",cashOrBankTransfer:"現金または銀行振込のみ",customProgram:"オーダーメイドプログラム",detailedProgress:"詳細な進捗管理",priceDetails:"料金詳細",openingCampaignDetails:"オープニングキャンペーン：先着20名様限定の特別オファー！",membershipFee:"入会・管理金",membershipFeeDesc:"オープニングキャンペーンとして、先着20名様は入会金無料！",singleSession:"単発",singleSessionPrice:"9000円 / 1回",singleSessionDesc:"現金またはクレジットカードでのお支払いが可能です。",paymentAndCancellation:"お支払い・キャンセルについて",paymentMethods:"お支払い方法",ticketValidity:"※回数券は有効期限がございます。5回券→3ヶ月 10回券→5ヶ月",paymentOptionsDetails:"※体験料金、入会金、単発券、5回券は以下のお支払い方法から選択できます。現金、クレジットカード",tenTicketPayment:"※ 10回券は現金払いもしくは銀行振り込み（手数料はお客様負担となります）でのみお支払いが可能です。",cancellationPolicy:"キャンセルポリシー",cancelPolicyRule1:"・レッスンの変更やキャンセルはレッスン前日の午前9時までに予約サイトから操作をしてください。",cancelPolicyRule2:"それ以降のキャンセルは公式LINEにご連絡ください。",cancelPolicyRule3:"その場合レッスン料100%の金額もしくは回数券1回消費の対応をさせていただきますのでご了承をお願いいたします。（例外もありますのでご相談ください）。"},Iy={title:"インストラクター",viewProfile:"プロフィールを見る",subtitle:"Softisのインストラクターは、専門的な知識と豊富な経験であなたの健康をサポートします。",akimaMayu:"秋間 まゆ",ownerInstructor:"オーナー・ピラティスインストラクター",greeting:"ご挨拶",greetingContent:"初めまして、Softisオーナーの秋間まゆです。元理学療法士として病院勤務経験があり、健康な身体づくりの重要性を実感しました。ピラティスを通じて、日常の身体のケアと自分自身の身体を愛する大切さをお伝えします。",qualifications:"資格",qualification1:"理学療法士（日本病院認定機構病院勤務経験）",qualification2:"BESJピラティス認定インストラクター",qualification3:"PACピラティス認定インストラクター",qualification4:"ピラティス機能解剖®️資格",qualification5:"フードマイスター資格",message:"メッセージ",messageContent:"ピラティスは単なるエクササイズではなく、自分自身と向き合う時間です。身体が硬い方、痛みがある方、姿勢が気になる方も大丈夫。一人ひとりの身体に合わせたプログラムで、無理なく変化を実感していただけます。あなたの「できた！」を一緒に喜びましょう！",specialties:"専門分野",specialty1:"ピラティス",specialty2:"姿勢改善",specialty3:"痛み予防",specialty4:"身体の機能改善",teachingPhilosophy:"指導理念",threePromises:"3つの約束",promise1:"安全第一の個別指導",promise1Desc:"理学療法士の知識を活かした安全なプログラム",promise2:"身体と心のバランス",promise2Desc:"マインドフルネスを重視した総合アプローチ",promise3:"継続可能な習慣形成",promise3Desc:"日常生活に取り入れやすいエクササイズ",treatableCases:"対応可能なケース",case1:"慢性的な肩こり・腰痛",case2:"産前産後の身体ケア",case3:"猫背・反り腰改善",case4:"スポーツパフォーマンス向上",case5:"ストレス緩和",case6:"身体の可動域改善",quote:"「身体の声に耳を傾けることから、本当の健康は始まります。あなたの『理想の身体』へ一緒に歩んでいきましょう」"},Ay={title:"お問い合わせ",name:"お名前",email:"メールアドレス",message:"メッセージ",send:"送信",success:"メッセージが正常に送信されました",error:"メッセージの送信中にエラーが発生しました",seoTitle:"アクセス・お問い合わせ | 豊田市駅徒歩1分のピラティススタジオ",seoDescription:"豊田市駅徒歩1分のSoftisピラティススタジオへのアクセス方法・お問い合わせ。愛知県豊田市若宮町1-26 セントラルビル2階。無料駐車場完備、名鉄豊田線豊田市駅から徒歩1分の好立地です。",seoKeywords:"アクセス, 豊田市駅, 徒歩1分, ピラティススタジオ, お問い合わせ, 愛知県豊田市, 無料駐車場, 名鉄豊田線",headerImageAlt:"お問い合わせ背景",access:"アクセス",accessSubtitle:"名鉄豊田線 豊田市駅から徒歩1分",accessInformation:"アクセス情報",address:"住所",addressLine1:"愛知県豊田市若宮町1-26",addressLine2:"セントラルビル2階",addressLine3:"一階がminiminiさんの黄色いビルです",accessDetails:"アクセス詳細",accessDetailsLine1:"セントラルビルを目印にお越しください",accessDetailsLine2:"ビルの左の階段から2階にお上がりください",publicTransport:"交通アクセス",meitetsuLine:"名鉄豊田線",toyotaStationAccess:"豊田市駅より徒歩1分",aichiLoop:"愛知環状鉄道",shinToyotaAccess:"新豊田駅より徒歩4分",mapTitle:"愛知県豊田市若宮町1-26 セントラルビル2階",studioImage:"Softisスタジオ",parkingInfo:"駐車場情報",parkingDetails:"駐車場は1番左の4Fと書かれている場所以外にお止めください",formDescription:"ご質問、ご意見、お問い合わせなどがございましたら、下記のフォームよりお気軽にご連絡ください。24時間以内に担当者より返信いたします。",phone:"電話番号",subject:"件名",privacyConsent:"プライバシーポリシーに同意します",formSubmitSuccess:"お問い合わせを受け付けました。近日中にご連絡いたします。"},Cy={seoTitle:"ブログ - ピラティススタジオSoftis",seoDescription:"ピラティス、姿勢改善、健康的な生活についての有益な情報をご紹介します。豊田市のピラティススタジオSoftisからのお役立ち情報。",seoKeywords:"ピラティス, ブログ, 姿勢改善, 健康, エクササイズ, Softis, ピラティススタジオ",title:"ブログ",subtitle:"ピラティス、健康、姿勢改善に関する情報を発信しています",categories:"カテゴリー",allCategories:"すべて",loading:"ブログ記事を読み込んでいます...",comments:"コメント",readMore:"続きを読む",noPostsFound:"記事が見つかりませんでした。",writeNewPost:"新しい記事を書く",schemaHeadline:"Softis ピラティスブログ - 健康、姿勢改善、ピラティスに関する情報",schemaDescription:"ピラティス、姿勢改善、健康的な生活についての有益な情報をご紹介します。豊田市のピラティススタジオSoftisからのお役立ち情報。",schemaAuthorName:"Softis ピラティススタジオ",schemaPublisherName:"Softis ピラティススタジオ"},Py={seoTitle:"よくある質問 - ピラティススタジオSoftis",seoDescription:"Softisピラティススタジオに関するよくある質問をまとめました。レッスンの予約、持ち物、キャンセル方法などについてご案内します。",seoKeywords:"ピラティス, よくある質問, FAQ, 初心者, 予約方法, キャンセル, 持ち物, Softis, ピラティススタジオ",title:"よくある質問",subtitle:"Softisに関するご質問にお答えします",loading:"FAQを読み込んでいます...",staffAnswers:"スタッフからの回答",noFaqData:"FAQデータがありません。",customerQuestions:"お客様からよくある質問",moreQuestions:"まだ質問がありますか？",contactInvitation:"他にわからないことがあれば、お気軽にお問い合わせください。",postQuestion:"質問を投稿する",contactUs:"お問い合わせください"},Ry={studioDescription:"理学療法士が導く豊田市のパーソナルピラティススタジオ",quickLinks:"クイックリンク",access:"アクセス",address:"愛知県豊田市若宮町1-26 セントラルビル2階",stationAccess:"名鉄豊田線 豊田市駅より徒歩1分",allRightsReserved:"All rights reserved."},Dy={title:"ご質問はこちら",submissionError:"質問の送信中に問題が発生しました。もう一度お試しください。",generalError:"エラーが発生しました。後でもう一度お試しください。",successMessage:"ご質問ありがとうございます。スタッフが確認次第、ご回答させていただきます。",name:"お名前",email:"メールアドレス",emailNote:"ご回答はメールでお送りします",question:"ご質問",submitting:"送信中...",submit:"質問を送信する"},Ly={faq:"FAQ管理",blog:"ブログ管理",firebase:"Firebase",translations:"翻訳管理",logout:"ログアウト",dashboard:"ダッシュボード",saveChanges:"変更を保存",saving:"保存中...",saved:"保存しました",error:"エラーが発生しました",filters:"フィルター",all:"すべて",pending:"未回答",answered:"回答済み",published:"公開",draft:"下書き",search:"検索...",userInfo:"ユーザー情報",questionContent:"質問内容",answer:"回答",date:"日付",status:"ステータス",comments:"コメント",actions:"アクション",edit:"編集",delete:"削除",save:"保存",cancel:"キャンセル",confirmDelete:"このアイテムを削除してもよろしいですか？",yes:"はい",no:"いいえ",dataManagement:"データ管理",export:"エクスポート",import:"インポート",refreshInterface:"インターフェースを更新",initializeDatabase:"データベースを初期化",noResults:"結果が見つかりません",loading:"読み込み中...",processing:"処理中...",author:"著者",email:"メールアドレス",content:"内容",title:"タイトル",imageUrl:"画像URL",tags:"タグ",addTag:"タグを追加",preview:"プレビュー",publishAnswer:"回答を公開する",approveComment:"コメントを承認する",translationManagement:"翻訳管理",key:"キー",french:"フランス語",english:"英語",japanese:"日本語",editingLanguage:"編集言語",showMore:"もっと見る",showLess:"表示を減らす"},Ri={common:jy,home:Sy,pricing:ky,instructors:Iy,contact:Ay,blog:Cy,faq:Py,footer:Ry,questionForm:Dy,admin:Ly};Re.use(dl).use(Wd).init({resources:{fr:{translation:Ci},en:{translation:Pi},ja:{translation:Ri}},fallbackLng:"ja",debug:!1,interpolation:{escapeValue:!1}});const tm=F.createContext(void 0),Oy=({children:t})=>{const[e,n]=F.useState(Re.language||"ja"),{t:r}=Tx(),s=o=>{Re.changeLanguage(o)};F.useEffect(()=>{const o=l=>{n(l)};return Re.on("languageChanged",o),()=>{Re.off("languageChanged",o)}},[]),F.useEffect(()=>{(!Re.language||Re.language==="dev")&&Re.changeLanguage("ja")},[]);const i={language:e,changeLanguage:s,t:r};return a.jsx(tm.Provider,{value:i,children:t})},pt=()=>{const t=F.useContext(tm);if(t===void 0)throw new Error("useTranslation doit être utilisé à l'intérieur d'un LanguageProvider");return t},So=()=>{const{language:t,changeLanguage:e}=pt();return a.jsxs("div",{className:"language-selector",children:[a.jsx("button",{className:`language-btn ${t==="fr"?"active":""}`,onClick:()=>e("fr"),children:"FR"}),a.jsx("button",{className:`language-btn ${t==="en"?"active":""}`,onClick:()=>e("en"),children:"EN"}),a.jsx("button",{className:`language-btn ${t==="ja"?"active":""}`,onClick:()=>e("ja"),children:"JP"})]})},Vy=({scrolled:t})=>{const[e,n]=F.useState(!1),{t:r}=pt(),s=()=>{n(!e)},i=[{title:r("common.home"),path:"/"},{title:"豊田市 ピラティス",path:"/toyota-city-pilates"},{title:r("common.pricing"),path:"/pricing"},{title:r("common.instructors"),path:"/instructors"},{title:r("common.contact"),path:"/contact"},{title:r("common.faq"),path:"/faq"},{title:r("common.blog"),path:"/blog"}],o=t||e;return a.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-turquoise-100 shadow-md py-3":"bg-transparent py-5"}`,children:[a.jsx(ie,{children:a.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20 relative",children:[a.jsx("div",{className:"relative z-10",style:{width:"130px",height:"20px"},children:a.jsx(Pe,{to:"/",className:"block",children:a.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2",style:{height:o?"60px":"80px",marginTop:o?"0px":"5px"},children:a.jsx(Qe,{src:"/src/assets/logo.png",alt:"Softis Logo",className:"h-full w-auto transition-all duration-500 opacity-90",width:250,height:250,loading:"eager",quality:100})})})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8 ml-auto",children:[a.jsx(So,{}),i.map(l=>a.jsx(iu,{to:l.path,className:({isActive:u})=>`font-medium transition-colors relative ${o?u?"text-turquoise-500":"text-neutral-700 hover:text-turquoise-500":u?"text-white":"text-white/90 hover:text-white"}`,children:({isActive:u})=>a.jsxs(a.Fragment,{children:[l.title,u&&a.jsx(J.span,{layoutId:"activeNavIndicator",className:`absolute -bottom-1 left-0 right-0 h-0.5 ${o?"bg-turquoise-500":"bg-turquoise-100"}`,transition:{type:"spring",stiffness:380,damping:30}})]})},l.path))]}),a.jsx("button",{onClick:s,className:"md:hidden p-2","aria-label":"Toggle Menu",children:e?a.jsx(ea,{className:o?"text-primary-500":"text-white",size:24}):a.jsx(ex,{className:o?"text-primary-500":"text-white",size:24})})]})}),a.jsx(pn,{children:e&&a.jsx(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-turquoise-300",children:a.jsx(ie,{children:a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsx("div",{className:"flex justify-start py-2",children:a.jsx(So,{})}),i.map(l=>a.jsx(iu,{to:l.path,onClick:()=>n(!1),className:({isActive:u})=>`block py-2 font-medium ${u?"text-primary-500":"text-neutral-700"}`,children:l.title},l.path))]})})})})]})},My=()=>{const{t}=pt(),e=new Date().getFullYear();return a.jsx("footer",{className:"bg-turquoise-700 text-white pt-16 pb-8",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs(Pe,{to:"/",className:"flex items-center mb-4",children:[a.jsx("img",{src:"/src/assets/logo.png",alt:"softis",className:"h-8 w-auto mr-2 filter brightness-0 invert"}),a.jsx("span",{className:"font-serif font-bold text-xl",children:"Softis"})]}),a.jsx("p",{className:"text-neutral-300 mb-6",children:t("footer.studioDescription")}),a.jsx("div",{className:"flex space-x-4",children:a.jsxs("a",{href:"https://www.instagram.com/softis__pilates/?igsh=bTZ5d2Z2NzgwZGQw",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gold-400 transition-colors flex items-center",children:[a.jsx(Jg,{size:20,className:"mr-2"}),a.jsx("span",{children:"@softis__pilates"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:t("footer.quickLinks")}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Pe,{to:"/",className:"text-neutral-300 hover:text-white transition-colors",children:t("common.home")})}),a.jsx("li",{children:a.jsx(Pe,{to:"/instructors",className:"text-neutral-300 hover:text-white transition-colors",children:t("common.instructors")})}),a.jsx("li",{children:a.jsx(Pe,{to:"/pricing",className:"text-neutral-300 hover:text-white transition-colors",children:t("common.pricing")})}),a.jsx("li",{children:a.jsx(Pe,{to:"/contact",className:"text-neutral-300 hover:text-white transition-colors",children:t("common.contact")})}),a.jsx("li",{children:a.jsx(Pe,{to:"/gallery",className:"text-neutral-300 hover:text-white transition-colors",children:t("common.gallery")})}),a.jsx("li",{children:a.jsx(Pe,{to:"/faq",className:"text-neutral-300 hover:text-white transition-colors",children:t("common.faq")})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:t("footer.access")}),a.jsxs("div",{className:"flex",children:[a.jsx(Hd,{className:"mr-2 flex-shrink-0 text-turquoise-400",size:20}),a.jsx("span",{className:"text-neutral-300",children:t("footer.address")})]}),a.jsx("p",{className:"text-neutral-300 mt-4",children:t("footer.stationAccess")}),a.jsxs("p",{className:"text-neutral-300 mt-4",children:["営業時間",a.jsx("br",{}),"月〜土　日曜定休　10:00-21:00"]})]})]}),a.jsx("hr",{className:"border-primary-700 mb-8"}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-neutral-400 text-sm",children:["© ",e," Softis. ",t("footer.allRightsReserved")]})})]})})},Fy=()=>{const{pathname:t}=Pd(),[e,n]=F.useState(!1);return F.useEffect(()=>{const r=()=>{const s=window.scrollY>50;s!==e&&n(s)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[e]),F.useEffect(()=>{window.scrollTo(0,0)},[t]),a.jsxs("div",{className:"flex flex-col min-h-screen font-sans bg-turquoise-100",children:[a.jsx(Vy,{scrolled:e}),a.jsx("main",{className:"flex-grow",children:a.jsx(pn,{mode:"wait",children:a.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx(og,{})},t)})}),a.jsx(My,{})]})},an=({title:t,description:e,keywords:n,ogImage:r="/images/softis-og-image.jpg",ogType:s="website",canonical:i,language:o="ja",structuredData:l})=>{const u="Softis - ピラティススタジオ",h=`${t} | ${u}`;return a.jsxs(Mg,{children:[a.jsx("html",{lang:o}),a.jsx("title",{children:h}),a.jsx("meta",{name:"description",content:e}),n&&a.jsx("meta",{name:"keywords",content:n}),a.jsx("meta",{property:"og:title",content:h}),a.jsx("meta",{property:"og:description",content:e}),a.jsx("meta",{property:"og:image",content:r}),a.jsx("meta",{property:"og:type",content:s}),a.jsx("meta",{property:"og:site_name",content:u}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:h}),a.jsx("meta",{name:"twitter:description",content:e}),a.jsx("meta",{name:"twitter:image",content:r}),i&&a.jsx("link",{rel:"canonical",href:i}),l&&a.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)})]})},De=({children:t,variant:e="primary",size:n="md",className:r="",onClick:s,type:i="button",disabled:o=!1,title:l})=>{const u="inline-flex items-center justify-center rounded-md font-medium transition duration-200 ease-in-out",h={primary:"bg-turquoise-500 text-white hover:bg-turquoise-600 focus:ring-2 focus:ring-turquoise-300",secondary:"bg-turquoise-400 text-white hover:bg-turquoise-600 focus:ring-2 focus:ring-turquoise-300",outline:"bg-transparent border border-turquoise-500 text-turquoise-500 hover:bg-turquoise-100",gold:"bg-turquoise-400 text-primary-900 hover:bg-turquoise-500 focus:ring-2 focus:ring-gold-300",warning:"bg-amber-600 text-white hover:bg-amber-700 focus:ring-2 focus:ring-amber-300"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return a.jsx("button",{type:i,className:`${u} ${h[e]} ${d[n]} ${r} ${o?"opacity-50 cursor-not-allowed":""}`,onClick:s,disabled:o,title:l,children:t})},qy=({titles:t=[],subtitles:e=[],title:n,subtitle:r,ctaText:s,promoText:i,imageUrl:o,images:l=[],onCtaClick:u})=>{const[h,d]=F.useState(0),[f,g]=F.useState(0),[p,v]=F.useState({}),E=l.length>0?l:o?[o]:[],C=t.length>0?t:n?[n]:[""],A=e.length>0?e:r?[r]:[""];F.useEffect(()=>{if(E.length<=1&&C.length<=1)return;const L=setInterval(()=>{d(U=>(U+1)%E.length),g(U=>(U+1)%Math.max(C.length,A.length))},8e3);return()=>clearInterval(L)},[E.length,C.length,A.length]);const R=L=>{v(U=>({...U,[L]:!0}))};return a.jsxs("div",{className:"relative h-screen min-h-[600px] flex items-center overflow-hidden",children:[a.jsx(pn,{mode:"sync",children:a.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},className:"absolute inset-0 z-0",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute inset-0 bg-turquoise-100",style:{opacity:p[h]?0:1,transition:"opacity 0.5s ease"}}),a.jsx(Qe,{src:E[h],alt:`Background image ${h+1}`,className:"w-full h-full object-cover",style:{objectPosition:"center"},loading:h===0?"eager":"lazy",quality:85,onLoad:()=>R(h)})]}),a.jsx("div",{className:"absolute inset-0 bg-turquoise-900 bg-opacity-40"})]},h)}),i&&a.jsx(J.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.7,delay:.4},className:"absolute bottom-24 left-6 z-30 max-w-xs",children:a.jsx("div",{className:"bg-black/40 backdrop-blur-sm text-white px-4 py-2 rounded-lg border border-white/20 text-xs md:text-sm shadow-lg",children:i})}),E.length>1&&a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex space-x-2",children:E.map((L,U)=>a.jsx("button",{onClick:()=>{d(U),g(U%Math.max(C.length,A.length))},className:`w-2 h-2 rounded-full transition-all duration-300 ${U===h?"bg-turquoise-500 w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${U+1}`},U))}),a.jsx(ie,{className:"relative z-10",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx(pn,{mode:"wait",children:a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.7},className:"text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-white leading-tight mb-6",children:C[f%C.length]},`title-${f}`)}),a.jsx(pn,{mode:"wait",children:a.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.7},className:"text-xl md:text-2xl text-white opacity-90 mb-8",children:A[f%A.length]},`subtitle-${f}`)}),a.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},children:a.jsx(De,{variant:"primary",size:"lg",onClick:u,children:s})})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-white/10 to-transparent"})]})},Ae=({children:t,className:e="",id:n})=>a.jsx(J.section,{id:n,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:`py-16 md:py-24 ${e}`,children:t}),zy=()=>{const t=sn(),{t:e}=pt(),n=["/src/assets/IMG/img.png","/src/assets/IMG/IMG_1601.jpeg"],r=[e("home.welcome")],s=[e("home.subtitle")],i={"@context":"https://schema.org","@type":"LocalBusiness",name:"Softis | 豊田市 ピラティススタジオ",description:"豊田市駅徒歩1分の好立地にある、理学療法士が運営するパーソナルピラティススタジオ。姿勢改善、ボディメイク、健康促進をサポートします。",image:"/src/assets/IMG/img.png",address:{"@type":"PostalAddress",streetAddress:"豊田市",addressLocality:"愛知県",postalCode:"",addressCountry:"JP"},geo:{"@type":"GeoCoordinates",latitude:"35.0868",longitude:"137.1569"},url:"https://softis.jp",telephone:"",openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],opens:"10:00",closes:"20:00"},priceRange:"¥¥",servesCuisine:"ピラティス, フィットネス, リハビリテーション",keywords:"Softis, softis, 豊田市 ピラティス, 豊田市, ピラティス, パーソナルトレーニング, 姿勢改善"};return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:"Softis | 豊田市 ピラティス | 理学療法士による専門指導",description:"豊田市駅徒歩1分のSoftisピラティススタジオ。理学療法士資格を持つインストラクターによる完全パーソナルピラティスレッスンで、姿勢改善・ボディメイク・健康促進をサポート。初心者も安心の丁寧な指導と多数のピラティスマシンで効果的なトレーニングを。",keywords:"Softis, softis, 豊田市 ピラティス, 豊田市, ピラティス, パーソナルトレーニング, 理学療法士, 姿勢改善, ボディメイク, 健康促進, ピラティスマシン, リフォーマー, 駅近, 豊田市駅",structuredData:i,canonical:"https://softis.jp/"}),a.jsx(qy,{titles:r,subtitles:s,ctaText:`！オープニングキャンペーン！
入会金 5500→0円
初回体験　5000→3000円`,images:n,onCtaClick:()=>window.open("https://lin.ee/Rvbat7l","_blank")}),a.jsx(Ae,{className:"bg-turquoise-100",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-black mb-4",children:e("home.aboutSoftis")}),a.jsxs("div",{className:"max-w-3xl mx-auto p-8 bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-600 mb-4",children:e("home.pilatesLedByTherapist")}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("span",{className:"inline-block w-12 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full"})}),a.jsx("p",{className:"text-gray-800 text-lg leading-relaxed mb-6",children:e("home.studioDescription")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-turquoise-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-gray-700",children:e("home.expertInstruction")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-turquoise-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-gray-700",children:e("home.oneMinWalk")})]})]})]})]}),a.jsx("div",{className:"mb-12",children:a.jsx("div",{className:"text-center max-w-3xl mx-auto",children:a.jsxs("div",{className:"mb-8 bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-600 mb-4",children:e("home.studioFeatures")}),a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("span",{className:"inline-block w-12 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start p-3 bg-white/80 rounded-lg shadow-sm",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-8 h-8 bg-turquoise-100 text-turquoise-600 rounded-full mr-3 font-bold",children:"1"}),a.jsx("p",{className:"text-gray-800 text-left",children:e("home.feature1")})]}),a.jsxs("div",{className:"flex items-start p-3 bg-white/80 rounded-lg shadow-sm",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-8 h-8 bg-turquoise-100 text-turquoise-600 rounded-full mr-3 font-bold",children:"2"}),a.jsx("p",{className:"text-gray-800 text-left",children:e("home.feature2")})]}),a.jsxs("div",{className:"flex items-start p-3 bg-white/80 rounded-lg shadow-sm",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-8 h-8 bg-turquoise-100 text-turquoise-600 rounded-full mr-3 font-bold",children:"3"}),a.jsx("p",{className:"text-gray-800 text-left",children:e("home.feature3")})]}),a.jsxs("div",{className:"flex items-start p-3 bg-white/80 rounded-lg shadow-sm",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-8 h-8 bg-turquoise-100 text-turquoise-600 rounded-full mr-3 font-bold",children:"4"}),a.jsx("p",{className:"text-gray-800 text-left",children:e("home.feature4")})]})]})]})})}),a.jsx("h2",{className:"text-3xl md:text-4xl text-center font-serif font-bold text-black mb-4",children:e("home.whatHappensPilates")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx("div",{className:"bg-turquoise-100 rounded-xl shadow-lg overflow-hidden h-full hover:shadow-xl transition-shadow duration-300",children:a.jsx("div",{className:"aspect-[4/5] overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/home2/1.png",alt:"白 ブルー シンプル 水彩 ミニマル information Instagramの投稿のコピー - ",className:"w-full h-full object-cover object-center",quality:55,loading:"lazy",format:"webp",sizes:"(max-width: 768px) 100vw, 50vw",width:600,height:750})})}),a.jsx("div",{className:"bg-turquoise-100 rounded-xl shadow-lg overflow-hidden h-full hover:shadow-xl transition-shadow duration-300",children:a.jsx("div",{className:"aspect-[4/5] overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/home2/2.png",alt:"白 ブルー シンプル 水彩 ミニマル information Instagramの投稿のコピー - 2(2)",className:"w-full h-full object-cover object-center",quality:55,loading:"lazy",format:"webp",sizes:"(max-width: 768px) 100vw, 50vw",width:600,height:750})})})]})]})}),a.jsxs(Ae,{className:"bg-white relative",children:[a.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[a.jsx(Qe,{src:"/src/assets/IMG/IMG_2364.jpeg",alt:"Studio background",className:"w-full h-full object-cover",loading:"lazy",quality:90,format:"webp"}),a.jsx("div",{className:"absolute inset-0 bg-turquoise-900 bg-opacity-70 z-0"})]}),a.jsx(ie,{className:"relative z-10",children:a.jsx("div",{className:"max-w-3xl",children:a.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-4",children:[a.jsxs("div",{className:"mt-8 bg-white/10 p-6 rounded-lg backdrop-blur-sm",children:[a.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-4",children:e("home.recommendedFor")}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"1"}),a.jsx("p",{className:"text-white/90",children:e("home.recommendation1")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"2"}),a.jsx("p",{className:"text-white/90",children:e("home.recommendation2")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"3"}),a.jsx("p",{className:"text-white/90",children:e("home.recommendation3")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"4"}),a.jsx("p",{className:"text-white/90",children:e("home.recommendation4")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"5"}),a.jsx("p",{className:"text-white/90",children:e("home.recommendation5")})]})]})]}),a.jsxs("div",{className:"mt-8 bg-white/10 p-6 rounded-lg backdrop-blur-sm",children:[a.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-4",children:e("home.pilatesEffects")}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"1"}),a.jsx("p",{className:"text-white/90",children:e("home.effect1")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"2"}),a.jsx("p",{className:"text-white/90",children:e("home.effect2")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"3"}),a.jsx("p",{className:"text-white/90",children:e("home.effect3")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"4"}),a.jsx("p",{className:"text-white/90",children:e("home.effect4")})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"h-6 w-6 bg-turquoise-200 rounded-full flex items-center justify-center text-turquoise-700 font-bold mr-3 flex-shrink-0 mt-0.5",children:"5"}),a.jsx("p",{className:"text-white/90",children:e("home.effect5")})]})]})]}),a.jsx("p",{className:"text-white text-lg font-bold mt-4",children:e("home.comingSoon")})]})})})]}),a.jsx("div",{className:"text-right mt-8",children:a.jsxs(De,{variant:"primary",size:"lg",onClick:()=>t("/pricing"),children:[e("home.getStarted")," test"]})}),a.jsx(Ae,{id:"flow",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-black mb-4",children:e("home.howToUse")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-8"})]}),a.jsxs("div",{className:"max-w-2xl mx-auto bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex flex-col space-y-8",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-12 h-12 bg-turquoise-500 rounded-full flex items-center justify-center flex-shrink-0 mr-6 shadow-md",children:a.jsx("span",{className:"text-white text-xl font-bold",children:"①"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-turquoise-600",children:e("home.step1Title")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.step1Description")})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-12 h-12 bg-turquoise-500 rounded-full flex items-center justify-center flex-shrink-0 mr-6 shadow-md",children:a.jsx("span",{className:"text-white text-xl font-bold",children:"②"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-turquoise-600",children:e("home.step2Title")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.step2Description")})]})]})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-gray-800 mb-6 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.firstLesson")}),a.jsx(De,{variant:"primary",size:"lg",onClick:()=>window.open("https://lin.ee/Rvbat7l","_blank"),className:"shadow-md hover:shadow-lg transform transition hover:-translate-y-1",children:e("home.bookWithLine")})]})]})]})}),a.jsx(Ae,{className:"bg-turquoise-50",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-turquoise-700 mb-4",children:e("home.machines")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"}),a.jsx("p",{className:"text-gray-800 text-lg bg-white/80 p-3 rounded-lg shadow-sm max-w-2xl mx-auto",children:e("home.machinesDescription")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/IMG_6780.jpeg",alt:"ピラティスリフォーマー",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.reformer")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.reformerDescription")})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/IMG_1541.jpeg",alt:"ピラティスバレル",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.barrel")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.barrelDescription")})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/IMG_1542.jpeg",alt:"ピラティスチェア",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.chair")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.chairDescription")})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/img.png",alt:"ピラティス専用マシン",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.specialMachine1")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.specialMachine1Description")})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/img_1.png",alt:"ピラティス専用マシン",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.tower")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.towerDescription")})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:1},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/img_2.png",alt:"ピラティス専用マシン",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.spineCorrector")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.spineCorrectorDescription")})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:1.2},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 md:col-start-2 lg:col-start-auto",children:[a.jsx("div",{className:"h-64 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/machine/img_3.png",alt:"ピラティス専用マシン",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:e("home.specialMachine4")}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:e("home.specialMachine4Description")})]})]})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx(De,{variant:"primary",size:"lg",onClick:()=>t("/gallery"),className:"shadow-md hover:shadow-lg transform transition hover:-translate-y-1",children:e("home.viewMore")})})]})})]})},Qa=({title:t,description:e,price:n,features:r,icon:s,color:i="turquoise",ctaText:o,popular:l=!1})=>{const{t:u}=pt(),h={turquoise:"bg-gradient-to-br from-turquoise-50 via-turquoise-100/30 to-white",gold:"bg-gradient-to-br from-gold-50 via-gold-100/30 to-white",pink:"bg-gradient-to-br from-pink-50 via-pink-100/30 to-white"};return a.jsxs(J.div,{className:`rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300 h-full flex flex-col ${l?"border-2 border-gold-500 relative":"border border-neutral-200"}`,whileHover:{y:-5},children:[l&&a.jsx("div",{className:"absolute top-4 right-4 bg-gold-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md",children:u("pricing.recommended")}),a.jsxs("div",{className:`${h[i]} p-8 flex flex-col items-center`,children:[a.jsx("div",{className:`w-20 h-20 ${l?"bg-gold-100":"bg-turquoise-100"} rounded-full flex items-center justify-center shadow-inner mb-4`,children:a.jsx(s,{className:`h-10 w-10 ${l?"text-gold-500":"text-turquoise-500"}`})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:t}),a.jsx("p",{className:"text-gray-600 mb-4 text-center",children:e}),a.jsx("div",{className:`text-center mb-4 ${l?"text-gold-500":"text-turquoise-500"}`,children:a.jsx("span",{className:"text-3xl font-bold",children:n})})]}),a.jsxs("div",{className:"bg-white p-6 flex flex-col flex-grow",children:[a.jsx("ul",{className:"mb-6 flex-grow space-y-3",children:r.map((d,f)=>a.jsxs("li",{className:"flex items-start text-gray-700",children:[a.jsx(rs,{className:`h-5 w-5 mr-2 mt-0.5 flex-shrink-0 ${l?"text-gold-500":"text-turquoise-500"}`}),a.jsx("span",{children:d})]},f))}),l?a.jsx(De,{variant:l?"gold":"primary",onClick:()=>window.open("https://lin.ee/Rvbat7l","_blank"),className:"w-full",children:o}):a.jsx(a.Fragment,{})]})]})},Uy=()=>{const{t}=pt();return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-turquoise-700 to-turquoise-500",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsx(ie,{className:"relative z-10",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-serif font-bold mb-4",children:t("pricing.title")}),a.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-white/90",children:t("pricing.subtitle")})]})})]}),a.jsx(Ae,{children:a.jsxs(ie,{children:[a.jsxs("div",{className:"mb-16 text-center max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-turquoise-700 mb-4",children:t("pricing.priceList")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"}),a.jsx("p",{className:"text-gray-800 text-lg p-3 bg-white/80 rounded-lg shadow-sm max-w-2xl mx-auto",children:t("pricing.openingCampaign")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[a.jsx(Qa,{title:t("pricing.firstTrial"),description:t("pricing.firstTrialDesc"),price:t("pricing.firstTrialPrice"),features:[t("pricing.normalPrice"),t("pricing.professionalEvaluation"),t("pricing.individualProgram"),t("pricing.nutritionAdvice"),t("pricing.limitedOffer")],icon:Gg,color:"turquoise",ctaText:t("pricing.bookNow"),popular:!0}),a.jsx(Qa,{title:t("pricing.fiveTickets"),description:t("pricing.fiveTicketsDesc"),price:t("pricing.fiveTicketsPrice"),features:[t("pricing.perSession"),t("pricing.validityMonths"),t("pricing.paymentOptions"),t("pricing.personalFollow")],icon:Xi,color:"pink",ctaText:t("pricing.choose")}),a.jsx(Qa,{title:t("pricing.tenTickets"),description:t("pricing.tenTicketsDesc"),price:t("pricing.tenTicketsPrice"),features:[t("pricing.perSession2"),t("pricing.validityMonths2"),t("pricing.cashOrBankTransfer"),t("pricing.customProgram"),t("pricing.detailedProgress")],icon:zg,color:"turquoise",ctaText:t("pricing.choose")})]})]})}),a.jsx(Ae,{className:"bg-turquoise-50",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"mb-16 text-center max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-turquoise-700 mb-4",children:t("pricing.priceDetails")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"}),a.jsx("p",{className:"text-gray-800 text-lg p-3 bg-white/80 rounded-lg shadow-sm max-w-2xl mx-auto",children:t("pricing.openingCampaignDetails")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"flex-shrink-0 w-16 h-16 md:w-20 md:h-20 bg-turquoise-100 rounded-full flex items-center justify-center mx-auto md:mx-0 md:mr-6 mb-4 md:mb-0 shadow-inner",children:a.jsx(Nr,{className:"h-8 w-8 text-turquoise-600"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-3 text-center md:text-left",children:t("pricing.membershipFee")}),a.jsxs("p",{className:"text-gray-800 mb-4 p-3 bg-white/80 rounded-lg",children:[a.jsx("span",{className:"line-through text-gray-500",children:"5500円"}),a.jsx("span",{className:"text-turquoise-700 font-bold text-xl ml-3",children:"0円"}),a.jsx("br",{}),t("pricing.membershipFeeDesc")]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"flex-shrink-0 w-16 h-16 md:w-20 md:h-20 bg-gold-100 rounded-full flex items-center justify-center mx-auto md:mx-0 md:mr-6 mb-4 md:mb-0 shadow-inner",children:a.jsx(Hg,{className:"h-8 w-8 text-gold-500"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-3 text-center md:text-left",children:t("pricing.singleSession")}),a.jsxs("p",{className:"text-gray-800 mb-4 p-3 bg-white/80 rounded-lg",children:[a.jsx("span",{className:"text-turquoise-700 font-bold text-xl",children:t("pricing.singleSessionPrice")}),a.jsx("br",{}),t("pricing.singleSessionDesc")]})]})]})]})]})}),a.jsx(Ae,{children:a.jsxs(ie,{children:[a.jsxs("div",{className:"mb-12 text-center max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-turquoise-700 mb-4",children:t("pricing.paymentAndCancellation")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(du,{className:"h-6 w-6 text-turquoise-500 mr-3"}),a.jsx("h3",{className:"text-xl font-bold text-turquoise-700",children:t("pricing.paymentMethods")})]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start p-3 bg-white/80 rounded-lg",children:[a.jsx(fs,{className:"h-5 w-5 text-turquoise-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:t("pricing.ticketValidity")})]}),a.jsxs("li",{className:"flex items-start p-3 bg-white/80 rounded-lg",children:[a.jsx(du,{className:"h-5 w-5 text-turquoise-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:t("pricing.paymentOptionsDetails")})]}),a.jsxs("li",{className:"flex items-start p-3 bg-white/80 rounded-lg",children:[a.jsx(Bg,{className:"h-5 w-5 text-turquoise-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:t("pricing.tenTicketPayment")})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx($g,{className:"h-6 w-6 text-turquoise-500 mr-3"}),a.jsx("h3",{className:"text-xl font-bold text-turquoise-700",children:t("pricing.cancellationPolicy")})]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start p-3 bg-white/80 rounded-lg",children:[a.jsx(rs,{className:"h-5 w-5 text-turquoise-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:t("pricing.cancelPolicyRule1")})]}),a.jsxs("li",{className:"flex items-start p-3 bg-white/80 rounded-lg",children:[a.jsx(rs,{className:"h-5 w-5 text-turquoise-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:t("pricing.cancelPolicyRule2")})]}),a.jsxs("li",{className:"flex items-start p-3 bg-white/80 rounded-lg",children:[a.jsx(rs,{className:"h-5 w-5 text-turquoise-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:t("pricing.cancelPolicyRule3")})]})]})]})]})})]})},By=()=>{const{t}=pt();return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[a.jsx(Qe,{src:"/src/assets/IMG/IMG_2593.jpeg",alt:t("instructors.title"),className:"w-full h-full object-cover",loading:"eager",quality:90,format:"webp"}),a.jsx("div",{className:"absolute inset-0 bg-turquoise-900 bg-opacity-70 z-0"})]}),a.jsx(ie,{className:"relative z-10",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-serif font-bold mb-4",children:t("instructors.title")}),a.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-white/90",children:t("instructors.subtitle")})]})})]}),a.jsx(Ae,{children:a.jsx(ie,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"h-96 overflow-hidden",children:a.jsx(Qe,{src:"/src/assets/IMG/IMG_1118.jpeg",alt:t("instructors.akimaMayu"),className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"eager",quality:90,format:"webp",sizes:"(max-width: 768px) 100vw, 50vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-turquoise-700 mb-2",children:t("instructors.akimaMayu")}),a.jsx("p",{className:"text-turquoise-600 mb-4 text-lg",children:t("instructors.ownerInstructor")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:[a.jsx("h4",{className:"font-bold text-turquoise-700 mb-2 text-lg",children:t("instructors.greeting")}),a.jsx("p",{className:"text-gray-800 leading-relaxed",children:t("instructors.greetingContent")})]}),a.jsxs("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:[a.jsx("h4",{className:"font-bold text-turquoise-700 mb-2 text-lg",children:t("instructors.qualifications")}),a.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[a.jsx("li",{children:t("instructors.qualification1")}),a.jsx("li",{children:t("instructors.qualification2")}),a.jsx("li",{children:t("instructors.qualification3")}),a.jsx("li",{children:t("instructors.qualification4")}),a.jsx("li",{children:t("instructors.qualification5")})]})]}),a.jsxs("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:[a.jsx("h4",{className:"font-bold text-turquoise-700 mb-2 text-lg",children:t("instructors.message")}),a.jsx("p",{className:"text-gray-800 leading-relaxed",children:t("instructors.messageContent")})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[a.jsx("span",{className:"bg-turquoise-100 text-turquoise-700 text-sm px-3 py-1 rounded-full",children:t("instructors.specialty1")}),a.jsx("span",{className:"bg-turquoise-100 text-turquoise-700 text-sm px-3 py-1 rounded-full",children:t("instructors.specialty2")}),a.jsx("span",{className:"bg-turquoise-100 text-turquoise-700 text-sm px-3 py-1 rounded-full",children:t("instructors.specialty3")}),a.jsx("span",{className:"bg-turquoise-100 text-turquoise-700 text-sm px-3 py-1 rounded-full",children:t("instructors.specialty4")})]})]})]}),a.jsxs("div",{className:"sticky top-8 bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-6",children:[a.jsx("h2",{className:"text-3xl font-serif font-bold text-turquoise-700 mb-6",children:t("instructors.teachingPhilosophy")}),a.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mb-6"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-3",children:t("instructors.threePromises")}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-turquoise-500 text-2xl mr-2",children:"●"}),a.jsxs("span",{className:"flex-1 text-gray-800",children:[t("instructors.promise1"),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t("instructors.promise1Desc")})]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-turquoise-500 text-2xl mr-2",children:"●"}),a.jsxs("span",{className:"flex-1 text-gray-800",children:[t("instructors.promise2"),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t("instructors.promise2Desc")})]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-turquoise-500 text-2xl mr-2",children:"●"}),a.jsxs("span",{className:"flex-1 text-gray-800",children:[t("instructors.promise3"),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t("instructors.promise3Desc")})]})]})]})]}),a.jsxs("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-3",children:t("instructors.treatableCases")}),a.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-turquoise-500 mr-2",children:"✓"}),a.jsx("span",{className:"text-gray-800",children:t("instructors.case1")})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-turquoise-500 mr-2",children:"✓"}),a.jsx("span",{className:"text-gray-800",children:t("instructors.case2")})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-turquoise-500 mr-2",children:"✓"}),a.jsx("span",{className:"text-gray-800",children:t("instructors.case3")})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-turquoise-500 mr-2",children:"✓"}),a.jsx("span",{className:"text-gray-800",children:t("instructors.case4")})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-turquoise-500 mr-2",children:"✓"}),a.jsx("span",{className:"text-gray-800",children:t("instructors.case5")})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-turquoise-500 mr-2",children:"✓"}),a.jsx("span",{className:"text-gray-800",children:t("instructors.case6")})]})]})]}),a.jsx("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:a.jsx("blockquote",{className:"text-center italic text-gray-700",children:t("instructors.quote")})})]})]})]})})})]})},$y=()=>{const{t}=pt(),e=r=>{r.preventDefault(),alert(t("contact.formSubmitSuccess"))},n={"@context":"https://schema.org","@type":"LocalBusiness",name:"Softis ピラティススタジオ",address:{"@type":"PostalAddress",streetAddress:"愛知県豊田市若宮町1-26 セントラルビル2階",addressLocality:"豊田市",addressRegion:"愛知県",postalCode:"",addressCountry:"JP"},geo:{"@type":"GeoCoordinates",latitude:"",longitude:""},url:"https://softis.jp/contact",contactPoint:{"@type":"ContactPoint",contactType:"予約・お問い合わせ",availableLanguage:["Japanese"]}};return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:t("contact.seoTitle"),description:t("contact.seoDescription"),keywords:t("contact.seoKeywords"),structuredData:n}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[a.jsx(Qe,{src:"/src/assets/IMG/IMG_2364.jpeg",alt:t("contact.headerImageAlt"),className:"w-full h-full object-cover",loading:"eager",quality:90,format:"webp"}),a.jsx("div",{className:"absolute inset-0 bg-turquoise-900 bg-opacity-70 z-0"})]}),a.jsx(ie,{className:"relative z-10",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-serif font-bold mb-4",children:t("contact.access")}),a.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-white/90",children:t("contact.accessSubtitle")})]})})]}),a.jsx(Ae,{children:a.jsx(ie,{children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-8 hover:shadow-xl transition-all duration-300",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-turquoise-700 mb-6",children:t("contact.accessInformation")}),a.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mb-8"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-turquoise-100 rounded-lg flex items-center justify-center mr-6 shadow-sm",children:a.jsx(Hd,{className:"text-turquoise-500",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:t("contact.address")}),a.jsxs("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:[t("contact.addressLine1"),a.jsx("br",{}),t("contact.addressLine2"),a.jsx("br",{}),t("contact.addressLine3")]})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-turquoise-100 rounded-lg flex items-center justify-center mr-6 shadow-sm",children:a.jsx(fs,{className:"text-turquoise-500",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-2",children:t("contact.accessDetails")}),a.jsxs("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm mb-2",children:[t("contact.accessDetailsLine1"),a.jsx("br",{}),t("contact.accessDetailsLine2")]})]})]})]}),a.jsxs("div",{className:"mt-10",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-4",children:t("contact.publicTransport")}),a.jsx("div",{className:"bg-white/80 p-4 rounded-lg shadow-sm",children:a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-turquoise-500 mr-2 font-bold",children:"•"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-turquoise-600",children:t("contact.meitetsuLine")}),a.jsx("p",{className:"text-gray-700",children:t("contact.toyotaStationAccess")})]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-turquoise-500 mr-2 font-bold",children:"•"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-turquoise-600",children:t("contact.aichiLoop")}),a.jsx("p",{className:"text-gray-700",children:t("contact.shinToyotaAccess")})]})]})]})})]})]}),a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsx("div",{className:"h-96 bg-neutral-200 rounded-xl overflow-hidden shadow-lg transition-shadow hover:shadow-xl",children:a.jsx("iframe",{loading:"lazy",src:"https://maps.google.com/maps?q=%E6%84%9B%E7%9F%A5%E7%9C%8C%E8%B1%8A%E7%94%B0%E5%B8%82%E8%8B%A5%E5%AE%AE%E7%94%BA1-26%20%E3%82%BB%E3%83%B3%E3%83%88%E3%83%A9%E3%83%AB%E3%83%93%E3%83%AB2%E9%9A%8E&t=m&z=20&output=embed&iwloc=near",title:t("contact.mapTitle"),"aria-label":t("contact.mapTitle"),className:"w-full h-full border-0",allowFullScreen:!0})}),a.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg transition-shadow hover:shadow-xl",children:a.jsx(Qe,{src:"/src/assets/studio/Softis.png",alt:t("contact.studioImage"),className:"w-full h-auto",quality:85,format:"webp"})}),a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300",children:[a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-4",children:t("contact.parkingInfo")}),a.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mb-6"}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-3 rounded-lg shadow-sm",children:t("contact.parkingDetails")})]})]})]})})}),a.jsx(Ae,{className:"bg-turquoise-100",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-serif font-bold text-turquoise-700 mb-4",children:t("contact.title")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"}),a.jsx("p",{className:"text-gray-800 text-lg bg-white/80 p-3 rounded-lg shadow-sm max-w-2xl mx-auto",children:t("contact.formDescription")})]}),a.jsx("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-8",children:a.jsxs("form",{onSubmit:e,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("contact.name")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("contact.email")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-neutral-700 text-sm font-medium mb-1",children:t("contact.phone")}),a.jsx("input",{type:"tel",id:"phone",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"subject",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("contact.subject")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"subject",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"message",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("contact.message")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"message",rows:6,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"privacy",className:"mr-2",required:!0}),a.jsxs("label",{htmlFor:"privacy",className:"text-sm text-neutral-700",children:[a.jsx("span",{className:"text-red-500",children:"*"})," ",t("contact.privacyConsent")]})]}),a.jsx("div",{className:"text-center",children:a.jsxs(De,{variant:"primary",size:"lg",type:"submit",className:"shadow-md hover:shadow-lg transform transition hover:-translate-y-1",children:[t("contact.send")," ",a.jsx(ul,{className:"ml-2 h-4 w-4"})]})})]})})]})})})]})},Hy=()=>{};var Pu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Qy=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,p=h&63;u||(p=64,o||(g=64)),r.push(n[d],n[f],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||f==null)throw new Ky;const g=i<<2|l>>4;if(r.push(g),h!==64){const p=l<<4&240|h>>2;if(r.push(p),f!==64){const v=h<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ky extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gy=function(t){const e=nm(t);return rm.encodeByteArray(e,!0)},Di=function(t){return Gy(t).replace(/\./g,"")},Wy=function(t){try{return rm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=()=>Jy().__FIREBASE_DEFAULTS__,Xy=()=>{if(typeof process>"u"||typeof Pu>"u")return;const t=Pu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wy(t[1]);return e&&JSON.parse(e)},ml=()=>{try{return Hy()||Yy()||Xy()||Zy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e0=t=>{var e,n;return(n=(e=ml())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t0=t=>{const e=e0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sm=()=>{var t;return(t=ml())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){return t.endsWith(".cloudworkstations.dev")}async function r0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Di(JSON.stringify(n)),Di(JSON.stringify(o)),""].join(".")}const is={};function i0(){const t={prod:[],emulator:[]};for(const e of Object.keys(is))is[e]?t.emulator.push(e):t.prod.push(e);return t}function a0(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ru=!1;function im(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||is[t]===e||is[t]||Ru)return;is[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=i0().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,p){g.setAttribute("width","24"),g.setAttribute("id",p),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Ru=!0,o()},g}function d(g,p){g.setAttribute("id",p),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=a0(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),C=document.getElementById(E)||document.createElement("a"),A=n("preprendIcon"),R=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const L=g.element;l(L),d(C,E);const U=h();u(R,A),L.append(R,v,C,U),document.body.appendChild(L)}i?(v.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l0(){var t;const e=(t=ml())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c0(){return!l0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u0(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d0,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,am.prototype.create)}}class am{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?m0(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Tr(s,l,r)}}function m0(t,e){return t.replace(f0,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const f0=/\{\$([^}]+)}/g;function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Du(i)&&Du(o)){if(!Li(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Du(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x0(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mn){return this.instances.has(e)}getOptions(e=Mn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mn){return this.component?this.component.multipleInstances?e:Mn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g0(t){return t===Mn?void 0:t}function x0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const b0={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},w0=ge.INFO,v0={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},_0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=v0[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class om{constructor(e){this.name=e,this._logLevel=w0,this._logHandler=_0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const E0=(t,e)=>e.some(n=>t instanceof n);let Lu,Ou;function N0(){return Lu||(Lu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T0(){return Ou||(Ou=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,ko=new WeakMap,cm=new WeakMap,Ka=new WeakMap,pl=new WeakMap;function j0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lm.set(n,t)}).catch(()=>{}),pl.set(e,t),e}function S0(t){if(ko.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ko.set(t,e)}let Io={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ko.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k0(t){Io=t(Io)}function I0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ga(this),e,...n);return cm.set(r,e.sort?e.sort():[e]),gn(r)}:T0().includes(t)?function(...e){return t.apply(Ga(this),e),gn(lm.get(this))}:function(...e){return gn(t.apply(Ga(this),e))}}function A0(t){return typeof t=="function"?I0(t):(t instanceof IDBTransaction&&S0(t),E0(t,N0())?new Proxy(t,Io):t)}function gn(t){if(t instanceof IDBRequest)return j0(t);if(Ka.has(t))return Ka.get(t);const e=A0(t);return e!==t&&(Ka.set(t,e),pl.set(e,t)),e}const Ga=t=>pl.get(t);function C0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=gn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gn(o.result),u.oldVersion,u.newVersion,gn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const P0=["get","getKey","getAll","getAllKeys","count"],R0=["put","add","delete","clear"],Wa=new Map;function Vu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wa.get(e))return Wa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=R0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||P0.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return Wa.set(e,i),i}k0(t=>({...t,get:(e,n,r)=>Vu(e,n)||t.get(e,n,r),has:(e,n)=>!!Vu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ao="@firebase/app",Mu="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new om("@firebase/app"),O0="@firebase/app-compat",V0="@firebase/analytics-compat",M0="@firebase/analytics",F0="@firebase/app-check-compat",q0="@firebase/app-check",z0="@firebase/auth",U0="@firebase/auth-compat",B0="@firebase/database",$0="@firebase/data-connect",H0="@firebase/database-compat",Q0="@firebase/functions",K0="@firebase/functions-compat",G0="@firebase/installations",W0="@firebase/installations-compat",J0="@firebase/messaging",Y0="@firebase/messaging-compat",X0="@firebase/performance",Z0="@firebase/performance-compat",eb="@firebase/remote-config",tb="@firebase/remote-config-compat",nb="@firebase/storage",rb="@firebase/storage-compat",sb="@firebase/firestore",ib="@firebase/vertexai",ab="@firebase/firestore-compat",ob="firebase",lb="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]",cb={[Ao]:"fire-core",[O0]:"fire-core-compat",[M0]:"fire-analytics",[V0]:"fire-analytics-compat",[q0]:"fire-app-check",[F0]:"fire-app-check-compat",[z0]:"fire-auth",[U0]:"fire-auth-compat",[B0]:"fire-rtdb",[$0]:"fire-data-connect",[H0]:"fire-rtdb-compat",[Q0]:"fire-fn",[K0]:"fire-fn-compat",[G0]:"fire-iid",[W0]:"fire-iid-compat",[J0]:"fire-fcm",[Y0]:"fire-fcm-compat",[X0]:"fire-perf",[Z0]:"fire-perf-compat",[eb]:"fire-rc",[tb]:"fire-rc-compat",[nb]:"fire-gcs",[rb]:"fire-gcs-compat",[sb]:"fire-fst",[ab]:"fire-fst-compat",[ib]:"fire-vertex","fire-js":"fire-js",[ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Map,ub=new Map,Po=new Map;function Fu(t,e){try{t.container.addComponent(e)}catch(n){tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vi(t){const e=t.name;if(Po.has(e))return tn.debug(`There were multiple attempts to register component ${e}.`),!1;Po.set(e,t);for(const n of Oi.values())Fu(n,t);for(const n of ub.values())Fu(n,t);return!0}function hb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function db(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xn=new am("app","Firebase",mb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=lb;function um(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Co,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw xn.create("bad-app-name",{appName:String(s)});if(n||(n=sm()),!n)throw xn.create("no-options");const i=Oi.get(s);if(i){if(Li(n,i.options)&&Li(r,i.config))return i;throw xn.create("duplicate-app",{appName:s})}const o=new y0(s);for(const u of Po.values())o.addComponent(u);const l=new fb(n,r,o);return Oi.set(s,l),l}function gb(t=Co){const e=Oi.get(t);if(!e&&t===Co&&sm())return um();if(!e)throw xn.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let s=(r=cb[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tn.warn(l.join(" "));return}Vi(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebase-heartbeat-database",yb=1,xs="firebase-heartbeat-store";let Ja=null;function hm(){return Ja||(Ja=C0(xb,yb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xs)}catch(n){console.warn(n)}}}}).catch(t=>{throw xn.create("idb-open",{originalErrorMessage:t.message})})),Ja}async function bb(t){try{const n=(await hm()).transaction(xs),r=await n.objectStore(xs).get(dm(t));return await n.done,r}catch(e){if(e instanceof Tr)tn.warn(e.message);else{const n=xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tn.warn(n.message)}}}async function qu(t,e){try{const r=(await hm()).transaction(xs,"readwrite");await r.objectStore(xs).put(e,dm(t)),await r.done}catch(n){if(n instanceof Tr)tn.warn(n.message);else{const r=xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tn.warn(r.message)}}}function dm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=1024,vb=30;class _b{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zu();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>vb){const o=Tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){tn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zu(),{heartbeatsToSend:r,unsentEntries:s}=Eb(this._heartbeatsCache.heartbeats),i=Di(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return tn.warn(n),""}}}function zu(){return new Date().toISOString().substring(0,10)}function Eb(t,e=wb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Uu(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Uu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u0()?h0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uu(t){return Di(JSON.stringify({version:2,heartbeats:t})).length}function Tb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){Vi(new gs("platform-logger",e=>new D0(e),"PRIVATE")),Vi(new gs("heartbeat",e=>new _b(e),"PRIVATE")),mr(Ao,Mu,t),mr(Ao,Mu,"esm2017"),mr("fire-js","")}jb("");var Sb="firebase",kb="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(Sb,kb,"app");var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yn,mm;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,y){function w(){}w.prototype=y.prototype,k.D=y.prototype,k.prototype=new w,k.prototype.constructor=k,k.C=function(N,_,j){for(var T=Array(arguments.length-2),K=2;K<arguments.length;K++)T[K-2]=arguments[K];return y.prototype[_].apply(N,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,y,w){w||(w=0);var N=Array(16);if(typeof y=="string")for(var _=0;16>_;++_)N[_]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(_=0;16>_;++_)N[_]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=k.g[0],w=k.g[1],_=k.g[2];var j=k.g[3],T=y+(j^w&(_^j))+N[0]+3614090360&4294967295;y=w+(T<<7&4294967295|T>>>25),T=j+(_^y&(w^_))+N[1]+3905402710&4294967295,j=y+(T<<12&4294967295|T>>>20),T=_+(w^j&(y^w))+N[2]+606105819&4294967295,_=j+(T<<17&4294967295|T>>>15),T=w+(y^_&(j^y))+N[3]+3250441966&4294967295,w=_+(T<<22&4294967295|T>>>10),T=y+(j^w&(_^j))+N[4]+4118548399&4294967295,y=w+(T<<7&4294967295|T>>>25),T=j+(_^y&(w^_))+N[5]+1200080426&4294967295,j=y+(T<<12&4294967295|T>>>20),T=_+(w^j&(y^w))+N[6]+2821735955&4294967295,_=j+(T<<17&4294967295|T>>>15),T=w+(y^_&(j^y))+N[7]+4249261313&4294967295,w=_+(T<<22&4294967295|T>>>10),T=y+(j^w&(_^j))+N[8]+1770035416&4294967295,y=w+(T<<7&4294967295|T>>>25),T=j+(_^y&(w^_))+N[9]+2336552879&4294967295,j=y+(T<<12&4294967295|T>>>20),T=_+(w^j&(y^w))+N[10]+4294925233&4294967295,_=j+(T<<17&4294967295|T>>>15),T=w+(y^_&(j^y))+N[11]+2304563134&4294967295,w=_+(T<<22&4294967295|T>>>10),T=y+(j^w&(_^j))+N[12]+1804603682&4294967295,y=w+(T<<7&4294967295|T>>>25),T=j+(_^y&(w^_))+N[13]+4254626195&4294967295,j=y+(T<<12&4294967295|T>>>20),T=_+(w^j&(y^w))+N[14]+2792965006&4294967295,_=j+(T<<17&4294967295|T>>>15),T=w+(y^_&(j^y))+N[15]+1236535329&4294967295,w=_+(T<<22&4294967295|T>>>10),T=y+(_^j&(w^_))+N[1]+4129170786&4294967295,y=w+(T<<5&4294967295|T>>>27),T=j+(w^_&(y^w))+N[6]+3225465664&4294967295,j=y+(T<<9&4294967295|T>>>23),T=_+(y^w&(j^y))+N[11]+643717713&4294967295,_=j+(T<<14&4294967295|T>>>18),T=w+(j^y&(_^j))+N[0]+3921069994&4294967295,w=_+(T<<20&4294967295|T>>>12),T=y+(_^j&(w^_))+N[5]+3593408605&4294967295,y=w+(T<<5&4294967295|T>>>27),T=j+(w^_&(y^w))+N[10]+38016083&4294967295,j=y+(T<<9&4294967295|T>>>23),T=_+(y^w&(j^y))+N[15]+3634488961&4294967295,_=j+(T<<14&4294967295|T>>>18),T=w+(j^y&(_^j))+N[4]+3889429448&4294967295,w=_+(T<<20&4294967295|T>>>12),T=y+(_^j&(w^_))+N[9]+568446438&4294967295,y=w+(T<<5&4294967295|T>>>27),T=j+(w^_&(y^w))+N[14]+3275163606&4294967295,j=y+(T<<9&4294967295|T>>>23),T=_+(y^w&(j^y))+N[3]+4107603335&4294967295,_=j+(T<<14&4294967295|T>>>18),T=w+(j^y&(_^j))+N[8]+1163531501&4294967295,w=_+(T<<20&4294967295|T>>>12),T=y+(_^j&(w^_))+N[13]+2850285829&4294967295,y=w+(T<<5&4294967295|T>>>27),T=j+(w^_&(y^w))+N[2]+4243563512&4294967295,j=y+(T<<9&4294967295|T>>>23),T=_+(y^w&(j^y))+N[7]+1735328473&4294967295,_=j+(T<<14&4294967295|T>>>18),T=w+(j^y&(_^j))+N[12]+2368359562&4294967295,w=_+(T<<20&4294967295|T>>>12),T=y+(w^_^j)+N[5]+4294588738&4294967295,y=w+(T<<4&4294967295|T>>>28),T=j+(y^w^_)+N[8]+2272392833&4294967295,j=y+(T<<11&4294967295|T>>>21),T=_+(j^y^w)+N[11]+1839030562&4294967295,_=j+(T<<16&4294967295|T>>>16),T=w+(_^j^y)+N[14]+4259657740&4294967295,w=_+(T<<23&4294967295|T>>>9),T=y+(w^_^j)+N[1]+2763975236&4294967295,y=w+(T<<4&4294967295|T>>>28),T=j+(y^w^_)+N[4]+1272893353&4294967295,j=y+(T<<11&4294967295|T>>>21),T=_+(j^y^w)+N[7]+4139469664&4294967295,_=j+(T<<16&4294967295|T>>>16),T=w+(_^j^y)+N[10]+3200236656&4294967295,w=_+(T<<23&4294967295|T>>>9),T=y+(w^_^j)+N[13]+681279174&4294967295,y=w+(T<<4&4294967295|T>>>28),T=j+(y^w^_)+N[0]+3936430074&4294967295,j=y+(T<<11&4294967295|T>>>21),T=_+(j^y^w)+N[3]+3572445317&4294967295,_=j+(T<<16&4294967295|T>>>16),T=w+(_^j^y)+N[6]+76029189&4294967295,w=_+(T<<23&4294967295|T>>>9),T=y+(w^_^j)+N[9]+3654602809&4294967295,y=w+(T<<4&4294967295|T>>>28),T=j+(y^w^_)+N[12]+3873151461&4294967295,j=y+(T<<11&4294967295|T>>>21),T=_+(j^y^w)+N[15]+530742520&4294967295,_=j+(T<<16&4294967295|T>>>16),T=w+(_^j^y)+N[2]+3299628645&4294967295,w=_+(T<<23&4294967295|T>>>9),T=y+(_^(w|~j))+N[0]+4096336452&4294967295,y=w+(T<<6&4294967295|T>>>26),T=j+(w^(y|~_))+N[7]+1126891415&4294967295,j=y+(T<<10&4294967295|T>>>22),T=_+(y^(j|~w))+N[14]+2878612391&4294967295,_=j+(T<<15&4294967295|T>>>17),T=w+(j^(_|~y))+N[5]+4237533241&4294967295,w=_+(T<<21&4294967295|T>>>11),T=y+(_^(w|~j))+N[12]+1700485571&4294967295,y=w+(T<<6&4294967295|T>>>26),T=j+(w^(y|~_))+N[3]+2399980690&4294967295,j=y+(T<<10&4294967295|T>>>22),T=_+(y^(j|~w))+N[10]+4293915773&4294967295,_=j+(T<<15&4294967295|T>>>17),T=w+(j^(_|~y))+N[1]+2240044497&4294967295,w=_+(T<<21&4294967295|T>>>11),T=y+(_^(w|~j))+N[8]+1873313359&4294967295,y=w+(T<<6&4294967295|T>>>26),T=j+(w^(y|~_))+N[15]+4264355552&4294967295,j=y+(T<<10&4294967295|T>>>22),T=_+(y^(j|~w))+N[6]+2734768916&4294967295,_=j+(T<<15&4294967295|T>>>17),T=w+(j^(_|~y))+N[13]+1309151649&4294967295,w=_+(T<<21&4294967295|T>>>11),T=y+(_^(w|~j))+N[4]+4149444226&4294967295,y=w+(T<<6&4294967295|T>>>26),T=j+(w^(y|~_))+N[11]+3174756917&4294967295,j=y+(T<<10&4294967295|T>>>22),T=_+(y^(j|~w))+N[2]+718787259&4294967295,_=j+(T<<15&4294967295|T>>>17),T=w+(j^(_|~y))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+y&4294967295,k.g[1]=k.g[1]+(_+(T<<21&4294967295|T>>>11))&4294967295,k.g[2]=k.g[2]+_&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,y){y===void 0&&(y=k.length);for(var w=y-this.blockSize,N=this.B,_=this.h,j=0;j<y;){if(_==0)for(;j<=w;)s(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<y;)if(N[_++]=k.charCodeAt(j++),_==this.blockSize){s(this,N),_=0;break}}else for(;j<y;)if(N[_++]=k[j++],_==this.blockSize){s(this,N),_=0;break}}this.h=_,this.o+=y},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var y=1;y<k.length-8;++y)k[y]=0;var w=8*this.o;for(y=k.length-8;y<k.length;++y)k[y]=w&255,w/=256;for(this.u(k),k=Array(16),y=w=0;4>y;++y)for(var N=0;32>N;N+=8)k[w++]=this.g[y]>>>N&255;return k};function i(k,y){var w=l;return Object.prototype.hasOwnProperty.call(w,k)?w[k]:w[k]=y(k)}function o(k,y){this.h=y;for(var w=[],N=!0,_=k.length-1;0<=_;_--){var j=k[_]|0;N&&j==y||(w[_]=j,N=!1)}this.g=w}var l={};function u(k){return-128<=k&&128>k?i(k,function(y){return new o([y|0],0>y?-1:0)}):new o([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return C(h(-k));for(var y=[],w=1,N=0;k>=w;N++)y[N]=k/w|0,w*=4294967296;return new o(y,0)}function d(k,y){if(k.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(k.charAt(0)=="-")return C(d(k.substring(1),y));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(y,8)),N=f,_=0;_<k.length;_+=8){var j=Math.min(8,k.length-_),T=parseInt(k.substring(_,_+j),y);8>j?(j=h(Math.pow(y,j)),N=N.j(j).add(h(T))):(N=N.j(w),N=N.add(h(T)))}return N}var f=u(0),g=u(1),p=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-C(this).m();for(var k=0,y=1,w=0;w<this.g.length;w++){var N=this.i(w);k+=(0<=N?N:4294967296+N)*y,y*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(E(this))return"-"+C(this).toString(k);for(var y=h(Math.pow(k,6)),w=this,N="";;){var _=U(w,y).g;w=A(w,_.j(y));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(k);if(w=_,v(w))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var y=0;y<k.g.length;y++)if(k.g[y]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=A(this,k),E(k)?-1:v(k)?0:1};function C(k){for(var y=k.g.length,w=[],N=0;N<y;N++)w[N]=~k.g[N];return new o(w,~k.h).add(g)}t.abs=function(){return E(this)?C(this):this},t.add=function(k){for(var y=Math.max(this.g.length,k.g.length),w=[],N=0,_=0;_<=y;_++){var j=N+(this.i(_)&65535)+(k.i(_)&65535),T=(j>>>16)+(this.i(_)>>>16)+(k.i(_)>>>16);N=T>>>16,j&=65535,T&=65535,w[_]=T<<16|j}return new o(w,w[w.length-1]&-2147483648?-1:0)};function A(k,y){return k.add(C(y))}t.j=function(k){if(v(this)||v(k))return f;if(E(this))return E(k)?C(this).j(C(k)):C(C(this).j(k));if(E(k))return C(this.j(C(k)));if(0>this.l(p)&&0>k.l(p))return h(this.m()*k.m());for(var y=this.g.length+k.g.length,w=[],N=0;N<2*y;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var _=0;_<k.g.length;_++){var j=this.i(N)>>>16,T=this.i(N)&65535,K=k.i(_)>>>16,Y=k.i(_)&65535;w[2*N+2*_]+=T*Y,R(w,2*N+2*_),w[2*N+2*_+1]+=j*Y,R(w,2*N+2*_+1),w[2*N+2*_+1]+=T*K,R(w,2*N+2*_+1),w[2*N+2*_+2]+=j*K,R(w,2*N+2*_+2)}for(N=0;N<y;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=y;N<2*y;N++)w[N]=0;return new o(w,0)};function R(k,y){for(;(k[y]&65535)!=k[y];)k[y+1]+=k[y]>>>16,k[y]&=65535,y++}function L(k,y){this.g=k,this.h=y}function U(k,y){if(v(y))throw Error("division by zero");if(v(k))return new L(f,f);if(E(k))return y=U(C(k),y),new L(C(y.g),C(y.h));if(E(y))return y=U(k,C(y)),new L(C(y.g),y.h);if(30<k.g.length){if(E(k)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,N=y;0>=N.l(k);)w=W(w),N=W(N);var _=D(w,1),j=D(N,1);for(N=D(N,2),w=D(w,2);!v(N);){var T=j.add(N);0>=T.l(k)&&(_=_.add(w),j=T),N=D(N,1),w=D(w,1)}return y=A(k,_.j(y)),new L(_,y)}for(_=f;0<=k.l(y);){for(w=Math.max(1,Math.floor(k.m()/y.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=h(w),T=j.j(y);E(T)||0<T.l(k);)w-=N,j=h(w),T=j.j(y);v(j)&&(j=g),_=_.add(j),k=A(k,T)}return new L(_,k)}t.A=function(k){return U(this,k).h},t.and=function(k){for(var y=Math.max(this.g.length,k.g.length),w=[],N=0;N<y;N++)w[N]=this.i(N)&k.i(N);return new o(w,this.h&k.h)},t.or=function(k){for(var y=Math.max(this.g.length,k.g.length),w=[],N=0;N<y;N++)w[N]=this.i(N)|k.i(N);return new o(w,this.h|k.h)},t.xor=function(k){for(var y=Math.max(this.g.length,k.g.length),w=[],N=0;N<y;N++)w[N]=this.i(N)^k.i(N);return new o(w,this.h^k.h)};function W(k){for(var y=k.g.length+1,w=[],N=0;N<y;N++)w[N]=k.i(N)<<1|k.i(N-1)>>>31;return new o(w,k.h)}function D(k,y){var w=y>>5;y%=32;for(var N=k.g.length-w,_=[],j=0;j<N;j++)_[j]=0<y?k.i(j+w)>>>y|k.i(j+w+1)<<32-y:k.i(j+w);return new o(_,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mm=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,yn=o}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fm,Zr,pm,fi,Ro,gm,xm,ym;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,x){return c==Array.prototype||c==Object.prototype||(c[m]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ri=="object"&&ri];for(var m=0;m<c.length;++m){var x=c[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var x=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in x))break e;x=x[P]}c=c[c.length-1],b=x[c],m=m(b),m!=b&&m!=null&&e(x,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var x=0,b=!1,P={next:function(){if(!b&&x<c.length){var O=x++;return{value:m(O,c[O]),done:!1}}return b=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function h(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,x){return c.call.apply(c.bind,arguments)}function f(c,m,x){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,b),c.apply(m,P)}}return function(){return c.apply(m,arguments)}}function g(c,m,x){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function p(c,m){var x=Array.prototype.slice.call(arguments,1);return function(){var b=x.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function v(c,m){function x(){}x.prototype=m.prototype,c.aa=m.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(b,P,O){for(var H=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)H[Se-2]=arguments[Se];return m.prototype[P].apply(b,H)}}function E(c){const m=c.length;if(0<m){const x=Array(m);for(let b=0;b<m;b++)x[b]=c[b];return x}return[]}function C(c,m){for(let x=1;x<arguments.length;x++){const b=arguments[x];if(u(b)){const P=c.length||0,O=b.length||0;c.length=P+O;for(let H=0;H<O;H++)c[P+H]=b[H]}else c.push(b)}}class A{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function R(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function U(c){return U[" "](c),c}U[" "]=function(){};var W=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function D(c,m,x){for(const b in c)m.call(x,c[b],b,c)}function k(c,m){for(const x in c)m.call(void 0,c[x],x,c)}function y(c){const m={};for(const x in c)m[x]=c[x];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,m){let x,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(x in b)c[x]=b[x];for(let O=0;O<w.length;O++)x=w[O],Object.prototype.hasOwnProperty.call(b,x)&&(c[x]=b[x])}}function _(c){var m=1;c=c.split(":");const x=[];for(;0<m&&c.length;)x.push(c.shift()),m--;return c.length&&x.push(c.join(":")),x}function j(c){l.setTimeout(()=>{throw c},0)}function T(){var c=Oe;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class K{constructor(){this.h=this.g=null}add(m,x){const b=Y.get();b.set(m,x),this.h?this.h.next=b:this.g=b,this.h=b}}var Y=new A(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,je=!1,Oe=new K,I=()=>{const c=l.Promise.resolve(void 0);le=()=>{c.then(_e)}};var _e=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(x){j(x)}var m=Y;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}je=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};l.addEventListener("test",x,m),l.removeEventListener("test",x,m)}catch{}return c}();function Ye(c,m){if(S.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(W){e:{try{U(m.nodeName);var P=!0;break e}catch{}P=!1}P||(m=null)}}else x=="mouseover"?m=c.fromElement:x=="mouseout"&&(m=c.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ye.aa.h.call(this)}}v(Ye,S);var Fe={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),ce=0;function me(c,m,x,b,P){this.listener=c,this.proxy=null,this.src=m,this.type=x,this.capture=!!b,this.ha=P,this.key=++ce,this.da=this.fa=!1}function xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ye(c){this.src=c,this.g={},this.h=0}ye.prototype.add=function(c,m,x,b,P){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var H=gt(c,m,b,P);return-1<H?(m=c[H],x||(m.fa=!1)):(m=new me(m,this.src,O,!!b,P),m.fa=x,c.push(m)),m};function Ee(c,m){var x=m.type;if(x in c.g){var b=c.g[x],P=Array.prototype.indexOf.call(b,m,void 0),O;(O=0<=P)&&Array.prototype.splice.call(b,P,1),O&&(xe(m),c.g[x].length==0&&(delete c.g[x],c.h--))}}function gt(c,m,x,b){for(var P=0;P<c.length;++P){var O=c[P];if(!O.da&&O.listener==m&&O.capture==!!x&&O.ha==b)return P}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Ue={};function Vt(c,m,x,b,P){if(Array.isArray(m)){for(var O=0;O<m.length;O++)Vt(c,m[O],x,b,P);return null}return x=Fs(x),c&&c[$]?c.K(m,x,h(b)?!!b.capture:!!b,P):Pn(c,m,x,!1,b,P)}function Pn(c,m,x,b,P,O){if(!m)throw Error("Invalid event type");var H=h(P)?!!P.capture:!!P,Se=Dr(c);if(Se||(c[ht]=Se=new ye(c)),x=Se.add(m,x,b,H,O),x.proxy)return x;if(b=Rn(),x.proxy=b,b.src=c,b.listener=x,c.addEventListener)ze||(P=H),P===void 0&&(P=!1),c.addEventListener(m.toString(),b,P);else if(c.attachEvent)c.attachEvent(Ms(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Rn(){function c(x){return m.call(c.src,c.listener,x)}const m=Sa;return c}function Rr(c,m,x,b,P){if(Array.isArray(m))for(var O=0;O<m.length;O++)Rr(c,m[O],x,b,P);else b=h(b)?!!b.capture:!!b,x=Fs(x),c&&c[$]?(c=c.i,m=String(m).toString(),m in c.g&&(O=c.g[m],x=gt(O,x,b,P),-1<x&&(xe(O[x]),Array.prototype.splice.call(O,x,1),O.length==0&&(delete c.g[m],c.h--)))):c&&(c=Dr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=gt(m,x,b,P)),(x=-1<c?m[c]:null)&&Wn(x))}function Wn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[$])Ee(m.i,c);else{var x=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(x,b,c.capture):m.detachEvent?m.detachEvent(Ms(x),b):m.addListener&&m.removeListener&&m.removeListener(b),(x=Dr(m))?(Ee(x,c),x.h==0&&(x.src=null,m[ht]=null)):xe(c)}}}function Ms(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function Sa(c,m){if(c.da)c=!0;else{m=new Ye(m,this);var x=c.listener,b=c.ha||c.src;c.fa&&Wn(c),c=x.call(b,m)}return c}function Dr(c){return c=c[ht],c instanceof ye?c:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fs(c){return typeof c=="function"?c:(c[Lr]||(c[Lr]=function(m){return c.handleEvent(m)}),c[Lr])}function V(){we.call(this),this.i=new ye(this),this.M=this,this.F=null}v(V,we),V.prototype[$]=!0,V.prototype.removeEventListener=function(c,m,x,b){Rr(this,c,m,x,b)};function z(c,m){var x,b=c.F;if(b)for(x=[];b;b=b.F)x.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new S(m,c);else if(m instanceof S)m.target=m.target||c;else{var P=m;m=new S(b,c),N(m,P)}if(P=!0,x)for(var O=x.length-1;0<=O;O--){var H=m.g=x[O];P=ee(H,b,!0,m)&&P}if(H=m.g=c,P=ee(H,b,!0,m)&&P,P=ee(H,b,!1,m)&&P,x)for(O=0;O<x.length;O++)H=m.g=x[O],P=ee(H,b,!1,m)&&P}V.prototype.N=function(){if(V.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var x=c.g[m],b=0;b<x.length;b++)xe(x[b]);delete c.g[m],c.h--}}this.F=null},V.prototype.K=function(c,m,x,b){return this.i.add(String(c),m,!1,x,b)},V.prototype.L=function(c,m,x,b){return this.i.add(String(c),m,!0,x,b)};function ee(c,m,x,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,O=0;O<m.length;++O){var H=m[O];if(H&&!H.da&&H.capture==x){var Se=H.listener,et=H.ha||H.src;H.fa&&Ee(c.i,H),P=Se.call(et,b)!==!1&&P}}return P&&!b.defaultPrevented}function he(c,m,x){if(typeof c=="function")x&&(c=g(c,x));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(c,m||0)}function Ne(c){c.g=he(()=>{c.g=null,c.i&&(c.i=!1,Ne(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Et extends we{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(c){we.call(this),this.h=c,this.g={}}v(Nt,we);var At=[];function on(c){D(c.g,function(m,x){this.g.hasOwnProperty(x)&&Wn(m)},c),c.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),on(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=l.JSON.stringify,dt=l.JSON.parse,ln=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function Tt(){}Tt.prototype.h=null;function fc(c){return c.h||(c.h=c.i())}function pc(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ka(){S.call(this,"d")}v(ka,S);function Ia(){S.call(this,"c")}v(Ia,S);var Dn={},gc=null;function qs(){return gc=gc||new V}Dn.La="serverreachability";function xc(c){S.call(this,Dn.La,c)}v(xc,S);function Vr(c){const m=qs();z(m,new xc(m))}Dn.STAT_EVENT="statevent";function yc(c,m){S.call(this,Dn.STAT_EVENT,c),this.stat=m}v(yc,S);function mt(c){const m=qs();z(m,new yc(m,c))}Dn.Ma="timingevent";function bc(c,m){S.call(this,Dn.Ma,c),this.size=m}v(bc,S);function Mr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},m)}function Fr(){this.g=!0}Fr.prototype.xa=function(){this.g=!1};function Lp(c,m,x,b,P,O){c.info(function(){if(c.g)if(O)for(var H="",Se=O.split("&"),et=0;et<Se.length;et++){var be=Se[et].split("=");if(1<be.length){var it=be[0];be=be[1];var at=it.split("_");H=2<=at.length&&at[1]=="type"?H+(it+"="+be+"&"):H+(it+"=redacted&")}}else H=null;else H=O;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+x+`
`+H})}function Op(c,m,x,b,P,O,H){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+x+`
`+O+" "+H})}function Jn(c,m,x,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mp(c,x)+(b?" "+b:"")})}function Vp(c,m){c.info(function(){return"TIMEOUT: "+m})}Fr.prototype.info=function(){};function Mp(c,m){if(!c.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var b=x[c];if(!(2>b.length)){var P=b[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(var H=1;H<P.length;H++)P[H]=""}}}}return Gt(x)}catch{return m}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Aa;function Us(){}v(Us,Tt),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},Aa=new Us;function cn(c,m,x,b){this.j=c,this.i=m,this.l=x,this.R=b||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vc}function vc(){this.i=null,this.g="",this.h=!1}var _c={},Ca={};function Pa(c,m,x){c.L=1,c.v=Qs(Wt(m)),c.m=x,c.P=!0,Ec(c,null)}function Ec(c,m){c.F=Date.now(),Bs(c),c.A=Wt(c.v);var x=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Vc(x.i,"t",b),c.C=0,x=c.j.J,c.h=new vc,c.g=tu(c.j,x?m:null,!c.m),0<c.O&&(c.M=new Et(g(c.Y,c,c.g),c.O)),m=c.U,x=c.g,b=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(At[0]=P.toString()),P=At);for(var O=0;O<P.length;O++){var H=Vt(x,P[O],b||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Vr(),Lp(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Jt(c)==3?m.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const at=Jt(this.g);var m=this.g.Ba();const Zn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||at!=4||m==7||(m==8||0>=Zn?Vr(3):Vr(2)),Ra(this);var x=this.g.Z();this.X=x;t:if(Nc(this)){var b=$c(this.g);c="";var P=b.length,O=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),qr(this);var H="";break t}this.h.i=new l.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,c+=this.h.i.decode(b[m],{stream:!(O&&m==P-1)});b.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=x==200,Op(this.i,this.u,this.A,this.l,this.R,at,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,et=this.g;if((Se=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Se)){var be=Se;break t}}be=null}if(x=be)Jn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,x);else{this.o=!1,this.s=3,mt(12),Ln(this),qr(this);break e}}if(this.P){x=!0;let Dt;for(;!this.J&&this.C<H.length;)if(Dt=Fp(this,H),Dt==Ca){at==4&&(this.s=4,mt(14),x=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==_c){this.s=4,mt(15),Jn(this.i,this.l,H,"[Invalid Chunk]"),x=!1;break}else Jn(this.i,this.l,Dt,null),Da(this,Dt);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||H.length!=0||this.h.h||(this.s=1,mt(16),x=!1),this.o=this.o&&x,!x)Jn(this.i,this.l,H,"[Invalid Chunked Response]"),Ln(this),qr(this);else if(0<H.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),qa(it),it.M=!0,mt(11))}}else Jn(this.i,this.l,H,null),Da(this,H);at==4&&Ln(this),this.o&&!this.J&&(at==4?Yc(this.j,this):(this.o=!1,Bs(this)))}else ng(this.g),x==400&&0<H.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Ln(this),qr(this)}}}catch{}finally{}};function Nc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fp(c,m){var x=c.C,b=m.indexOf(`
`,x);return b==-1?Ca:(x=Number(m.substring(x,b)),isNaN(x)?_c:(b+=1,b+x>m.length?Ca:(m=m.slice(b,b+x),c.C=b+x,m)))}cn.prototype.cancel=function(){this.J=!0,Ln(this)};function Bs(c){c.S=Date.now()+c.I,Tc(c,c.I)}function Tc(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mr(g(c.ba,c),m)}function Ra(c){c.B&&(l.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vp(this.i,this.A),this.L!=2&&(Vr(),mt(17)),Ln(this),this.s=2,qr(this)):Tc(this,this.S-c)};function qr(c){c.j.G==0||c.J||Yc(c.j,c)}function Ln(c){Ra(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,on(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Da(c,m){try{var x=c.j;if(x.G!=0&&(x.g==c||La(x.h,c))){if(!c.K&&La(x.h,c)&&x.G==3){try{var b=x.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)Xs(x),Js(x);else break e;Fa(x),mt(18)}}else x.za=P[1],0<x.za-x.T&&37500>P[2]&&x.F&&x.v==0&&!x.C&&(x.C=Mr(g(x.Za,x),6e3));if(1>=kc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Vn(x,11)}else if((c.K||x.g==c)&&Xs(x),!R(m))for(P=x.Da.g.parse(m),m=0;m<P.length;m++){let be=P[m];if(x.T=be[0],be=be[1],x.G==2)if(be[0]=="c"){x.K=be[1],x.ia=be[2];const it=be[3];it!=null&&(x.la=it,x.j.info("VER="+x.la));const at=be[4];at!=null&&(x.Aa=at,x.j.info("SVER="+x.Aa));const Zn=be[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(b=1.5*Zn,x.L=b,x.j.info("backChannelRequestTimeoutMs_="+b)),b=x;const Dt=c.g;if(Dt){const ei=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var O=b.h;O.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Oa(O,O.h),O.h=null))}if(b.D){const za=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(b.ya=za,Ce(b.I,b.D,za))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),b=x;var H=c;if(b.qa=eu(b,b.J?b.ia:null,b.W),H.K){Ic(b.h,H);var Se=H,et=b.L;et&&(Se.I=et),Se.B&&(Ra(Se),Bs(Se)),b.g=H}else Wc(b);0<x.i.length&&Ys(x)}else be[0]!="stop"&&be[0]!="close"||Vn(x,7);else x.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Vn(x,7):Ma(x):be[0]!="noop"&&x.l&&x.l.ta(be),x.v=0)}}Vr(4)}catch{}}var qp=class{constructor(c,m){this.g=c,this.map=m}};function jc(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sc(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function kc(c){return c.h?1:c.g?c.g.size:0}function La(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Oa(c,m){c.g?c.g.add(m):c.h=m}function Ic(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}jc.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ac(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const x of c.g.values())m=m.concat(x.D);return m}return E(c.i)}function zp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var m=[],x=c.length,b=0;b<x;b++)m.push(c[b]);return m}m=[],x=0;for(b in c)m[x++]=c[b];return m}function Up(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var m=[];c=c.length;for(var x=0;x<c;x++)m.push(x);return m}m=[],x=0;for(const b in c)m[x++]=b;return m}}}function Cc(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var x=Up(c),b=zp(c),P=b.length,O=0;O<P;O++)m.call(void 0,b[O],x&&x[O],c)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bp(c,m){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var b=c[x].indexOf("="),P=null;if(0<=b){var O=c[x].substring(0,b);P=c[x].substring(b+1)}else O=c[x];m(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function On(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof On){this.h=c.h,$s(this,c.j),this.o=c.o,this.g=c.g,Hs(this,c.s),this.l=c.l;var m=c.i,x=new Br;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),Rc(this,x),this.m=c.m}else c&&(m=String(c).match(Pc))?(this.h=!1,$s(this,m[1]||"",!0),this.o=zr(m[2]||""),this.g=zr(m[3]||"",!0),Hs(this,m[4]),this.l=zr(m[5]||"",!0),Rc(this,m[6]||"",!0),this.m=zr(m[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}On.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ur(m,Dc,!0),":");var x=this.g;return(x||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ur(m,Dc,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Ur(x,x.charAt(0)=="/"?Qp:Hp,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Ur(x,Gp)),c.join("")};function Wt(c){return new On(c)}function $s(c,m,x){c.j=x?zr(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Hs(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Rc(c,m,x){m instanceof Br?(c.i=m,Wp(c.i,c.h)):(x||(m=Ur(m,Kp)),c.i=new Br(m,c.h))}function Ce(c,m,x){c.i.set(m,x)}function Qs(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zr(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ur(c,m,x){return typeof c=="string"?(c=encodeURI(c).replace(m,$p),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $p(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Dc=/[#\/\?@]/g,Hp=/[#\?:]/g,Qp=/[#\?]/g,Kp=/[#\?@]/g,Gp=/#/g;function Br(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Bp(c.i,function(m,x){c.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Br.prototype,t.add=function(c,m){un(this),this.i=null,c=Yn(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(m),this.h+=1,this};function Lc(c,m){un(c),m=Yn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oc(c,m){return un(c),m=Yn(c,m),c.g.has(m)}t.forEach=function(c,m){un(this),this.g.forEach(function(x,b){x.forEach(function(P){c.call(m,P,b,this)},this)},this)},t.na=function(){un(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let b=0;b<m.length;b++){const P=c[b];for(let O=0;O<P.length;O++)x.push(m[b])}return x},t.V=function(c){un(this);let m=[];if(typeof c=="string")Oc(this,c)&&(m=m.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)m=m.concat(c[x])}return m},t.set=function(c,m){return un(this),this.i=null,c=Yn(this,c),Oc(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Vc(c,m,x){Lc(c,m),0<x.length&&(c.i=null,c.g.set(Yn(c,m),E(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var b=m[x];const O=encodeURIComponent(String(b)),H=this.V(b);for(b=0;b<H.length;b++){var P=O;H[b]!==""&&(P+="="+encodeURIComponent(String(H[b]))),c.push(P)}}return this.i=c.join("&")};function Yn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Wp(c,m){m&&!c.j&&(un(c),c.i=null,c.g.forEach(function(x,b){var P=b.toLowerCase();b!=P&&(Lc(this,b),Vc(this,P,x))},c)),c.j=m}function Jp(c,m){const x=new Fr;if(l.Image){const b=new Image;b.onload=p(hn,x,"TestLoadImage: loaded",!0,m,b),b.onerror=p(hn,x,"TestLoadImage: error",!1,m,b),b.onabort=p(hn,x,"TestLoadImage: abort",!1,m,b),b.ontimeout=p(hn,x,"TestLoadImage: timeout",!1,m,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Yp(c,m){const x=new Fr,b=new AbortController,P=setTimeout(()=>{b.abort(),hn(x,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(O=>{clearTimeout(P),O.ok?hn(x,"TestPingServer: ok",!0,m):hn(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),hn(x,"TestPingServer: error",!1,m)})}function hn(c,m,x,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(x)}catch{}}function Xp(){this.g=new ln}function Zp(c,m,x){const b=x||"";try{Cc(c,function(P,O){let H=P;h(P)&&(H=Gt(P)),m.push(b+O+"="+encodeURIComponent(H))})}catch(P){throw m.push(b+"type="+encodeURIComponent("_badmap")),P}}function Ks(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Ks,Tt),Ks.prototype.g=function(){return new Gs(this.l,this.j)},Ks.prototype.i=function(c){return function(){return c}}({});function Gs(c,m){V.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Gs,V),t=Gs.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Hr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?$r(this):Hr(this),this.readyState==3&&Mc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$r(this))},t.Qa=function(c){this.g&&(this.response=c,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hr(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=m.next();return c.join(`\r
`)};function Hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fc(c){let m="";return D(c,function(x,b){m+=b,m+=":",m+=x,m+=`\r
`}),m}function Va(c,m,x){e:{for(b in x){var b=!1;break e}b=!0}b||(x=Fc(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):Ce(c,m,x))}function Me(c){V.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Me,V);var eg=/^https?$/i,tg=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,x,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Aa.g(),this.v=this.o?fc(this.o):fc(Aa),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(O){qc(this,O);return}if(c=x||"",x=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)x.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const O of b.keys())x.set(O,b.get(O));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(x.keys()).find(O=>O.toLowerCase()=="content-type"),P=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(tg,m,void 0))||b||P||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,H]of x)this.g.setRequestHeader(O,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bc(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){qc(this,O)}};function qc(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,zc(c),Ws(c)}function zc(c){c.A||(c.A=!0,z(c,"complete"),z(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,z(this,"complete"),z(this,"abort"),Ws(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ws(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Uc(this):this.bb())},t.bb=function(){Uc(this)};function Uc(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Jt(c)!=4||c.Z()!=2)){if(c.u&&Jt(c)==4)he(c.Ea,0,c);else if(z(c,"readystatechange"),Jt(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var b;if(b=H===0){var P=String(c.D).match(Pc)[1]||null;!P&&l.self&&l.self.location&&(P=l.self.location.protocol.slice(0,-1)),b=!eg.test(P?P.toLowerCase():"")}x=b}if(x)z(c,"complete"),z(c,"success");else{c.m=6;try{var O=2<Jt(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",zc(c)}}finally{Ws(c)}}}}function Ws(c,m){if(c.g){Bc(c);const x=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||z(c,"ready");try{x.onreadystatechange=b}catch{}}}function Bc(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jt(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),dt(m)}};function $c(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ng(c){const m={};c=(c.g&&2<=Jt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var x=_(c[b]);const P=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const O=m[P]||[];m[P]=O,O.push(x)}k(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(c,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||m}function Hc(c){this.Aa=0,this.i=[],this.j=new Fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,c),this.cb=Qr("retryDelaySeedMs",1e4,c),this.Wa=Qr("forwardChannelMaxRetries",2,c),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jc(c&&c.concurrentRequestLimit),this.Da=new Xp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hc.prototype,t.la=8,t.G=1,t.connect=function(c,m,x,b){mt(0),this.W=c,this.H=m||{},x&&b!==void 0&&(this.H.OSID=x,this.H.OAID=b),this.F=this.X,this.I=eu(this,null,this.W),Ys(this)};function Ma(c){if(Qc(c),c.G==3){var m=c.U++,x=Wt(c.I);if(Ce(x,"SID",c.K),Ce(x,"RID",m),Ce(x,"TYPE","terminate"),Kr(c,x),m=new cn(c,c.j,m),m.L=2,m.v=Qs(Wt(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&l.Image&&(new Image().src=m.v,x=!0),x||(m.g=tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Bs(m)}Zc(c)}function Js(c){c.g&&(qa(c),c.g.cancel(),c.g=null)}function Qc(c){Js(c),c.u&&(l.clearTimeout(c.u),c.u=null),Xs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function Ys(c){if(!Sc(c.h)&&!c.s){c.s=!0;var m=c.Ga;le||I(),je||(le(),je=!0),Oe.add(m,c),c.B=0}}function rg(c,m){return kc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mr(g(c.Ga,c,m),Xc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new cn(this,this.j,c);let O=this.o;if(this.S&&(O?(O=y(O),N(O,this.S)):O=this.S),this.m!==null||this.O||(P.H=O,O=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var b=this.i[x];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=Gc(this,P,m),x=Wt(this.I),Ce(x,"RID",c),Ce(x,"CVER",22),this.D&&Ce(x,"X-HTTP-Session-Id",this.D),Kr(this,x),O&&(this.O?m="headers="+encodeURIComponent(String(Fc(O)))+"&"+m:this.m&&Va(x,this.m,O)),Oa(this.h,P),this.Ua&&Ce(x,"TYPE","init"),this.P?(Ce(x,"$req",m),Ce(x,"SID","null"),P.T=!0,Pa(P,x,null)):Pa(P,x,m),this.G=2}}else this.G==3&&(c?Kc(this,c):this.i.length==0||Sc(this.h)||Kc(this))};function Kc(c,m){var x;m?x=m.l:x=c.U++;const b=Wt(c.I);Ce(b,"SID",c.K),Ce(b,"RID",x),Ce(b,"AID",c.T),Kr(c,b),c.m&&c.o&&Va(b,c.m,c.o),x=new cn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Gc(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,x),Pa(x,b,m)}function Kr(c,m){c.H&&D(c.H,function(x,b){Ce(m,b,x)}),c.l&&Cc({},function(x,b){Ce(m,b,x)})}function Gc(c,m,x){x=Math.min(c.i.length,x);var b=c.l?g(c.l.Na,c.l,c):null;e:{var P=c.i;let O=-1;for(;;){const H=["count="+x];O==-1?0<x?(O=P[0].g,H.push("ofs="+O)):O=0:H.push("ofs="+O);let Se=!0;for(let et=0;et<x;et++){let be=P[et].g;const it=P[et].map;if(be-=O,0>be)O=Math.max(0,P[et].g-100),Se=!1;else try{Zp(it,H,"req"+be+"_")}catch{b&&b(it)}}if(Se){b=H.join("&");break e}}}return c=c.i.splice(0,x),m.D=c,b}function Wc(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;le||I(),je||(le(),je=!0),Oe.add(m,c),c.v=0}}function Fa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mr(g(c.Fa,c),Xc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mr(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Js(this),Jc(this))};function qa(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function Jc(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Wt(c.qa);Ce(m,"RID","rpc"),Ce(m,"SID",c.K),Ce(m,"AID",c.T),Ce(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(m,"TO",c.ja),Ce(m,"TYPE","xmlhttp"),Kr(c,m),c.m&&c.o&&Va(m,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=Qs(Wt(m)),x.m=null,x.P=!0,Ec(x,c)}t.Za=function(){this.C!=null&&(this.C=null,Js(this),Fa(this),mt(19))};function Xs(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Yc(c,m){var x=null;if(c.g==m){Xs(c),qa(c),c.g=null;var b=2}else if(La(c.h,m))x=m.D,Ic(c.h,m),b=1;else return;if(c.G!=0){if(m.o)if(b==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var P=c.B;b=qs(),z(b,new bc(b,x)),Ys(c)}else Wc(c);else if(P=m.s,P==3||P==0&&0<m.X||!(b==1&&rg(c,m)||b==2&&Fa(c)))switch(x&&0<x.length&&(m=c.h,m.i=m.i.concat(x)),P){case 1:Vn(c,5);break;case 4:Vn(c,10);break;case 3:Vn(c,6);break;default:Vn(c,2)}}}function Xc(c,m){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*m}function Vn(c,m){if(c.j.info("Error code "+m),m==2){var x=g(c.fb,c),b=c.Xa;const P=!b;b=new On(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$s(b,"https"),Qs(b),P?Jp(b.toString(),x):Yp(b.toString(),x)}else mt(2);c.G=0,c.l&&c.l.sa(m),Zc(c),Qc(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Zc(c){if(c.G=0,c.ka=[],c.l){const m=Ac(c.h);(m.length!=0||c.i.length!=0)&&(C(c.ka,m),C(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function eu(c,m,x){var b=x instanceof On?Wt(x):new On(x);if(b.g!="")m&&(b.g=m+"."+b.g),Hs(b,b.s);else{var P=l.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var O=new On(null);b&&$s(O,b),m&&(O.g=m),P&&Hs(O,P),x&&(O.l=x),b=O}return x=c.D,m=c.ya,x&&m&&Ce(b,x,m),Ce(b,"VER",c.la),Kr(c,b),b}function tu(c,m,x){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Me(new Ks({eb:x})):new Me(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}t=nu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zs(){}Zs.prototype.g=function(c,m){return new jt(c,m)};function jt(c,m){V.call(this),this.g=new Hc(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!R(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Xn(this)}v(jt,V),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Ma(this.g)},jt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=Gt(c),c=x);m.i.push(new qp(m.Ya++,c)),m.G==3&&Ys(m)},jt.prototype.N=function(){this.g.l=null,delete this.j,Ma(this.g),delete this.g,jt.aa.N.call(this)};function ru(c){ka.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const x in m){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}v(ru,ka);function su(){Ia.call(this),this.status=1}v(su,Ia);function Xn(c){this.g=c}v(Xn,nu),Xn.prototype.ua=function(){z(this.g,"a")},Xn.prototype.ta=function(c){z(this.g,new ru(c))},Xn.prototype.sa=function(c){z(this.g,new su)},Xn.prototype.ra=function(){z(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,ym=function(){return new Zs},xm=function(){return qs()},gm=Dn,Ro={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,fi=zs,wc.COMPLETE="complete",pm=wc,pc.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",V.prototype.listen=V.prototype.K,Zr=pc,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,fm=Me}).apply(typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{});const $u="@firebase/firestore",Hu="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new om("@firebase/firestore");function ar(){return $n.logLevel}function Q(t,...e){if($n.logLevel<=ge.DEBUG){const n=e.map(gl);$n.debug(`Firestore (${jr}): ${t}`,...n)}}function nn(t,...e){if($n.logLevel<=ge.ERROR){const n=e.map(gl);$n.error(`Firestore (${jr}): ${t}`,...n)}}function xr(t,...e){if($n.logLevel<=ge.WARN){const n=e.map(gl);$n.warn(`Firestore (${jr}): ${t}`,...n)}}function gl(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bm(t,r,n)}function bm(t,e,n){let r=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw nn(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bm(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ib{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class Ab{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cb{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new en;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new en,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new en)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new wm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new lt(e)}}class Pb{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Pb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Db{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,db(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qu(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Lb(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Do(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ue(r,s);{const i=vm(),o=Ob(i.encode(Ku(t,n)),i.encode(Ku(e,n)));return o!==0?o:ue(r,s)}}n+=r>65535?2:1}return ue(t.length,e.length)}function Ku(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ob(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ue(t[n],e[n]);return ue(t.length,e.length)}function yr(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-62135596800,Wu=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Wu);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gu)throw new G(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wu}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gu;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Ge(0,0))}static max(){return new se(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="__name__";class Ft{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ft.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ft?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ft.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=Ft.isNumericId(e),s=Ft.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ft.extractNumericId(e).compare(Ft.extractNumericId(n)):Do(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yn.fromString(e.substring(4,e.length-2))}}class Le extends Ft{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Ft{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return Vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ju}static keyField(){return new rt([Ju])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new G(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new G(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Le.fromString(e))}static fromName(e){return new X(Le.fromString(e).popFirst(5))}static empty(){return new X(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=-1;function Mb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new vn(s,X.empty(),e)}function Fb(t){return new vn(t.readTime,t.key,ys)}class vn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vn(se.min(),X.empty(),ys)}static max(){return new vn(se.max(),X.empty(),ys)}}function qb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sr(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==zb)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(d=>{o[h]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Bb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}na.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function ra(t){return t==null}function Mi(t){return t===0&&1/t==-1/0}function $b(t){return typeof t=="number"&&Number.isInteger(t)&&!Mi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="";function Hb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yu(e)),e=Qb(t.get(n),e);return Yu(e)}function Qb(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Em:n+="";break;default:n+=i}}return n}function Yu(t){return t+Em+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new si(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new si(this.root,e,this.comparator,!1)}getReverseIterator(){return new si(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new si(this.root,e,this.comparator,!0)}}class si{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zu(this.data.getIterator())}getIteratorFrom(e){return new Zu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class Zu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new kt([])}unionWith(e){let n=new We(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Tm("Invalid base64 string: "+i):i}}(e);return new st(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const Kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=Kb.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function En(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="server_timestamp",Sm="__type__",km="__previous_value__",Im="__local_write_time__";function yl(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sm])===null||n===void 0?void 0:n.stringValue)===jm}function sa(t){const e=t.mapValue.fields[km];return yl(e)?sa(e):e}function bs(t){const e=_n(t.mapValue.fields[Im].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,s,i,o,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Fi="(default)";class ws{constructor(e,n){this.projectId=e,this.database=n||Fi}static empty(){return new ws("","")}get isDefaultDatabase(){return this.database===Fi}isEqual(e){return e instanceof ws&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="__type__",Cm="__max__",ii={mapValue:{fields:{__type__:{stringValue:Cm}}}},Pm="__vector__",qi="value";function Nn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yl(t)?4:Jb(t)?9007199254740991:Wb(t)?10:11:Z(28295,{value:t})}function Ht(t,e){if(t===e)return!0;const n=Nn(t);if(n!==Nn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bs(t).isEqual(bs(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=_n(s.timestampValue),l=_n(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return En(s.bytesValue).isEqual(En(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),l=qe(i.doubleValue);return o===l?Mi(o)===Mi(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return yr(t.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Xu(o)!==Xu(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Ht(o[u],l[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function vs(t,e){return(t.values||[]).find(n=>Ht(n,e))!==void 0}function br(t,e){if(t===e)return 0;const n=Nn(t),r=Nn(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=qe(i.integerValue||i.doubleValue),u=qe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return eh(t.timestampValue,e.timestampValue);case 4:return eh(bs(t),bs(e));case 5:return Do(t.stringValue,e.stringValue);case 6:return function(i,o){const l=En(i),u=En(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=ue(l[h],u[h]);if(d!==0)return d}return ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ue(qe(i.latitude),qe(o.latitude));return l!==0?l:ue(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return th(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,h,d;const f=i.fields||{},g=o.fields||{},p=(l=f[qi])===null||l===void 0?void 0:l.arrayValue,v=(u=g[qi])===null||u===void 0?void 0:u.arrayValue,E=ue(((h=p==null?void 0:p.values)===null||h===void 0?void 0:h.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:th(p,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ii.mapValue&&o===ii.mapValue)return 0;if(i===ii.mapValue)return 1;if(o===ii.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const g=Do(u[f],d[f]);if(g!==0)return g;const p=br(l[u[f]],h[d[f]]);if(p!==0)return p}return ue(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{Pe:n})}}function eh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=_n(t),r=_n(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function th(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=br(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function wr(t){return Lo(t)}function Lo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return En(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Lo(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Lo(n.fields[o])}`;return s+"}"}(t.mapValue):Z(61005,{value:t})}function pi(t){switch(Nn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sa(t);return e?16+pi(e):16;case 5:return 2*t.stringValue.length;case 6:return En(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+pi(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Sn(r.fields,(i,o)=>{s+=i.length+pi(o)}),s}(t.mapValue);default:throw Z(13486,{value:t})}}function Oo(t){return!!t&&"integerValue"in t}function bl(t){return!!t&&"arrayValue"in t}function nh(t){return!!t&&"nullValue"in t}function rh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gi(t){return!!t&&"mapValue"in t}function Wb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Am])===null||n===void 0?void 0:n.stringValue)===Pm}function as(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=as(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=as(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Jb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cm}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gi(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=as(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=as(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gi(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gi(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Sn(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new bt(as(this.value))}}function Rm(t){const e=[];return Sn(t.fields,(n,r)=>{const s=new rt([n]);if(gi(r)){const i=Rm(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ct(e,0,se.min(),se.min(),se.min(),bt.empty(),0)}static newFoundDocument(e,n,r,s){return new ct(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new ct(e,2,n,se.min(),se.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,se.min(),se.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.position=e,this.inclusive=n}}function sh(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=br(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ih(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ht(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{}class Ke extends Dm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zb(e,n,r):n==="array-contains"?new nw(e,r):n==="in"?new rw(e,r):n==="not-in"?new sw(e,r):n==="array-contains-any"?new iw(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ew(e,r):new tw(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(br(n,this.value)):n!==null&&Nn(this.value)===Nn(n)&&this.matchesComparison(br(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends Dm{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Qt(e,n)}matches(e){return Lm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Lm(t){return t.op==="and"}function Om(t){return Xb(t)&&Lm(t)}function Xb(t){for(const e of t.filters)if(e instanceof Qt)return!1;return!0}function Vo(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+wr(t.value);if(Om(t))return t.filters.map(e=>Vo(e)).join(",");{const e=t.filters.map(n=>Vo(n)).join(",");return`${t.op}(${e})`}}function Vm(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&Ht(r.value,s.value)}(t,e):t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Vm(o,s.filters[l]),!0):!1}(t,e):void Z(19439)}function Mm(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${wr(n.value)}`}(t):t instanceof Qt?function(n){return n.op.toString()+" {"+n.getFilters().map(Mm).join(" ,")+"}"}(t):"Filter"}class Zb extends Ke{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class ew extends Ke{constructor(e,n){super(e,"in",n),this.keys=Fm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tw extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=Fm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class nw extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bl(n)&&vs(n.arrayValue,this.value)}}class rw extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vs(this.value.arrayValue,n)}}class sw extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vs(this.value.arrayValue,n)}}class iw extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function ah(t,e=null,n=[],r=[],s=null,i=null,o=null){return new aw(t,e,n,r,s,i,o)}function wl(t){const e=ae(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vo(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wr(r)).join(",")),e.Ie=n}return e.Ie}function vl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Yb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ih(t.startAt,e.startAt)&&ih(t.endAt,e.endAt)}function Mo(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ow(t,e,n,r,s,i,o,l){return new ia(t,e,n,r,s,i,o,l)}function _l(t){return new ia(t)}function oh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lw(t){return t.collectionGroup!==null}function os(t){const e=ae(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new We(rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Ui(i,r))}),n.has(rt.keyField().canonicalString())||e.Ee.push(new Ui(rt.keyField(),r))}return e.Ee}function Ut(t){const e=ae(t);return e.de||(e.de=cw(e,os(t))),e.de}function cw(t,e){if(t.limitType==="F")return ah(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ui(s.field,i)});const n=t.endAt?new zi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zi(t.startAt.position,t.startAt.inclusive):null;return ah(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fo(t,e,n){return new ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function aa(t,e){return vl(Ut(t),Ut(e))&&t.limitType===e.limitType}function qm(t){return`${wl(Ut(t))}|lt:${t.limitType}`}function or(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Mm(s)).join(", ")}]`),ra(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wr(s)).join(",")),`Target(${r})`}(Ut(t))}; limitType=${t.limitType})`}function oa(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of os(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const h=sh(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,os(r),s)||r.endAt&&!function(o,l,u){const h=sh(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,os(r),s))}(t,e)}function uw(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zm(t){return(e,n)=>{let r=!1;for(const s of os(t)){const i=hw(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function hw(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?br(u,h):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Sn(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Nm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Ve(X.comparator);function rn(){return dw}const Um=new Ve(X.comparator);function es(...t){let e=Um;for(const n of t)e=e.insert(n.key,n);return e}function Bm(t){let e=Um;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zn(){return ls()}function $m(){return ls()}function ls(){return new Qn(t=>t.toString(),(t,e)=>t.isEqual(e))}const mw=new Ve(X.comparator),fw=new We(X.comparator);function de(...t){let e=fw;for(const n of t)e=e.add(n);return e}const pw=new We(ue);function gw(){return pw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mi(e)?"-0":e}}function Hm(t){return{integerValue:""+t}}function xw(t,e){return $b(e)?Hm(e):El(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}function yw(t,e,n){return t instanceof Bi?function(s,i){const o={fields:{[Sm]:{stringValue:jm},[Im]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&yl(i)&&(i=sa(i)),i&&(o.fields[km]=i),{mapValue:o}}(n,e):t instanceof _s?Km(t,e):t instanceof Es?Gm(t,e):function(s,i){const o=Qm(s,i),l=lh(o)+lh(s.Re);return Oo(o)&&Oo(s.Re)?Hm(l):El(s.serializer,l)}(t,e)}function bw(t,e,n){return t instanceof _s?Km(t,e):t instanceof Es?Gm(t,e):n}function Qm(t,e){return t instanceof $i?function(r){return Oo(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Bi extends la{}class _s extends la{constructor(e){super(),this.elements=e}}function Km(t,e){const n=Wm(e);for(const r of t.elements)n.some(s=>Ht(s,r))||n.push(r);return{arrayValue:{values:n}}}class Es extends la{constructor(e){super(),this.elements=e}}function Gm(t,e){let n=Wm(e);for(const r of t.elements)n=n.filter(s=>!Ht(s,r));return{arrayValue:{values:n}}}class $i extends la{constructor(e,n){super(),this.serializer=e,this.Re=n}}function lh(t){return qe(t.integerValue||t.doubleValue)}function Wm(t){return bl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ww(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _s&&s instanceof _s||r instanceof Es&&s instanceof Es?yr(r.elements,s.elements,Ht):r instanceof $i&&s instanceof $i?Ht(r.Re,s.Re):r instanceof Bi&&s instanceof Bi}(t.transform,e.transform)}class vw{constructor(e,n){this.version=e,this.transformResults=n}}class ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ca{}function Jm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ua(t.key,ft.none()):new Ss(t.key,t.data,ft.none());{const n=t.data,r=bt.empty();let s=new We(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new kn(t.key,r,new kt(s.toArray()),ft.none())}}function _w(t,e,n){t instanceof Ss?function(s,i,o){const l=s.value.clone(),u=uh(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof kn?function(s,i,o){if(!xi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=uh(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Ym(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cs(t,e,n,r){return t instanceof Ss?function(i,o,l,u){if(!xi(i.precondition,o))return l;const h=i.value.clone(),d=hh(i.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof kn?function(i,o,l,u){if(!xi(i.precondition,o))return l;const h=hh(i.fieldTransforms,u,o),d=o.data;return d.setAll(Ym(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return xi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Ew(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Qm(r.transform,s||null);i!=null&&(n===null&&(n=bt.empty()),n.set(r.field,i))}return n||null}function ch(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yr(r,s,(i,o)=>ww(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ss extends ca{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class kn extends ca{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ym(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uh(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,bw(o,l,n[s]))}return r}function hh(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,yw(i,o,e))}return r}class ua extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_w(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$m();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=Jm(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&yr(this.mutations,e.mutations,(n,r)=>ch(n,r))&&yr(this.baseMutations,e.baseMutations,(n,r)=>ch(n,r))}}class Nl{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return mw}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Nl(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,pe;function kw(t){switch(t){case q.OK:return Z(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function Xm(t){if(t===void 0)return nn("GRPC error has no .code"),q.UNKNOWN;switch(t){case Be.OK:return q.OK;case Be.CANCELLED:return q.CANCELLED;case Be.UNKNOWN:return q.UNKNOWN;case Be.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Be.INTERNAL:return q.INTERNAL;case Be.UNAVAILABLE:return q.UNAVAILABLE;case Be.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Be.NOT_FOUND:return q.NOT_FOUND;case Be.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Be.ABORTED:return q.ABORTED;case Be.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Be.DATA_LOSS:return q.DATA_LOSS;default:return Z(39323,{code:t})}}(pe=Be||(Be={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new yn([4294967295,4294967295],0);function dh(t){const e=vm().encode(t),n=new mm;return n.update(e),new Uint8Array(n.digest())}function mh(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new yn([n,r],0),new yn([s,i],0)]}class Tl{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ts(`Invalid padding: ${n}`);if(r<0)throw new ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ts(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ts(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=yn.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(yn.fromNumber(r)));return s.compare(Iw)===1&&(s=new yn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=dh(e),[r,s]=mh(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Tl(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=dh(e),[r,s]=mh(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ks.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ha(se.min(),s,new Ve(ue),rn(),de())}}class ks{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ks(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Zm{constructor(e,n){this.targetId=e,this.Ce=n}}class ef{constructor(e,n,r=st.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fh{constructor(){this.Fe=0,this.Me=ph(),this.xe=st.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=de(),n=de(),r=de();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z(38017,{changeType:i})}}),new ks(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ph()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Aw{constructor(e){this.ze=e,this.je=new Map,this.He=rn(),this.Je=ai(),this.Ye=ai(),this.Ze=new Ve(ue)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Mo(i))if(r===0){const o=new X(i.path);this.tt(n,o,ct.newNoDocument(o,se.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),u=l?this.lt(l,e,o):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=En(r).toUint8Array()}catch(u){if(u instanceof Tm)return xr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Tl(o,s,i)}catch(u){return xr(u instanceof ts?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&Mo(l.target)){const u=new X(l.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,ct.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=de();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new ha(e,n,this.Ze,this.He,r);return this.He=rn(),this.Je=ai(),this.Ye=ai(),this.Ze=new Ve(ue),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new fh,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new We(ue),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new We(ue),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fh),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ai(){return new Ve(X.comparator)}function ph(){return new Ve(X.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},Pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rw={and:"AND",or:"OR"};class Dw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qo(t,e){return t.useProto3Json||ra(e)?e:{value:e}}function Hi(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tf(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lw(t,e){return Hi(t,e.toTimestamp())}function Bt(t){return Te(!!t,49232),se.fromTimestamp(function(n){const r=_n(n);return new Ge(r.seconds,r.nanos)}(t))}function jl(t,e){return zo(t,e).canonicalString()}function zo(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nf(t){const e=Le.fromString(t);return Te(lf(e),10190,{key:e.toString()}),e}function Uo(t,e){return jl(t.databaseId,e.path)}function Ya(t,e){const n=nf(e);if(n.get(1)!==t.databaseId.projectId)throw new G(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(sf(n))}function rf(t,e){return jl(t.databaseId,e)}function Ow(t){const e=nf(t);return e.length===4?Le.emptyPath():sf(e)}function Bo(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sf(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gh(t,e,n){return{name:Uo(t,e),fields:n.value.mapValue.fields}}function Vw(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Z(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Te(d===void 0||typeof d=="string",58123),st.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?q.UNKNOWN:Xm(h.code);return new G(d,h.message||"")}(o);n=new ef(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ya(t,r.document.name),i=Bt(r.document.updateTime),o=r.document.createTime?Bt(r.document.createTime):se.min(),l=new bt({mapValue:{fields:r.document.fields}}),u=ct.newFoundDocument(s,i,o,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new yi(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ya(t,r.document),i=r.readTime?Bt(r.readTime):se.min(),o=ct.newNoDocument(s,i),l=r.removedTargetIds||[];n=new yi([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ya(t,r.document),i=r.removedTargetIds||[];n=new yi([],i,s,null)}else{if(!("filter"in e))return Z(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Sw(s,i),l=r.targetId;n=new Zm(l,o)}}return n}function Mw(t,e){let n;if(e instanceof Ss)n={update:gh(t,e.key,e.value)};else if(e instanceof ua)n={delete:Uo(t,e.key)};else if(e instanceof kn)n={update:gh(t,e.key,e.data),updateMask:Kw(e.fieldMask)};else{if(!(e instanceof Nw))return Z(16599,{ft:e.type});n={verify:Uo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Bi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _s)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Es)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $i)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Lw(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z(27497)}(t,e.precondition)),n}function Fw(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Bt(s.updateTime):Bt(i);return o.isEqual(se.min())&&(o=Bt(i)),new vw(o,s.transformResults||[])}(n,e))):[]}function qw(t,e){return{documents:[rf(t,e.path)]}}function zw(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rf(t,s);const i=function(h){if(h.length!==0)return of(Qt.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:lr(g.field),direction:$w(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=qo(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function Uw(t){let e=Ow(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const g=af(f);return g instanceof Qt&&Om(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(v){return new Ui(cr(v.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(f){let g;return g=typeof f=="object"?f.value:f,ra(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,p=f.values||[];return new zi(p,g)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const g=!f.before,p=f.values||[];return new zi(p,g)}(n.endAt)),ow(e,s,o,i,l,"F",u,h)}function Bw(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function af(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cr(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=cr(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cr(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cr(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(cr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qt.create(n.compositeFilter.filters.map(r=>af(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function $w(t){return Cw[t]}function Hw(t){return Pw[t]}function Qw(t){return Rw[t]}function lr(t){return{fieldPath:t.canonicalString()}}function cr(t){return rt.fromServerFormat(t.fieldPath)}function of(t){return t instanceof Ke?function(n){if(n.op==="=="){if(rh(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NAN"}};if(nh(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rh(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NOT_NAN"}};if(nh(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(n.field),op:Hw(n.op),value:n.value}}}(t):t instanceof Qt?function(n){const r=n.getFilters().map(s=>of(s));return r.length===1?r[0]:{compositeFilter:{op:Qw(n.op),filters:r}}}(t):Z(54877,{filter:t})}function Kw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lf(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,s,i=se.min(),o=se.min(),l=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.wt=e}}function Ww(t){const e=Uw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fo(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.yn=new Yw}addToCollectionParentIndex(e,n){return this.yn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(vn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(vn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class Yw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new We(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new We(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cf=41943040;class yt{static withCacheSize(e){return new yt(e,yt.DEFAULT_COLLECTION_PERCENTILE,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yt.DEFAULT_COLLECTION_PERCENTILE=10,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yt.DEFAULT=new yt(cf,yt.DEFAULT_COLLECTION_PERCENTILE,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yt.DISABLED=new yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new vr(0)}static ir(){return new vr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="LruGarbageCollector",Xw=1048576;function bh([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class Zw{constructor(e){this.cr=e,this.buffer=new We(bh),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bh(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ev{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Q(yh,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kr(n)?Q(yh,"Ignoring IndexedDB error during garbage collection: ",n):await Sr(n)}await this.Ir(3e5)})}}class tv{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(na.le);const r=new Zw(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(xh)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xh):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(h=Date.now(),ar()<=ge.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function nv(t,e){return new tv(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.changes=new Qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&cs(r.mutation,s,kt.empty(),Ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const s=zn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=es();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=rn();const o=ls(),l=function(){return ls()}();return n.forEach((u,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof kn)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),cs(d.mutation,h,d.mutation.getFieldMask(),Ge.now())):o.set(h.key,kt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var f;return l.set(h,new sv(d,(f=o.get(h))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ls();let s=new Ve((o,l)=>o-l),i=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||kt.empty();d=l.applyToLocalView(h,d),r.set(u,d);const f=(s.get(l.batchId)||de()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,f=$m();d.forEach(g=>{if(!i.has(g)){const p=Jm(n.get(g),r.get(g));p!==null&&f.set(g,p),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(zn());let l=ys,u=i;return o.next(h=>M.forEach(h,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,de())).next(d=>({batchId:l,changes:Bm(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=es();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=es();return this.indexManager.getCollectionParents(e,i).next(l=>M.forEach(l,u=>{const h=function(f,g){return new ia(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,ct.newInvalidDocument(d)))});let l=es();return o.forEach((u,h)=>{const d=i.get(u);d!==void 0&&cs(d.mutation,h,kt.empty(),Ge.now()),oa(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return M.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Bt(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:Ww(s.bundledQuery),readTime:Bt(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.overlays=new Ve(X.comparator),this.Or=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zn();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=zn(),i=n.length+1,o=new X(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ve((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=zn(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=zn(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return M.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jw(n,r));let i=this.Or.get(n);i===void 0&&(i=de(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.Nr=new We(Ze.Br),this.Lr=new We(Ze.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Ze(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new X(new Le([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new X(new Le([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=de();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return X.comparator(e.key,n.key)||ue(e.Gr,n.Gr)}static kr(e,n){return ue(e.Gr,n.Gr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new We(Ze.Br)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tw(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.zr=this.zr.add(new Ze(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?xl:this.Jn-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const l=this.jr(o.Gr);i.push(l)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ue);return n.forEach(s=>{const i=new Ze(s,0),o=new Ze(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],l=>{r=r.add(l.Gr)})}),M.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new Ze(new X(i),0);let l=new We(ue);return this.zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Gr)),!0)},o),M.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return M.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Ze(n,0),s=this.zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.Zr=e,this.docs=function(){return new Ve(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=rn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ct.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rn();const o=n.path,l=new X(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||qb(Fb(d),r)<=0||(s.has(d.key)||oa(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z(9500)}Xr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hv(this)}getSize(e){return M.resolve(this.size)}}class hv extends rv{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.persistence=e,this.ei=new Qn(n=>wl(n),vl),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sl,this.targetCount=0,this.ri=vr.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),M.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new vr(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.ar(n),M.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.ii={},this.overlays={},this.si=new na(0),this.oi=!1,this.oi=!0,this._i=new lv,this.referenceDelegate=e(this),this.ai=new dv(this),this.indexManager=new Jw,this.remoteDocumentCache=function(s){return new uv(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Gw(n),this.ci=new av(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ov,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new cv(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new mv(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return M.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class mv extends Ub{constructor(e){super(),this.currentSequenceNumber=e}}class kl{constructor(e){this.persistence=e,this.Ti=new Sl,this.Ii=null}static Ei(e){return new kl(e)}get di(){if(this.Ii)return this.Ii;throw Z(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.di,r=>{const s=X.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return M.or([()=>M.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Qi{constructor(e,n){this.persistence=e,this.Ri=new Qn(r=>Hb(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=nv(this,n)}static Ei(e,n){return new Qi(e,n)}li(){}hi(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return M.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?M.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),M.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pi(e.data.value)),n}gr(e,n,r){return M.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=de(),s=de();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Il(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return c0()?8:Bb(o0())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new fv;return this.fs(e,n,o).next(l=>{if(i.result=l,this.Is)return this.gs(e,n,o,l.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(ar()<=ge.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",or(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),M.resolve()):(ar()<=ge.DEBUG&&Q("QueryEngine","Query:",or(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ar()<=ge.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",or(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ut(n))):M.resolve())}Rs(e,n){if(oh(n))return M.resolve(null);let r=Ut(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Fo(n,null,"F"),r=Ut(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=de(...i);return this.As.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ps(n,l);return this.ys(n,h,o,u.readTime)?this.Rs(e,Fo(n,null,"F")):this.ws(e,h,n,u)}))})))}Vs(e,n,r,s){return oh(n)||s.isEqual(se.min())?M.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?M.resolve(null):(ar()<=ge.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),or(n)),this.ws(e,o,n,Mb(s,ys)).next(l=>l))})}ps(e,n){let r=new We(zm(e));return n.forEach((s,i)=>{oa(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return ar()<=ge.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",or(n)),this.As.getDocumentsMatchingQuery(e,n,vn.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="LocalStore",gv=3e8;class xv{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Ve(ue),this.Ds=new Qn(i=>wl(i),vl),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iv(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function yv(t,e,n,r){return new xv(t,e,n,r)}async function hf(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=de();for(const h of s){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ms:h,removedBatchIds:o,addedBatchIds:l}))})})}function bv(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const f=h.batch,g=f.keys();let p=M.resolve();return g.forEach(v=>{p=p.next(()=>d.getEntry(u,v)).next(E=>{const C=h.docVersions.get(v);Te(C!==null,48541),E.version.compareTo(C)<0&&(f.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),d.addEntry(E)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=de();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function df(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function wv(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const l=[];e.targetChanges.forEach((d,f)=>{const g=s.get(f);if(!g)return;l.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let p=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(st.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(E,C,A){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=gv?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,p,d)&&l.push(n.ai.updateTargetData(i,p))});let u=rn(),h=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(vv(i,o,e.documentUpdates).next(d=>{u=d.xs,h=d.Os})),!r.isEqual(se.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return M.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ss=s,i))}function vv(t,e,n){let r=de(),s=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rn();return n.forEach((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Q(Al,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{xs:o,Os:s}})}function _v(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ev(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new fn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function $o(t,e,n){const r=ae(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!kr(o))throw o;Q(Al,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function wh(t,e,n){const r=ae(t);let s=se.min(),i=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const f=ae(u),g=f.Ds.get(d);return g!==void 0?M.resolve(f.Ss.get(g)):f.ai.getTargetData(h,d)}(r,o,Ut(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:de())).next(l=>(Nv(r,uw(e),l),{documents:l,Ns:i})))}function Nv(t,e,n){let r=t.vs.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class vh{constructor(){this.activeTargetIds=gw()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tv{constructor(){this.So=new vh,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new vh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="ConnectivityMonitor";class Eh{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Q(_h,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Q(_h,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi=null;function Ho(){return oi===null?oi=function(){return 268435456+Math.round(2147483648*Math.random())}():oi++,"0x"+oi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RestConnection",Sv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kv{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Fi?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=Ho(),l=this.$o(e,n.toUriEncodedString());Q(Xa,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,s,i);const{host:h}=new URL(l),d=fl(h);return this.Ko(e,l,u,r,d).then(f=>(Q(Xa,`Received RPC '${e}' ${o}: `,f),f),f=>{throw xr(Xa,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=Sv[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot="WebChannelConnection";class Av extends kv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s,i){const o=Ho();return new Promise((l,u)=>{const h=new fm;h.setWithCredentials(!0),h.listenOnce(pm.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case fi.NO_ERROR:const f=h.getResponseJson();Q(ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case fi.TIMEOUT:Q(ot,`RPC '${e}' ${o} timed out`),u(new G(q.DEADLINE_EXCEEDED,"Request time out"));break;case fi.HTTP_ERROR:const g=h.getStatus();if(Q(ot,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let p=h.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const E=function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(R)>=0?R:q.UNKNOWN}(v.status);u(new G(E,v.message))}else u(new G(q.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(q.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Q(ot,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Q(ot,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",d,r,15)})}a_(e,n,r){const s=Ho(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ym(),l=xm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");Q(ot,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);let g=!1,p=!1;const v=new Iv({Go:C=>{p?Q(ot,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(Q(ot,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),Q(ot,`RPC '${e}' stream ${s} sending:`,C),f.send(C))},zo:()=>f.close()}),E=(C,A,R)=>{C.listen(A,L=>{try{R(L)}catch(U){setTimeout(()=>{throw U},0)}})};return E(f,Zr.EventType.OPEN,()=>{p||(Q(ot,`RPC '${e}' stream ${s} transport opened.`),v.t_())}),E(f,Zr.EventType.CLOSE,()=>{p||(p=!0,Q(ot,`RPC '${e}' stream ${s} transport closed`),v.r_())}),E(f,Zr.EventType.ERROR,C=>{p||(p=!0,xr(ot,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),v.r_(new G(q.UNAVAILABLE,"The operation could not be completed")))}),E(f,Zr.EventType.MESSAGE,C=>{var A;if(!p){const R=C.data[0];Te(!!R,16349);const L=R,U=(L==null?void 0:L.error)||((A=L[0])===null||A===void 0?void 0:A.error);if(U){Q(ot,`RPC '${e}' stream ${s} received error:`,U);const W=U.status;let D=function(w){const N=Be[w];if(N!==void 0)return Xm(N)}(W),k=U.message;D===void 0&&(D=q.INTERNAL,k="Unknown error status: "+W+" with message "+U.message),p=!0,v.r_(new G(D,k)),f.close()}else Q(ot,`RPC '${e}' stream ${s} received:`,R),v.i_(R)}}),E(l,gm.STAT_EVENT,C=>{C.stat===Ro.PROXY?Q(ot,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Ro.NOPROXY&&Q(ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function Za(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){return new Dw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="PersistentStream";class ff{constructor(e,n,r,s,i,o,l,u){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new mf(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(nn(n.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new G(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Q(Nh,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Q(Nh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cv extends ff{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Vw(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Bt(o.readTime):se.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Bo(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Mo(u)?{documents:qw(i,u)}:{query:zw(i,u).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=tf(i,o.resumeToken);const h=qo(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(se.min())>0){l.readTime=Hi(i,o.snapshotVersion.toTimestamp());const h=qo(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=Bw(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Bo(this.serializer),n.removeTarget=e,this.F_(n)}}class Pv extends ff{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Fw(e.writeResults,e.commitTime),r=Bt(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Bo(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Mw(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class Dv extends Rv{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new G(q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,zo(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(q.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,zo(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(q.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Lv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(nn(n),this.ea=!1):Q("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="RemoteStore";class Ov{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Kn(this)&&(Q(Hn,"Restarting streams for network reachability change."),await async function(u){const h=ae(u);h.aa.add(4),await Is(h),h.la.set("Unknown"),h.aa.delete(4),await ma(h)}(this))})}),this.la=new Lv(r,s)}}async function ma(t){if(Kn(t))for(const e of t.ua)await e(!0)}async function Is(t){for(const e of t.ua)await e(!1)}function pf(t,e){const n=ae(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Dl(n)?Rl(n):Ir(n).b_()&&Pl(n,e))}function Cl(t,e){const n=ae(t),r=Ir(n);n._a.delete(e),r.b_()&&gf(n,e),n._a.size===0&&(r.b_()?r.v_():Kn(n)&&n.la.set("Unknown"))}function Pl(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ir(t).U_(e)}function gf(t,e){t.ha.Ke(e),Ir(t).K_(e)}function Rl(t){t.ha=new Aw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ir(t).start(),t.la.ta()}function Dl(t){return Kn(t)&&!Ir(t).w_()&&t._a.size>0}function Kn(t){return ae(t).aa.size===0}function xf(t){t.ha=void 0}async function Vv(t){t.la.set("Online")}async function Mv(t){t._a.forEach((e,n)=>{Pl(t,e)})}async function Fv(t,e){xf(t),Dl(t)?(t.la.ia(e),Rl(t)):t.la.set("Unknown")}async function qv(t,e,n){if(t.la.set("Online"),e instanceof ef&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s._a.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s._a.delete(l),s.ha.removeTarget(l))}(t,e)}catch(r){Q(Hn,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ki(t,r)}else if(e instanceof yi?t.ha.Xe(e):e instanceof Zm?t.ha.ot(e):t.ha.nt(e),!n.isEqual(se.min()))try{const r=await df(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ha.It(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i._a.get(h);d&&i._a.set(h,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const d=i._a.get(u);if(!d)return;i._a.set(u,d.withResumeToken(st.EMPTY_BYTE_STRING,d.snapshotVersion)),gf(i,u);const f=new fn(d.target,u,h,d.sequenceNumber);Pl(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q(Hn,"Failed to raise snapshot:",r),await Ki(t,r)}}async function Ki(t,e,n){if(!kr(e))throw e;t.aa.add(1),await Is(t),t.la.set("Offline"),n||(n=()=>df(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Hn,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await ma(t)})}function yf(t,e){return e().catch(n=>Ki(t,n,e))}async function fa(t){const e=ae(t),n=Tn(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:xl;for(;zv(e);)try{const s=await _v(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,Uv(e,s)}catch(s){await Ki(e,s)}bf(e)&&wf(e)}function zv(t){return Kn(t)&&t.oa.length<10}function Uv(t,e){t.oa.push(e);const n=Tn(t);n.b_()&&n.W_&&n.G_(e.mutations)}function bf(t){return Kn(t)&&!Tn(t).w_()&&t.oa.length>0}function wf(t){Tn(t).start()}async function Bv(t){Tn(t).H_()}async function $v(t){const e=Tn(t);for(const n of t.oa)e.G_(n.mutations)}async function Hv(t,e,n){const r=t.oa.shift(),s=Nl.from(r,e,n);await yf(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fa(t)}async function Qv(t,e){e&&Tn(t).W_&&await async function(r,s){if(function(o){return kw(o)&&o!==q.ABORTED}(s.code)){const i=r.oa.shift();Tn(r).D_(),await yf(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fa(r)}}(t,e),bf(t)&&wf(t)}async function Th(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Q(Hn,"RemoteStore received new credentials");const r=Kn(n);n.aa.add(3),await Is(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await ma(n)}async function Kv(t,e){const n=ae(t);e?(n.aa.delete(2),await ma(n)):e||(n.aa.add(2),await Is(n),n.la.set("Unknown"))}function Ir(t){return t.Pa||(t.Pa=function(n,r,s){const i=ae(n);return i.Y_(),new Cv(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:Vv.bind(null,t),Jo:Mv.bind(null,t),Zo:Fv.bind(null,t),Q_:qv.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Dl(t)?Rl(t):t.la.set("Unknown")):(await t.Pa.stop(),xf(t))})),t.Pa}function Tn(t){return t.Ta||(t.Ta=function(n,r,s){const i=ae(n);return i.Y_(),new Pv(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Bv.bind(null,t),Zo:Qv.bind(null,t),z_:$v.bind(null,t),j_:Hv.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await fa(t)):(await t.Ta.stop(),t.oa.length>0&&(Q(Hn,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Ll(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ol(t,e){if(nn("AsyncQueue",`${e}: ${t}`),kr(t))return new G(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static emptySet(e){return new fr(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=es(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.Ia=new Ve(X.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Z(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class _r{constructor(e,n,r,s,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new _r(e,n,fr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Wv{constructor(){this.queries=Sh(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=Sh(),i.forEach((o,l)=>{for(const u of l.Ra)u.onError(r)})})(this,new G(q.ABORTED,"Firestore shutting down"))}}function Sh(){return new Qn(t=>qm(t),aa)}async function vf(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new Gv,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Ol(o,`Initialization of query '${or(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&Vl(n)}async function _f(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jv(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Ra)l.pa(s)&&(r=!0);o.Aa=s}}r&&Vl(n)}function Yv(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function Vl(t){t.fa.forEach(e=>{e.next()})}var Qo,kh;(kh=Qo||(Qo={})).ya="default",kh.Cache="cache";class Ef{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _r(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=_r.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Qo.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.key=e}}class Tf{constructor(e){this.key=e}}class Xv{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=de(),this.mutatedKeys=de(),this.Ua=zm(e),this.Ka=new fr(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new jh,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const g=s.get(d),p=oa(this.query,f)?f:null,v=!!g&&this.mutatedKeys.has(g.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;g&&p?g.data.isEqual(p.data)?v!==E&&(r.track({type:3,doc:p}),C=!0):this.ja(g,p)||(r.track({type:2,doc:p}),C=!0,(u&&this.Ua(p,u)>0||h&&this.Ua(p,h)<0)&&(l=!0)):!g&&p?(r.track({type:0,doc:p}),C=!0):g&&!p&&(r.track({type:1,doc:g}),C=!0,(u||h)&&(l=!0)),C&&(p?(o=o.add(p),i=E?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:l,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(p,v){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Vt:C})}};return E(p)-E(v)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),s=s!=null&&s;const l=n&&!s?this.Ja():[],u=this.$a.size===0&&this.current&&!s?1:0,h=u!==this.Qa;return this.Qa=u,o.length!==0||h?{snapshot:new _r(this.query,e.Ka,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new jh,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=de(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new Tf(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Nf(r))}),n}Xa(e){this.qa=e.Ns,this.$a=de();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return _r.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ml="SyncEngine";class Zv{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e1{constructor(e){this.key=e,this.tu=!1}}class t1{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Qn(l=>qm(l),aa),this.iu=new Map,this.su=new Set,this.ou=new Ve(X.comparator),this._u=new Map,this.au=new Sl,this.uu={},this.cu=new Map,this.lu=vr.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function n1(t,e,n=!0){const r=Cf(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await jf(r,e,n,!0),s}async function r1(t,e){const n=Cf(t);await jf(n,e,!0,!1)}async function jf(t,e,n,r){const s=await Ev(t.localStore,Ut(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await s1(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pf(t.remoteStore,s),l}async function s1(t,e,n,r,s){t.Pu=(f,g,p)=>async function(E,C,A,R){let L=C.view.Ga(A);L.ys&&(L=await wh(E.localStore,C.query,!1).then(({documents:k})=>C.view.Ga(k,L)));const U=R&&R.targetChanges.get(C.targetId),W=R&&R.targetMismatches.get(C.targetId)!=null,D=C.view.applyChanges(L,E.isPrimaryClient,U,W);return Ah(E,C.targetId,D.Ya),D.snapshot}(t,f,g,p);const i=await wh(t.localStore,e,!0),o=new Xv(e,i.Ns),l=o.Ga(i.documents),u=ks.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,u);Ah(t,n,h.Ya);const d=new Zv(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),h.snapshot}async function i1(t,e,n){const r=ae(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!aa(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $o(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cl(r.remoteStore,s.targetId),Ko(r,s.targetId)}).catch(Sr)):(Ko(r,s.targetId),await $o(r.localStore,s.targetId,!0))}async function a1(t,e){const n=ae(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cl(n.remoteStore,r.targetId))}async function o1(t,e,n){const r=f1(t);try{const s=await function(o,l){const u=ae(o),h=Ge.now(),d=l.reduce((p,v)=>p.add(v.key),de());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=rn(),E=de();return u.Cs.getEntries(p,d).next(C=>{v=C,v.forEach((A,R)=>{R.isValidDocument()||(E=E.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,v)).next(C=>{f=C;const A=[];for(const R of l){const L=Ew(R,f.get(R.key).overlayedDocument);L!=null&&A.push(new kn(R.key,L,Rm(L.value.mapValue),ft.exists(!0)))}return u.mutationQueue.addMutationBatch(p,h,A,l)}).next(C=>{g=C;const A=C.applyToLocalDocumentSet(f,E);return u.documentOverlayCache.saveOverlays(p,C.batchId,A)})}).then(()=>({batchId:g.batchId,changes:Bm(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let h=o.uu[o.currentUser.toKey()];h||(h=new Ve(ue)),h=h.insert(l,u),o.uu[o.currentUser.toKey()]=h}(r,s.batchId,n),await As(r,s.changes),await fa(r.remoteStore)}catch(s){const i=Ol(s,"Failed to persist write");n.reject(i)}}async function Sf(t,e){const n=ae(t);try{const r=await wv(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?Te(o.tu,14607):s.removedDocuments.size>0&&(Te(o.tu,42227),o.tu=!1))}),await As(n,r,e)}catch(r){await Sr(r)}}function Ih(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const l=o.view.ga(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ae(o);u.onlineState=l;let h=!1;u.queries.forEach((d,f)=>{for(const g of f.Ra)g.ga(l)&&(h=!0)}),h&&Vl(u)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l1(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new Ve(X.comparator);o=o.insert(i,ct.newNoDocument(i,se.min()));const l=de().add(i),u=new ha(se.min(),new Map,new Ve(ue),o,l);await Sf(r,u),r.ou=r.ou.remove(i),r._u.delete(e),Fl(r)}else await $o(r.localStore,e,!1).then(()=>Ko(r,e,n)).catch(Sr)}async function c1(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await bv(n.localStore,e);If(n,r,null),kf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await As(n,s)}catch(s){await Sr(s)}}async function u1(t,e,n){const r=ae(t);try{const s=await function(o,l){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(f=>(Te(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(h,f))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);If(r,e,n),kf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await As(r,s)}catch(s){await Sr(s)}}function kf(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function If(t,e,n){const r=ae(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Ko(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Af(t,r)})}function Af(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Cl(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Fl(t))}function Ah(t,e,n){for(const r of n)r instanceof Nf?(t.au.addReference(r.key,e),h1(t,r)):r instanceof Tf?(Q(Ml,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Af(t,r.key)):Z(19791,{Iu:r})}function h1(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Q(Ml,"New document in limbo: "+n),t.su.add(r),Fl(t))}function Fl(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new X(Le.fromString(e)),r=t.lu.next();t._u.set(r,new e1(n)),t.ou=t.ou.insert(n,r),pf(t.remoteStore,new fn(Ut(_l(n.path)),r,"TargetPurposeLimboResolution",na.le))}}async function As(t,e,n){const r=ae(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((l,u)=>{o.push(r.Pu(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){s.push(h);const f=Il.Ps(u.targetId,h);i.push(f)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(u,h){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(h,g=>M.forEach(g.ls,p=>d.persistence.referenceDelegate.addReference(f,g.targetId,p)).next(()=>M.forEach(g.hs,p=>d.persistence.referenceDelegate.removeReference(f,g.targetId,p)))))}catch(f){if(!kr(f))throw f;Q(Al,"Failed to update sequence numbers: "+f)}for(const f of h){const g=f.targetId;if(!f.fromCache){const p=d.Ss.get(g),v=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(v);d.Ss=d.Ss.insert(g,E)}}}(r.localStore,i))}async function d1(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Q(Ml,"User change. New user:",e.toKey());const r=await hf(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(l=>{l.forEach(u=>{u.reject(new G(q.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await As(n,r.Ms)}}function m1(t,e){const n=ae(t),r=n._u.get(e);if(r&&r.tu)return de().add(r.key);{let s=de();const i=n.iu.get(e);if(!i)return s;for(const o of i){const l=n.ru.get(o);s=s.unionWith(l.view.Wa)}return s}}function Cf(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l1.bind(null,e),e.nu.Q_=Jv.bind(null,e.eventManager),e.nu.Tu=Yv.bind(null,e.eventManager),e}function f1(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u1.bind(null,e),e}class Gi{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=da(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return yv(this.persistence,new pv,e.initialUser,this.serializer)}Ru(e){return new uf(kl.Ei,this.serializer)}Au(e){return new Tv}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gi.provider={build:()=>new Gi};class p1 extends Gi{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Te(this.persistence.referenceDelegate instanceof Qi,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ev(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?yt.withCacheSize(this.cacheSizeBytes):yt.DEFAULT;return new uf(r=>Qi.Ei(r,n),this.serializer)}}class Go{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ih(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d1.bind(null,this.syncEngine),await Kv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wv}()}createDatastore(e){const n=da(e.databaseInfo.databaseId),r=function(i){return new Av(i)}(e.databaseInfo);return function(i,o,l,u){return new Dv(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new Ov(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Ih(this.syncEngine,n,0),function(){return Eh.C()?new Eh:new jv}())}createSyncEngine(e,n){return function(s,i,o,l,u,h,d){const f=new t1(s,i,o,l,u,h);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);Q(Hn,"RemoteStore shutting down."),i.aa.add(5),await Is(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Go.provider={build:()=>new Go};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):nn("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="FirestoreClient";class g1{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=lt.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(jn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(jn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ol(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eo(t,e){t.asyncQueue.verifyOperationInProgress(),Q(jn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hf(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ch(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x1(t);Q(jn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Th(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Th(e.remoteStore,s)),t._onlineComponents=e}async function x1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(jn,"Using user provided OfflineComponentProvider");try{await eo(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xr("Error using user provided cache. Falling back to memory cache: "+n),await eo(t,new Gi)}}else Q(jn,"Using default OfflineComponentProvider"),await eo(t,new p1(void 0));return t._offlineComponents}async function Rf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(jn,"Using user provided OnlineComponentProvider"),await Ch(t,t._uninitializedComponentsProvider._online)):(Q(jn,"Using default OnlineComponentProvider"),await Ch(t,new Go))),t._onlineComponents}function y1(t){return Rf(t).then(e=>e.syncEngine)}async function Df(t){const e=await Rf(t),n=e.eventManager;return n.onListen=n1.bind(null,e.syncEngine),n.onUnlisten=i1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a1.bind(null,e.syncEngine),n}function b1(t,e,n={}){const r=new en;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,h){const d=new Pf({next:g=>{d.yu(),o.enqueueAndForget(()=>_f(i,f));const p=g.docs.has(l);!p&&g.fromCache?h.reject(new G(q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&u&&u.source==="server"?h.reject(new G(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new Ef(_l(l.path),d,{includeMetadataChanges:!0,Fa:!0});return vf(i,f)}(await Df(t),t.asyncQueue,e,n,r)),r.promise}function w1(t,e,n={}){const r=new en;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,h){const d=new Pf({next:g=>{d.yu(),o.enqueueAndForget(()=>_f(i,f)),g.fromCache&&u.source==="server"?h.reject(new G(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new Ef(l,d,{includeMetadataChanges:!0,Fa:!0});return vf(i,f)}(await Df(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){if(!n)throw new G(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v1(t,e,n,r){if(e===!0&&r===!0)throw new G(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rh(t){if(!X.isDocumentKey(t))throw new G(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(X.isDocumentKey(t))throw new G(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ql(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Rt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ql(t);throw new G(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="firestore.googleapis.com",Lh=!0;class Oh{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vf,this.ssl=Lh}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Lh;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cf;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xw)throw new G(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lf((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pa{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ib;switch(r.type){case"firstParty":return new Rb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,im("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ph.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Ph.delete(n),r.terminate())}(this),Promise.resolve()}}function _1(t,e,n,r={}){var s;t=Rt(t,pa);const i=fl(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o.host!==Vf&&o.host!==u&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!Li(h,l)&&(t._setSettings(h),i&&(r0(`https://${u}`),im("Firestore",!0)),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=lt.MOCK_USER;else{d=s0(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new G(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new lt(g)}t._authCredentials=new Ab(new wm(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}}class bn extends ga{constructor(e,n,r){super(e,n,_l(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new X(e))}withConverter(e){return new bn(this.firestore,e,this._path)}}function Ar(t,e,...n){if(t=$t(t),Of("collection","path",e),t instanceof pa){const r=Le.fromString(e,...n);return Dh(r),new bn(t,null,r)}{if(!(t instanceof wt||t instanceof bn))throw new G(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Dh(r),new bn(t.firestore,null,r)}}function Je(t,e,...n){if(t=$t(t),arguments.length===1&&(e=_m.newId()),Of("doc","path",e),t instanceof pa){const r=Le.fromString(e,...n);return Rh(r),new wt(t,null,new X(r))}{if(!(t instanceof wt||t instanceof bn))throw new G(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Rh(r),new wt(t.firestore,t instanceof bn?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="AsyncQueue";class Mh{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new mf(this,"async_queue_retry"),this.ju=()=>{const r=Za();r&&Q(Vh,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Za();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Za();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new en;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!kr(e))throw e;Q(Vh,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,nn("INTERNAL UNHANDLED ERROR: ",Fh(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Ll.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&Z(47125,{ec:Fh(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Fh(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class In extends pa{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Mh,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mh(e),this._firestoreClient=void 0,await e}}}function zl(t,e){const n=typeof t=="object"?t:gb(),r=typeof t=="string"?t:Fi,s=hb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=t0("firestore");i&&_1(s,...i)}return s}function xa(t){if(t._terminated)throw new G(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E1(t),t._firestoreClient}function E1(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,h,d){return new Gb(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Lf(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new g1(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(st.fromBase64String(e))}catch(n){throw new G(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Er(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=/^__.*__$/;class T1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ss(e,this.data,n,this.fieldTransforms)}}class Mf{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new kn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ff(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{oc:t})}}class Hl{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Hl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Wi(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Ff(this.oc)&&N1.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class j1{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||da(e)}dc(e,n,r,s=!1){return new Hl({oc:e,methodName:n,Ec:r,path:rt.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ya(t){const e=t._freezeSettings(),n=da(t._databaseId);return new j1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ql(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);Kl("Data must be an object, but it was:",o,r);const l=Uf(r,o);let u,h;if(i.merge)u=new kt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const g=Wo(e,f,n);if(!o.contains(g))throw new G(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$f(d,g)||d.push(g)}u=new kt(d),h=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,h=o.fieldTransforms;return new T1(new bt(l),u,h)}class ba extends Ul{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ba}}function qf(t,e,n,r){const s=t.dc(1,e,n);Kl("Data must be an object, but it was:",s,r);const i=[],o=bt.empty();Sn(r,(u,h)=>{const d=Gl(e,u,n);h=$t(h);const f=s.hc(d);if(h instanceof ba)i.push(d);else{const g=wa(h,f);g!=null&&(i.push(d),o.set(d,g))}});const l=new kt(i);return new Mf(o,l,s.fieldTransforms)}function zf(t,e,n,r,s,i){const o=t.dc(1,e,n),l=[Wo(e,r,n)],u=[s];if(i.length%2!=0)throw new G(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(Wo(e,i[g])),u.push(i[g+1]);const h=[],d=bt.empty();for(let g=l.length-1;g>=0;--g)if(!$f(h,l[g])){const p=l[g];let v=u[g];v=$t(v);const E=o.hc(p);if(v instanceof ba)h.push(p);else{const C=wa(v,E);C!=null&&(h.push(p),d.set(p,C))}}const f=new kt(h);return new Mf(d,f,o.fieldTransforms)}function wa(t,e){if(Bf(t=$t(t)))return Kl("Unsupported field value:",e,t),Uf(t,e);if(t instanceof Ul)return function(r,s){if(!Ff(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=wa(l,s.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xw(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:Hi(s.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hi(s.serializer,i)}}if(r instanceof Bl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Er)return{bytesValue:tf(s.serializer,r._byteString)};if(r instanceof wt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jl(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $l)return function(o,l){return{mapValue:{fields:{[Am]:{stringValue:Pm},[qi]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Tc("VectorValues must only contain numeric values.");return El(l.serializer,h)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${ql(r)}`)}(t,e)}function Uf(t,e){const n={};return Nm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sn(t,(r,s)=>{const i=wa(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Bf(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Bl||t instanceof Er||t instanceof wt||t instanceof Ul||t instanceof $l)}function Kl(t,e,n){if(!Bf(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ql(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Wo(t,e,n){if((e=$t(e))instanceof Cs)return e._internalPath;if(typeof e=="string")return Gl(t,e);throw Wi("Field path arguments must be of type string or ",t,!1,void 0,n)}const S1=new RegExp("[~\\*/\\[\\]]");function Gl(t,e,n){if(e.search(S1)>=0)throw Wi(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cs(...e.split("."))._internalPath}catch{throw Wi(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wi(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new G(q.INVALID_ARGUMENT,l+t+u)}function $f(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k1 extends Hf{data(){return super.data()}}function Qf(t,e){return typeof e=="string"?Gl(t,e):e instanceof Cs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A1{convertValue(e,n="none"){switch(Nn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(En(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sn(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[qi].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>qe(o.doubleValue));return new $l(i)}convertGeoPoint(e){return new Bl(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sa(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bs(e));default:return null}}convertTimestamp(e){const n=_n(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Te(lf(r),9688,{name:e});const s=new ws(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||nn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kf extends Hf{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bi extends Kf{data(e={}){return super.data(e)}}class C1{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ns(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bi(this._firestore,this._userDataWriter,r.key,r,new ns(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new bi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ns(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new bi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ns(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:P1(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function P1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){t=Rt(t,wt);const e=Rt(t.firestore,In);return b1(xa(e),t._key).then(n=>R1(e,t,n))}class Gf extends A1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Wf(t){t=Rt(t,ga);const e=Rt(t.firestore,In),n=xa(e),r=new Gf(e);return I1(t._query),w1(n,t._query).then(s=>new C1(e,r,t,s))}function Jl(t,e,n){t=Rt(t,wt);const r=Rt(t.firestore,In),s=Wl(t.converter,e,n);return Rs(r,[Ql(ya(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ft.none())])}function Ps(t,e,n,...r){t=Rt(t,wt);const s=Rt(t.firestore,In),i=ya(s);let o;return o=typeof(e=$t(e))=="string"||e instanceof Cs?zf(i,"updateDoc",t._key,e,n,r):qf(i,"updateDoc",t._key,e),Rs(s,[o.toMutation(t._key,ft.exists(!0))])}function Jf(t){return Rs(Rt(t.firestore,In),[new ua(t._key,ft.none())])}function va(t,e){const n=Rt(t.firestore,In),r=Je(t),s=Wl(t.converter,e);return Rs(n,[Ql(ya(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ft.exists(!1))]).then(()=>r)}function Rs(t,e){return function(r,s){const i=new en;return r.asyncQueue.enqueueAndForget(async()=>o1(await y1(r),s,i)),i.promise}(xa(t),e)}function R1(t,e,n){const r=n.docs.get(e._key),s=new Gf(t);return new Kf(t,s,e._key,r,new ns(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ya(e)}set(e,n,r){this._verifyNotCommitted();const s=to(e,this._firestore),i=Wl(s.converter,n,r),o=Ql(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ft.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=to(e,this._firestore);let o;return o=typeof(n=$t(n))=="string"||n instanceof Cs?zf(this._dataReader,"WriteBatch.update",i._key,n,r,s):qf(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=to(e,this._firestore);return this._mutations=this._mutations.concat(new ua(n._key,ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function to(t,e){if((t=$t(t)).firestore!==e)throw new G(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return xa(t=Rt(t,In)),new D1(t,e=>Rs(t,e))}(function(e,n=!0){(function(s){jr=s})(pb),Vi(new gs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new In(new Cb(r.getProvider("auth-internal")),new Db(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(h.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),mr($u,Hu,e),mr($u,Hu,"esm2017")})();const L1={apiKey:"AIzaSyDjbHcvCVl8kUKJgDdQtO-eyVoLYkTy1Bw",authDomain:"softis-a8ac1.firebaseapp.com",projectId:"softis-a8ac1",storageBucket:"softis-a8ac1.appspot.com",messagingSenderId:"686422979347",appId:"1:686422979347:web:28a018d0610f29ef6b0f0a"},Yl=um(L1),He=zl(Yl),tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function O1(t,e=0){return(tt[t[e+0]]+tt[t[e+1]]+tt[t[e+2]]+tt[t[e+3]]+"-"+tt[t[e+4]]+tt[t[e+5]]+"-"+tt[t[e+6]]+tt[t[e+7]]+"-"+tt[t[e+8]]+tt[t[e+9]]+"-"+tt[t[e+10]]+tt[t[e+11]]+tt[t[e+12]]+tt[t[e+13]]+tt[t[e+14]]+tt[t[e+15]]).toLowerCase()}let no;const V1=new Uint8Array(16);function M1(){if(!no){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");no=crypto.getRandomValues.bind(crypto)}return no(V1)}const F1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qh={randomUUID:F1};function q1(t,e,n){var s;if(qh.randomUUID&&!e&&!t)return qh.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??M1();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,O1(r)}const Ds="questions",Ot="blog",ur=async()=>{try{const t=Ar(He,Ds),e=await Wf(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(t){return console.error("Erreur lors du chargement des questions:",t),[]}},z1=async(t,e,n)=>{try{const r={question:t,name:e,email:n,answer:null,date:new Date().toISOString(),status:"pending"};return{id:(await va(Ar(He,Ds),r)).id,...r}}catch(r){return console.error("Erreur lors de l'ajout d'une question:",r),null}},U1=async(t,e)=>{try{const n=Je(He,Ds,t);if(!(await An(n)).exists())return console.error(`Question avec ID ${t} n'existe pas`),!1;const s=new Date().toISOString();return await Ps(n,{answer:e,status:"answered",answerDate:s}),!0}catch(n){return console.error("Erreur lors de la réponse à une question:",n),console.error("Détails:",JSON.stringify(n)),!1}},B1=async t=>{try{return await Jf(Je(He,Ds,t)),!0}catch(e){return console.error("Erreur lors de la suppression d'une question:",e),!1}},$1=async t=>{try{const{id:e,...n}=t,r=Je(He,Ds,e),s=await An(r);return s.exists()?(n.status==="answered"&&s.data().status==="pending"&&(n.answerDate=new Date().toISOString()),await Ps(r,n),!0):(console.error(`Question avec ID ${e} n'existe pas`),!1)}catch(e){return console.error("Erreur lors de la mise à jour d'une question:",e),console.error("Détails:",JSON.stringify(e)),!1}},Jo=async()=>{try{const t=Ar(He,Ot),e=await Wf(t),n=[];return e.forEach(r=>{const s=r.data(),i={id:r.id,...s};Array.isArray(i.comments)||(i.comments=[]),i.comments.length>0&&(console.log(`Post ${i.id} has ${i.comments.length} comments:`,i.comments),console.log(`Approved comments: ${i.comments.filter(o=>o.status==="approved").length}`)),n.push(i)}),n}catch(t){return console.error("Erreur lors du chargement des articles de blog:",t),[]}},Yo=async t=>{try{const e=await An(Je(He,Ot,t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){return console.error("Erreur lors du chargement d'un article de blog:",e),null}},H1=async(t,e,n,r,s,i)=>{try{const o={title:t,content:e,author:n,email:r,date:new Date().toISOString(),tags:s,imageUrl:i||null,comments:[],status:"published"};return{id:(await va(Ar(He,Ot),o)).id,...o}}catch(o){return console.error("Erreur lors de l'ajout d'un article de blog:",o),null}},Q1=async t=>{try{const{id:e,...n}=t;return await Jl(Je(He,Ot,e),n),t}catch(e){return console.error("Erreur lors de la mise à jour d'un article de blog:",e),null}},K1=async t=>{try{return await Jf(Je(He,Ot,t)),!0}catch(e){return console.error("Erreur lors de la suppression d'un article de blog:",e),!1}},G1=async(t,e,n,r)=>{try{console.log(`Ajout d'un commentaire pour l'article ${t}`);const s=await An(Je(He,Ot,t));if(!s.exists())return console.error(`Article avec ID ${t} non trouvé`),null;const i=s.data(),o={id:q1(),postId:t,author:e,email:n,content:r,date:new Date().toISOString(),status:"approved"},l=[...i.comments||[],o];return console.log("Commentaire créé:",o),console.log("Tentative de mise à jour avec les commentaires:",l),await Ps(Je(He,Ot,t),{comments:l}),console.log(`Commentaire ajouté avec succès à l'article ${t}`),o}catch(s){return console.error("Erreur lors de l'ajout d'un commentaire:",s),console.error("Détails de l'erreur:",JSON.stringify(s)),null}},W1=async(t,e)=>{try{console.log(`Tentative d'approbation du commentaire ${e} pour l'article ${t}`);const n=await An(Je(He,Ot,t));if(!n.exists())return console.error(`Article avec ID ${t} non trouvé`),!1;const r=n.data();if(!Array.isArray(r.comments))return console.error("Le champ comments n'est pas un tableau:",r.comments),!1;const s=r.comments.findIndex(o=>o.id===e);if(s===-1)return console.error(`Commentaire avec ID ${e} non trouvé dans l'article ${t}`),!1;console.log("Commentaire avant mise à jour:",r.comments[s]);const i=r.comments.map(o=>o.id===e?{...o,status:"approved"}:o);return console.log("Commentaires mis à jour:",i),await Ps(Je(He,Ot,t),{comments:i}),console.log(`Commentaire ${e} approuvé avec succès`),!0}catch(n){return console.error("Erreur lors de l'approbation d'un commentaire:",n),console.error("Détails:",JSON.stringify(n)),!1}},J1=async(t,e)=>{try{const n=await An(Je(He,Ot,t));if(!n.exists())return!1;const s=n.data().comments.filter(i=>i.id!==e);return await Ps(Je(He,Ot,t),{comments:s}),!0}catch(n){return console.error("Erreur lors de la suppression d'un commentaire:",n),!1}},Y1={Sparkles:ix,HelpCircle:wn,Shirt:sx,Clock:fs,AlertCircle:Ud,Calendar:Xi,Users:ax,Dumbbell:Qg,MessageCircle:Zt},X1=()=>{const{t}=pt(),[e,n]=F.useState(null),[r,s]=F.useState([]),[i,o]=F.useState([]),[l,u]=F.useState(!0);F.useEffect(()=>{(async()=>{try{u(!0);const p=await ur(),v=p.filter(E=>E.id.startsWith("faq-")).map(E=>({id:E.id,question:E.question,answer:E.answer,icon:Y1[E.id.includes("faq-")?"HelpCircle":"MessageCircle"]||wn}));s(v),o(p.filter(E=>E.status==="answered"&&!E.id.startsWith("faq-")))}catch(p){console.error("Erreur lors du chargement des questions:",p)}finally{u(!1)}})()},[]);const h=g=>{n(e===g?null:g)},f={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[...r.map(g=>({"@type":"Question",name:g.question,acceptedAnswer:{"@type":"Answer",text:typeof g.answer=="string"?g.answer:t("faq.contactUs")}})),...i.map(g=>({"@type":"Question",name:g.question,acceptedAnswer:{"@type":"Answer",text:g.answer||""}}))]};return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:t("faq.seoTitle"),description:t("faq.seoDescription"),keywords:t("faq.seoKeywords"),structuredData:f}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-turquoise-700 to-turquoise-500",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsx(ie,{className:"relative z-10",children:a.jsxs(J.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-4",children:t("faq.title")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl max-w-3xl mx-auto",children:t("faq.subtitle")})]})})]}),a.jsx(Ae,{className:"bg-turquoise-50",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[l?a.jsxs("div",{className:"text-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-turquoise-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:t("faq.loading")})]}):a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-8 text-center",children:t("faq.staffAnswers")}),r.length>0?a.jsx("div",{className:"space-y-4",children:r.map((g,p)=>{const v=g.icon,E=e===p;return a.jsxs(J.div,{className:`bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border ${E?"border-turquoise-300":"border-turquoise-100"} rounded-xl shadow-lg hover:shadow-xl transition-all duration-300`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:p*.1},whileHover:{scale:1.01},children:[a.jsx("button",{className:"w-full text-left p-6 focus:outline-none",onClick:()=>h(p),"aria-expanded":E,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${E?"bg-turquoise-200":"bg-turquoise-100"} rounded-full flex items-center justify-center shadow-inner transition-colors duration-300`,children:a.jsx(v,{className:`h-6 w-6 ${E?"text-turquoise-600":"text-turquoise-500"} transition-colors duration-300`})}),a.jsx("h3",{className:`text-xl font-bold ${E?"text-turquoise-700":"text-turquoise-600"} transition-colors duration-300`,children:g.question})]}),a.jsx("div",{className:`flex-shrink-0 w-6 h-6 bg-${E?"turquoise":"gray"}-100 rounded-full flex items-center justify-center`,children:E?a.jsx(mn,{className:"h-4 w-4 text-turquoise-600"}):a.jsx(Fn,{className:"h-4 w-4 text-gray-600"})})]})}),a.jsx(pn,{children:E&&a.jsx(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-6 pt-0",children:a.jsx("div",{className:"text-gray-800 bg-white/80 p-4 rounded-lg shadow-sm leading-relaxed border-l-4 border-turquoise-300",children:g.answer})})})]},p)})}):a.jsxs("div",{className:"text-center p-8 bg-white/80 rounded-lg shadow-sm mb-12",children:[a.jsx(wn,{className:"h-12 w-12 text-turquoise-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:t("faq.noFaqData")})]}),i.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-8 text-center mt-16",children:t("faq.customerQuestions")}),a.jsx("div",{className:"space-y-4",children:i.map((g,p)=>{const v=p+r.length,E=e===v;return a.jsxs(J.div,{className:`bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border ${E?"border-turquoise-300":"border-turquoise-100"} rounded-xl shadow-lg hover:shadow-xl transition-all duration-300`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:p*.1},whileHover:{scale:1.01},children:[a.jsx("button",{className:"w-full text-left p-6 focus:outline-none",onClick:()=>h(v),"aria-expanded":E,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${E?"bg-turquoise-200":"bg-turquoise-100"} rounded-full flex items-center justify-center shadow-inner transition-colors duration-300`,children:a.jsx(Zt,{className:`h-6 w-6 ${E?"text-turquoise-600":"text-turquoise-500"} transition-colors duration-300`})}),a.jsx("h3",{className:`text-xl font-bold ${E?"text-turquoise-700":"text-turquoise-600"} transition-colors duration-300`,children:g.question})]}),a.jsx("div",{className:`flex-shrink-0 w-6 h-6 bg-${E?"turquoise":"gray"}-100 rounded-full flex items-center justify-center`,children:E?a.jsx(mn,{className:"h-4 w-4 text-turquoise-600"}):a.jsx(Fn,{className:"h-4 w-4 text-gray-600"})})]})}),a.jsx(pn,{children:E&&a.jsx(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-6 pt-0",children:a.jsx("div",{className:"text-gray-800 bg-white/80 p-4 rounded-lg shadow-sm leading-relaxed border-l-4 border-turquoise-300",children:g.answer})})})]},g.id)})})]})]}),a.jsxs(J.div,{className:"mt-12 text-center p-6 bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-turquoise-100 rounded-full flex items-center justify-center shadow-inner",children:a.jsx(Zt,{className:"h-8 w-8 text-turquoise-500"})})}),a.jsx("h3",{className:"text-xl font-bold text-turquoise-700 mb-3",children:t("faq.moreQuestions")}),a.jsx("p",{className:"text-gray-800 mb-6",children:t("faq.contactInvitation")}),a.jsxs(Pe,{to:"/questions",className:"inline-flex items-center px-6 py-3 bg-turquoise-500 text-white font-medium rounded-lg shadow-md hover:bg-turquoise-600 transition-colors duration-300",children:[a.jsx(Zt,{className:"h-5 w-5 mr-2"}),t("faq.postQuestion")]})]})]})})})]})},Z1=({src:t,alt:e,className:n="",overlayColor:r="rgb(0, 62, 76)",overlayOpacity:s=.7,children:i,quality:o=85})=>a.jsxs("div",{className:`relative ${n}`,children:[a.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[a.jsx(Qe,{src:t,alt:e,className:"w-full h-full object-cover",loading:"eager",quality:o,format:"webp"}),a.jsx("div",{className:"absolute inset-0",style:{backgroundColor:r,opacity:s}})]}),a.jsx("div",{className:"relative z-10",children:i})]}),e_=()=>{const t=[{src:"/src/assets/IMG/IMG_2593.jpeg",alt:"Image de studio Pilates 1",description:"Notre studio principal avec équipement Pilates"},{src:"/src/assets/IMG/IMG_2602.jpeg",alt:"Image de studio Pilates 2",description:"Espace d'entraînement avec reformer Pilates"},{src:"/src/assets/IMG/IMG_2364.jpeg",alt:"Image de studio Pilates 3",description:"Vue d'ensemble de notre espace d'entraînement"},{src:"/src/assets/IMG/IMG_1114.jpeg",alt:"Image de studio Pilates 4",description:"Séance de Pilates avec instructeur"},{src:"/src/assets/IMG/IMG_1601.jpeg",alt:"Image de studio Pilates 5",description:"Exercices sur équipement spécialisé"},{src:"/src/assets/IMG/IMG_2616.jpeg",alt:"Image de studio Pilates 6",description:"Entraînement personnalisé"},{src:"/src/assets/IMG/IMG_2628.jpeg",alt:"Image de studio Pilates 7",description:"Nos équipements modernes"},{src:"/src/assets/machine/IMG_6780.jpeg",alt:"Reformer Pilates",description:"Notre reformer Pilates de dernière génération"},{src:"/src/assets/machine/IMG_1119.jpeg",alt:"Barrel Pilates",description:"Barrel pour exercices spécifiques"},{src:"/src/assets/machine/IMG_8645.jpeg",alt:"Chair Pilates",description:"Chair Pilates pour renforcement musculaire"}];return a.jsxs(a.Fragment,{children:[a.jsx(Z1,{src:"/src/assets/IMG/IMG_2364.jpeg",alt:"Fond de la galerie",className:"pt-32 pb-16",overlayColor:"rgb(0, 62, 76)",overlayOpacity:.7,children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-5xl font-serif font-bold mb-4 text-white",children:"ギャラリー"}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mb-6"}),a.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-white/90",children:"スタジオと設備の写真をご覧ください。"})]})})}),a.jsx(Ae,{className:"bg-turquoise-50",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-serif font-bold text-turquoise-700 mb-4",children:"スタジオフォト"}),a.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"}),a.jsx("p",{className:"text-gray-800 text-lg max-w-2xl mx-auto bg-white/80 p-3 rounded-lg shadow-sm",children:"当スタジオの設備と雰囲気をご覧ください"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>a.jsxs(J.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:a.jsx(Qe,{src:e.src,alt:e.alt,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",loading:"lazy",quality:85,format:"webp",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"font-bold text-turquoise-700 mb-2",children:e.alt}),a.jsx("p",{className:"text-gray-800 bg-white/80 p-2 rounded-lg shadow-sm text-sm",children:e.description})]})]},n))})]})})]})},t_=()=>{const{t}=pt(),[e,n]=F.useState({name:"",email:"",question:""}),[r,s]=F.useState(!1),[i,o]=F.useState(!1),[l,u]=F.useState(null),h=f=>{const{name:g,value:p}=f.target;n(v=>({...v,[g]:p}))},d=async f=>{f.preventDefault(),s(!0),u(null);try{await z1(e.question,e.name,e.email)?(n({name:"",email:"",question:""}),o(!0),setTimeout(()=>{o(!1)},5e3)):u(t("questionForm.submissionError"))}catch(g){console.error("Erreur lors de la soumission de la question:",g),u(t("questionForm.generalError"))}finally{s(!1)}};return a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-serif font-bold text-turquoise-700 mb-6",children:t("questionForm.title")}),a.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mb-6"}),l&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4",children:l}),i?a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:t("questionForm.successMessage")}):a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("questionForm.name")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:h,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("questionForm.email")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:h,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("questionForm.emailNote")})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"question",className:"block text-neutral-700 text-sm font-medium mb-1",children:[t("questionForm.question")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"question",name:"question",value:e.question,onChange:h,rows:4,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-turquoise-300 shadow-sm",required:!0})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsxs(De,{variant:"primary",size:"lg",type:"submit",className:`shadow-md hover:shadow-lg transform transition hover:-translate-y-1 ${r?"opacity-70 cursor-not-allowed":""}`,children:[t(r?"questionForm.submitting":"questionForm.submit")," ",!r&&a.jsx(ul,{className:"ml-2 h-4 w-4"})]})})]})]})},n_=()=>{const[t,e]=F.useState([]),[n,r]=F.useState(!0);F.useEffect(()=>{(async()=>{try{r(!0);const o=await ur();e(o.filter(l=>l.status==="answered"&&!l.id.startsWith("faq-")))}catch(o){console.error("Erreur lors du chargement des questions:",o)}finally{r(!1)}})()},[]);const s={"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map(i=>({"@type":"Question",name:i.question,acceptedAnswer:{"@type":"Answer",text:i.answer||""}}))};return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:"よくある質問 | Softis ピラティススタジオ",description:"Softisピラティススタジオに関するよくある質問と回答。お客様から実際に寄せられた質問にお答えします。",keywords:"ピラティス, よくある質問, FAQ, 質問と回答, Softis, ピラティススタジオ, 豊田市",structuredData:s}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-turquoise-700 to-turquoise-500",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsx(ie,{className:"relative z-10",children:a.jsxs(J.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-4",children:"質問と回答"}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl max-w-3xl mx-auto",children:"お客様から寄せられたご質問とその回答をご紹介します"})]})})]}),a.jsx(Ae,{className:"bg-turquoise-50",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[n?a.jsxs("div",{className:"text-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-turquoise-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"質問を読み込んでいます..."})]}):t.length>0?a.jsx("div",{className:"space-y-6 mb-12",children:t.map((i,o)=>a.jsx(J.div,{className:"bg-gradient-to-br from-turquoise-50 via-pink-50 to-white/90 border border-turquoise-100 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-turquoise-100 rounded-full flex items-center justify-center",children:a.jsx(wn,{className:"h-5 w-5 text-turquoise-600"})}),a.jsx("h3",{className:"text-lg md:text-xl font-bold text-turquoise-700",children:i.question})]}),a.jsx("div",{className:"ml-14 text-gray-800 bg-white/80 p-4 rounded-lg shadow-sm leading-relaxed border-l-4 border-turquoise-300",children:i.answer})]})},i.id))}):a.jsxs("div",{className:"text-center p-8 bg-white/80 rounded-lg shadow-sm mb-12",children:[a.jsx(wn,{className:"h-12 w-12 text-turquoise-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"まだユーザーからの回答済み質問はありません。"}),a.jsx("p",{className:"text-gray-600",children:"下のフォームから質問を投稿してください。"})]}),a.jsx(t_,{})]})})})]})},r_=()=>{pt();const t={"@context":"https://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":"https://softis.jp/toyota-city-pilates"},headline:"豊田市のピラティススタジオ | 駅徒歩1分 | Softis",description:"豊田市駅徒歩1分のSoftisピラティススタジオ。理学療法士が運営する完全パーソナルピラティススタジオで姿勢改善、ボディメイク、健康促進。初心者歓迎！",image:"https://softis.jp/src/assets/IMG/img.png",author:{"@type":"Organization",name:"Softis ピラティススタジオ"},publisher:{"@type":"Organization",name:"Softis",logo:{"@type":"ImageObject",url:"https://softis.jp/images/logo.png"}},datePublished:"2023-01-01T08:00:00+08:00",dateModified:"2024-10-30T08:00:00+08:00"};return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:"豊田市 ピラティス | 駅徒歩1分 | 理学療法士経営 | Softis",description:"豊田市駅徒歩1分のSoftisピラティススタジオ。理学療法士が運営する完全パーソナルピラティススタジオで姿勢改善、ボディメイク、健康促進。初心者も安心の丁寧な指導と多数のピラティスマシンで効果的なトレーニングを。",keywords:"豊田市 ピラティス, 豊田市, ピラティス, Softis, softis, パーソナルトレーニング, 理学療法士, 姿勢改善, ボディメイク, 健康促進, 駅近",structuredData:t,canonical:"https://softis.jp/toyota-city-pilates"}),a.jsx(Ae,{className:"bg-gradient-to-br from-turquoise-700 to-turquoise-900 text-white py-20",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-serif font-bold mb-6",children:["豊田市のピラティススタジオ ",a.jsx("span",{className:"text-turquoise-200",children:"Softis"})]}),a.jsx("div",{className:"w-24 h-1 bg-turquoise-300 rounded-full mx-auto mb-6"}),a.jsx("p",{className:"text-xl max-w-3xl mx-auto leading-relaxed",children:"豊田市駅徒歩1分の好立地。理学療法士が運営する完全パーソナルピラティススタジオで、あなたの体と心を整えます。"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs(J.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.7},className:"space-y-4",children:[a.jsx("h2",{className:"text-3xl font-serif font-bold text-turquoise-200 mb-4",children:"豊田市でピラティスをお探しの方へ"}),a.jsx("p",{className:"text-lg",children:"Softisは豊田市駅から徒歩1分、便利なアクセスのピラティススタジオです。理学療法士の資格を持つインストラクターによる丁寧な指導で、初心者の方も安心してトレーニングいただけます。"}),a.jsx("p",{className:"text-lg",children:"身体の痛みや姿勢の悩み、健康増進まで、一人ひとりの目的に合わせたパーソナルプログラムをご提供します。"}),a.jsx("div",{className:"pt-4",children:a.jsx(De,{variant:"secondary",size:"lg",onClick:()=>window.open("https://lin.ee/Rvbat7l","_blank"),className:"shadow-lg hover:shadow-xl transform transition hover:-translate-y-1",children:"無料カウンセリング予約"})})]}),a.jsx(J.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},className:"rounded-xl overflow-hidden shadow-2xl",children:a.jsx(Qe,{src:"/src/assets/IMG/img.png",alt:"豊田市のSoftisピラティススタジオ",className:"w-full h-full object-cover",quality:90,format:"webp"})})]})]})}),a.jsx(Ae,{className:"bg-white py-16",children:a.jsxs(ie,{children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-800 mb-4",children:"豊田市で選ばれる理由"}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-turquoise-300 to-pink-200 rounded-full mx-auto mb-6"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 to-white border border-turquoise-100 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"w-16 h-16 bg-turquoise-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-turquoise-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"9",cy:"7",r:"4"}),a.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),a.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-3 text-turquoise-700",children:"理学療法士が指導"}),a.jsx("p",{className:"text-gray-700 text-center",children:"医学的知識を持った理学療法士が指導するため、安全で効果的なトレーニングが可能です。"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 to-white border border-turquoise-100 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"w-16 h-16 bg-turquoise-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-turquoise-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),a.jsx("path",{d:"M2 17l10 5 10-5"}),a.jsx("path",{d:"M2 12l10 5 10-5"})]})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-3 text-turquoise-700",children:"駅徒歩1分の好立地"}),a.jsx("p",{className:"text-gray-700 text-center",children:"豊田市駅から徒歩たったの1分。通いやすさも大切なポイントです。"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-turquoise-50 to-white border border-turquoise-100 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"w-16 h-16 bg-turquoise-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-turquoise-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),a.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),a.jsx("h3",{className:"text-xl font-bold text-center mb-3 text-turquoise-700",children:"完全パーソナル対応"}),a.jsx("p",{className:"text-gray-700 text-center",children:"一人ひとりの目標や体の状態に合わせたカスタマイズプログラムをご提供します。"})]})]}),a.jsx("div",{className:"text-center mt-12"})]})})]})},Xl=({onLogout:t})=>{const e=Pd(),{t:n}=pt();return a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between bg-white rounded-xl shadow p-2 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2 sm:pb-0",children:[a.jsxs(Pe,{to:"/admin/translations",className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${e.pathname==="/admin/translations"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(wo,{className:"h-4 w-4"}),a.jsx("span",{children:n("admin.translations")})]}),a.jsxs(Pe,{to:"/admin",className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${e.pathname==="/admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(wn,{className:"h-4 w-4"}),a.jsx("span",{children:n("admin.faq")})]}),a.jsxs(Pe,{to:"/admin/blog",className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${e.pathname==="/admin/blog"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(Ug,{className:"h-4 w-4"}),a.jsx("span",{children:n("admin.blog")})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"border border-gray-200 rounded-lg p-1 mr-2",children:a.jsx(So,{})}),a.jsxs("button",{onClick:t,className:"px-4 py-2 rounded-lg flex items-center space-x-2 bg-red-50 text-red-600 hover:bg-red-100",children:[a.jsx(js,{className:"h-4 w-4"}),a.jsx("span",{children:n("admin.logout")})]})]})]})},s_="admin123",Ls=()=>localStorage.getItem("admin_auth")==="true",i_=t=>t===s_?(localStorage.setItem("admin_auth","true"),!0):!1,_a=()=>{localStorage.removeItem("admin_auth")},a_=()=>{const t=sn(),{t:e}=pt(),[n,r]=F.useState([]),[s,i]=F.useState(null),[o,l]=F.useState(""),[u,h]=F.useState(!1),[d,f]=F.useState("all"),[g,p]=F.useState(!1),[v,E]=F.useState(null);F.useEffect(()=>{if(!Ls()){t("/admin-login");return}C()},[t]);const C=async()=>{try{p(!0),E(null);const _=await ur();r(_)}catch(_){console.error("Erreur lors du chargement des questions:",_),E("Erreur lors du chargement des questions. Veuillez réessayer.")}finally{p(!1)}},A=()=>{_a(),t("/admin-login")},R=async _=>{if(window.confirm("この質問を削除してもよろしいですか？"))try{p(!0),await B1(_)?(await C(),(s==null?void 0:s.id)===_&&(i(null),l(""))):E("質問の削除中にエラーが発生しました。")}catch(j){console.error("Erreur lors de la suppression de la question:",j),E("質問の削除中にエラーが発生しました。")}finally{p(!1)}},L=_=>{i(_),l(_.answer||""),h(!1)},U=()=>{h(!0)},W=async()=>{if(s)try{if(p(!0),E(null),await U1(s.id,o)){await C();const T=(await ur()).find(K=>K.id===s.id);T&&i(T),h(!1)}else E("質問への回答の保存中にエラーが発生しました。")}catch(_){console.error("Erreur lors de la réponse à la question:",_),E("質問への回答の保存中にエラーが発生しました。")}finally{p(!1)}},D=async()=>{if(s)try{if(p(!0),E(null),await $1(s)){await C();const T=(await ur()).find(K=>K.id===s.id);T&&i(T),h(!1)}else E("質問の更新中にエラーが発生しました。")}catch(_){console.error("Erreur lors de la mise à jour de la question:",_),E("質問の更新中にエラーが発生しました。")}finally{p(!1)}},k=async()=>{try{p(!0);const _=await ur(),j=JSON.stringify(_,null,2),T=new Blob([j],{type:"application/json"}),K=URL.createObjectURL(T),Y=document.createElement("a");Y.href=K,Y.download=`softis-questions-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(K)}catch(_){console.error("Erreur lors de l'export des questions:",_),E("質問のエクスポート中にエラーが発生しました。")}finally{p(!1)}},y=_=>{var K;const j=(K=_.target.files)==null?void 0:K[0];if(!j)return;const T=new FileReader;T.onload=Y=>{var fe;try{const le=(fe=Y.target)==null?void 0:fe.result,je=JSON.parse(le);alert("Firebase経由でのインポート機能は現在開発中です。FirebaseAdminページから直接データを管理してください。")}catch(le){console.error("Erreur lors de l'import des questions:",le),E("質問のインポート中にエラーが発生しました。")}},T.readAsText(j)},w=n.filter(_=>d==="all"?!0:d==="pending"?_.status==="pending":_.status==="answered"),N=_=>new Date(_).toLocaleString("ja-JP");return g&&n.length===0?a.jsx("div",{className:"pt-32 pb-16 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"質問を読み込んでいます..."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-purple-700 to-indigo-500",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsxs(ie,{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-serif font-bold",children:e("admin.dashboard")}),a.jsxs(De,{variant:"outline",size:"sm",onClick:A,className:"bg-white/10 backdrop-blur-sm hover:bg-white/20",children:[e("admin.logout")," ",a.jsx(js,{className:"ml-2 h-4 w-4"})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-4 flex gap-4",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-4 py-3 backdrop-blur-sm",children:[a.jsx("div",{className:"text-xl font-bold",children:n.filter(_=>_.status==="pending").length}),a.jsx("div",{className:"text-xs opacity-70",children:e("admin.pending")})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-4 py-3 backdrop-blur-sm",children:[a.jsx("div",{className:"text-xl font-bold",children:n.filter(_=>_.status==="answered").length}),a.jsx("div",{className:"text-xs opacity-70",children:e("admin.answered")})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-4 py-3 backdrop-blur-sm",children:[a.jsx("div",{className:"text-xl font-bold",children:n.length}),a.jsx("div",{className:"text-xs opacity-70",children:e("admin.all")})]})]}),v&&a.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:v})]})]}),a.jsx(Ae,{children:a.jsxs(ie,{children:[a.jsx(Xl,{onLogout:A}),a.jsxs("div",{className:"mb-6 flex flex-wrap justify-between items-center",children:[a.jsxs("div",{className:"w-full lg:w-1/3 md:pr-6 mb-6 lg:mb-0",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-5 mb-6",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4",children:e("admin.filters")}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{className:`px-4 py-2 rounded-lg text-sm ${d==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>f("all"),children:e("admin.all")}),a.jsx("button",{className:`px-4 py-2 rounded-lg text-sm ${d==="pending"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>f("pending"),children:e("admin.pending")}),a.jsx("button",{className:`px-4 py-2 rounded-lg text-sm ${d==="answered"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>f("answered"),children:e("admin.answered")})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow h-[500px] overflow-y-auto",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsx("h2",{className:"text-lg font-bold text-gray-700",children:e("questions.list")})}),g&&a.jsx("div",{className:"flex justify-center items-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-700"})}),!g&&w.length>0?a.jsx("div",{className:"divide-y",children:w.map(_=>a.jsx("div",{className:`p-4 cursor-pointer hover:bg-gray-50 ${(s==null?void 0:s.id)===_.id?"bg-purple-50":""}`,onClick:()=>L(_),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${_.status==="answered"?"bg-green-100":"bg-yellow-100"}`,children:_.status==="answered"?a.jsx(Ti,{className:"h-4 w-4 text-green-600"}):a.jsx(fs,{className:"h-4 w-4 text-yellow-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:_.question}),a.jsx("p",{className:"text-xs text-gray-500",children:N(_.date)})]}),a.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:j=>{j.stopPropagation(),R(_.id)},children:a.jsx(mi,{className:"h-4 w-4"})})]})},_.id))}):g?null:a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(wn,{className:"h-10 w-10 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:e("admin.noResults")})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-5 mt-6",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4",children:e("admin.dataManagement")}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{className:"flex items-center w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",onClick:k,disabled:g,children:[a.jsx($d,{className:"h-4 w-4 mr-2"})," ",e("admin.export"),g&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700 ml-2"})]}),a.jsxs("label",{className:"flex items-center w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 cursor-pointer",children:[a.jsx(hl,{className:"h-4 w-4 mr-2"})," ",e("admin.import"),a.jsx("input",{type:"file",accept:".json",onChange:y,className:"hidden",disabled:g})]}),a.jsxs("button",{className:"flex items-center w-full px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200",onClick:()=>t("/admin/firebase"),disabled:g,children:[a.jsx(ji,{className:"h-4 w-4 mr-2"})," ",e("admin.firebase")]})]})]})]}),a.jsx("div",{className:"w-full lg:w-2/3",children:a.jsx("div",{className:"bg-white rounded-lg shadow h-full",children:s?a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-6 gap-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e("questions.details")}),a.jsxs("div",{className:"flex gap-2",children:[!u&&a.jsxs(De,{variant:"outline",size:"sm",onClick:U,disabled:g,children:[a.jsx(vo,{className:"h-4 w-4 mr-1"})," ",e("admin.edit")]}),u&&a.jsxs(De,{variant:"primary",size:"sm",onClick:D,disabled:g,children:[a.jsx(Zi,{className:"h-4 w-4 mr-1"})," ",e("admin.save"),g&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white ml-2"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:e("admin.userInfo")}),a.jsxs("div",{className:"flex flex-wrap gap-y-3 gap-x-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Si,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:s.name})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zg,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700 break-all",children:s.email})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(fs,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:N(s.date)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:e("admin.questionContent")}),u?a.jsx("textarea",{value:s.question,onChange:_=>i({...s,question:_.target.value}),className:"w-full p-3 border rounded-lg focus:ring focus:ring-purple-200 focus:outline-none",rows:4}):a.jsx("p",{className:"p-4 bg-purple-50 rounded-lg text-gray-700",children:s.question})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:e("admin.answer")}),u||s.status==="pending"?a.jsxs("div",{className:"space-y-3",children:[a.jsx("textarea",{value:o,onChange:_=>l(_.target.value),className:"w-full p-3 border rounded-lg focus:ring focus:ring-purple-200 focus:outline-none",rows:6,placeholder:e("questions.answerPlaceholder"),disabled:g}),s.status==="pending"&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(De,{variant:"primary",onClick:W,disabled:!o.trim()||g,children:[a.jsx(Ti,{className:"h-4 w-4 mr-1"})," ",e("admin.publishAnswer"),g&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white ml-2"})]})})]}):a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-gray-700",children:[s.answer||e("questions.noAnswer"),s.answerDate&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e("questions.answerDate"),": ",N(s.answerDate)]})]})]})]})]}):a.jsxs("div",{className:"p-8 h-full flex flex-col items-center justify-center text-gray-500",children:[a.jsx(wn,{className:"h-16 w-16 mb-4 text-gray-300"}),a.jsx("p",{className:"mb-2",children:e("questions.selectQuestion")}),a.jsx("p",{className:"text-sm text-gray-400 text-center",children:e("questions.selectFromList")})]})})})]})]})})]})},o_=()=>{const t=sn(),[e,n]=F.useState(""),[r,s]=F.useState(""),[i,o]=F.useState(!1);F.useEffect(()=>{Ls()&&t("/admin")},[t]);const l=u=>{u.preventDefault(),o(!0),s(""),setTimeout(()=>{i_(e)?t("/admin"):(s("パスワードが正しくありません"),o(!1))},500)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 to-indigo-50 flex flex-col justify-center",children:a.jsx(ie,{className:"pt-24 pb-16",children:a.jsxs(J.div,{className:"max-w-md mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-purple-600 p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(rx,{className:"h-8 w-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Softis 管理者ログイン"})]}),a.jsxs("div",{className:"p-6",children:[r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:r}),a.jsxs("form",{onSubmit:l,children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"パスワード"}),a.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500",value:e,onChange:u=>n(u.target.value),placeholder:"管理者パスワード",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"デモ用パスワード: admin123"})]}),a.jsxs(De,{variant:"primary",size:"lg",className:"w-full bg-purple-600 hover:bg-purple-700",type:"submit",disabled:i,children:[i?"ログイン中...":"ログイン"," ",!i&&a.jsx(Xg,{className:"ml-2 h-4 w-4"})]})]})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{className:"text-purple-600 hover:text-purple-800 text-sm",onClick:()=>t("/"),children:"サイトに戻る"})})]})})})},l_=()=>{const{t}=pt(),[e,n]=F.useState([]),[r,s]=F.useState(null),[i,o]=F.useState([]),[l,u]=F.useState(!0);F.useEffect(()=>{(async()=>{try{u(!0);const v=await Jo();n(v);const E=new Set;v.forEach(C=>{C.tags.forEach(A=>E.add(A))}),o(Array.from(E))}catch(v){console.error("Erreur lors du chargement des articles:",v)}finally{u(!1)}})()},[]);const h=r?e.filter(p=>p.tags.includes(r)):e,d=p=>new Date(p).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),f=(p,v=150)=>{const E=p.replace(/#{1,6} |[*_`~]/g,"");return E.length<=v?E:E.substring(0,v)+"..."},g={"@context":"https://schema.org","@type":"Blog",headline:t("blog.schemaHeadline"),description:t("blog.schemaDescription"),author:{"@type":"Organization",name:t("blog.schemaAuthorName"),url:"https://softis.jp"},publisher:{"@type":"Organization",name:t("blog.schemaPublisherName"),logo:{"@type":"ImageObject",url:"https://softis.jp/logo.png"}},blogPost:e.map(p=>({"@type":"BlogPosting",headline:p.title,description:f(p.content),datePublished:p.date,author:{"@type":"Person",name:p.author},keywords:p.tags.join(", ")}))};return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:t("blog.seoTitle"),description:t("blog.seoDescription"),keywords:t("blog.seoKeywords"),structuredData:g}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-pink-600 to-purple-700",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsx(ie,{className:"relative z-10",children:a.jsxs(J.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-4",children:t("blog.title")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-pink-300 to-purple-300 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl max-w-3xl mx-auto",children:t("blog.subtitle")})]})})]}),a.jsx(Ae,{className:"bg-gray-50",children:a.jsx(ie,{children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[a.jsx("h2",{className:"text-xl font-serif font-bold text-gray-800 mb-4",children:t("blog.categories")}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{className:`block w-full text-left px-3 py-2 rounded-lg transition ${r===null?"bg-purple-100 text-purple-700":"hover:bg-gray-100"}`,onClick:()=>s(null),children:t("blog.allCategories")}),i.map(p=>a.jsx("button",{className:`block w-full text-left px-3 py-2 rounded-lg transition ${r===p?"bg-purple-100 text-purple-700":"hover:bg-gray-100"}`,onClick:()=>s(p),children:p},p))]})]})}),a.jsxs("div",{className:"lg:col-span-3",children:[l?a.jsxs("div",{className:"text-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:t("blog.loading")})]}):h.length>0?a.jsx("div",{className:"space-y-8",children:h.map((p,v)=>a.jsx(J.article,{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.1},children:a.jsxs("div",{className:"md:flex",children:[p.imageUrl&&a.jsx("div",{className:"md:flex-shrink-0 h-48 md:h-auto md:w-48 relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover absolute top-0 left-0",src:p.imageUrl,alt:p.title})}),a.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.tags.map(E=>a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",onClick:()=>s(E),children:[a.jsx(Nr,{className:"w-3 h-3 mr-1"}),E]},E))}),a.jsx(Pe,{to:`/blog/${p.id}`,className:"block",children:a.jsx("h2",{className:"text-xl font-serif font-bold text-gray-900 hover:text-purple-600 transition",children:p.title})}),a.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:[a.jsx(Xi,{className:"h-4 w-4 mr-1"}),a.jsx("time",{dateTime:p.date,children:d(p.date)}),a.jsx("span",{className:"mx-1",children:"•"}),a.jsx("span",{children:p.author})]}),a.jsx("p",{className:"mt-3 text-gray-600",children:f(p.content)})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Zt,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[p.comments.filter(E=>E.status==="approved").length," ",t("blog.comments")]})]}),a.jsxs(Pe,{to:`/blog/${p.id}`,className:"inline-flex items-center text-sm font-medium text-purple-600 hover:text-purple-800",children:[t("blog.readMore"),a.jsx(Bd,{className:"h-4 w-4 ml-1"})]})]})]})]})},p.id))}):a.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md text-center",children:a.jsx("p",{className:"text-gray-600",children:t("blog.noPostsFound")})}),a.jsx("div",{className:"mt-10 text-center",children:a.jsxs(Pe,{to:"/blog/new",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white font-medium rounded-lg shadow-md hover:bg-purple-700 transition-colors duration-300",children:[a.jsx(Zt,{className:"h-5 w-5 mr-2"}),t("blog.writeNewPost")]})})]})]})})})]})};function c_(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const u_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,h_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,d_={};function zh(t,e){return(d_.jsx?h_:u_).test(t)}const m_=/[ \t\n\f\r]/g;function f_(t){return typeof t=="object"?t.type==="text"?Uh(t.value):!1:Uh(t)}function Uh(t){return t.replace(m_,"")===""}class Os{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Os.prototype.normal={};Os.prototype.property={};Os.prototype.space=void 0;function Xf(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Os(n,r,e)}function Xo(t){return t.toLowerCase()}class _t{constructor(e,n){this.attribute=n,this.property=e}}_t.prototype.attribute="";_t.prototype.booleanish=!1;_t.prototype.boolean=!1;_t.prototype.commaOrSpaceSeparated=!1;_t.prototype.commaSeparated=!1;_t.prototype.defined=!1;_t.prototype.mustUseProperty=!1;_t.prototype.number=!1;_t.prototype.overloadedBoolean=!1;_t.prototype.property="";_t.prototype.spaceSeparated=!1;_t.prototype.space=void 0;let p_=0;const oe=Gn(),$e=Gn(),Zo=Gn(),B=Gn(),ke=Gn(),pr=Gn(),St=Gn();function Gn(){return 2**++p_}const el=Object.freeze(Object.defineProperty({__proto__:null,boolean:oe,booleanish:$e,commaOrSpaceSeparated:St,commaSeparated:pr,number:B,overloadedBoolean:Zo,spaceSeparated:ke},Symbol.toStringTag,{value:"Module"})),ro=Object.keys(el);class Zl extends _t{constructor(e,n,r,s){let i=-1;if(super(e,n),Bh(this,"space",s),typeof r=="number")for(;++i<ro.length;){const o=ro[i];Bh(this,ro[i],(r&el[o])===el[o])}}}Zl.prototype.defined=!0;function Bh(t,e,n){n&&(t[e]=n)}function Cr(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const i=new Zl(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[Xo(r)]=r,n[Xo(i.attribute)]=r}return new Os(e,n,t.space)}const Zf=Cr({properties:{ariaActiveDescendant:null,ariaAtomic:$e,ariaAutoComplete:null,ariaBusy:$e,ariaChecked:$e,ariaColCount:B,ariaColIndex:B,ariaColSpan:B,ariaControls:ke,ariaCurrent:null,ariaDescribedBy:ke,ariaDetails:null,ariaDisabled:$e,ariaDropEffect:ke,ariaErrorMessage:null,ariaExpanded:$e,ariaFlowTo:ke,ariaGrabbed:$e,ariaHasPopup:null,ariaHidden:$e,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ke,ariaLevel:B,ariaLive:null,ariaModal:$e,ariaMultiLine:$e,ariaMultiSelectable:$e,ariaOrientation:null,ariaOwns:ke,ariaPlaceholder:null,ariaPosInSet:B,ariaPressed:$e,ariaReadOnly:$e,ariaRelevant:null,ariaRequired:$e,ariaRoleDescription:ke,ariaRowCount:B,ariaRowIndex:B,ariaRowSpan:B,ariaSelected:$e,ariaSetSize:B,ariaSort:null,ariaValueMax:B,ariaValueMin:B,ariaValueNow:B,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ep(t,e){return e in t?t[e]:e}function tp(t,e){return ep(t,e.toLowerCase())}const g_=Cr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pr,acceptCharset:ke,accessKey:ke,action:null,allow:null,allowFullScreen:oe,allowPaymentRequest:oe,allowUserMedia:oe,alt:null,as:null,async:oe,autoCapitalize:null,autoComplete:ke,autoFocus:oe,autoPlay:oe,blocking:ke,capture:null,charSet:null,checked:oe,cite:null,className:ke,cols:B,colSpan:null,content:null,contentEditable:$e,controls:oe,controlsList:ke,coords:B|pr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:oe,defer:oe,dir:null,dirName:null,disabled:oe,download:Zo,draggable:$e,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:oe,formTarget:null,headers:ke,height:B,hidden:Zo,high:B,href:null,hrefLang:null,htmlFor:ke,httpEquiv:ke,id:null,imageSizes:null,imageSrcSet:null,inert:oe,inputMode:null,integrity:null,is:null,isMap:oe,itemId:null,itemProp:ke,itemRef:ke,itemScope:oe,itemType:ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:oe,low:B,manifest:null,max:null,maxLength:B,media:null,method:null,min:null,minLength:B,multiple:oe,muted:oe,name:null,nonce:null,noModule:oe,noValidate:oe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:oe,optimum:B,pattern:null,ping:ke,placeholder:null,playsInline:oe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:oe,referrerPolicy:null,rel:ke,required:oe,reversed:oe,rows:B,rowSpan:B,sandbox:ke,scope:null,scoped:oe,seamless:oe,selected:oe,shadowRootClonable:oe,shadowRootDelegatesFocus:oe,shadowRootMode:null,shape:null,size:B,sizes:null,slot:null,span:B,spellCheck:$e,src:null,srcDoc:null,srcLang:null,srcSet:null,start:B,step:null,style:null,tabIndex:B,target:null,title:null,translate:null,type:null,typeMustMatch:oe,useMap:null,value:$e,width:B,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ke,axis:null,background:null,bgColor:null,border:B,borderColor:null,bottomMargin:B,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:oe,declare:oe,event:null,face:null,frame:null,frameBorder:null,hSpace:B,leftMargin:B,link:null,longDesc:null,lowSrc:null,marginHeight:B,marginWidth:B,noResize:oe,noHref:oe,noShade:oe,noWrap:oe,object:null,profile:null,prompt:null,rev:null,rightMargin:B,rules:null,scheme:null,scrolling:$e,standby:null,summary:null,text:null,topMargin:B,valueType:null,version:null,vAlign:null,vLink:null,vSpace:B,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:oe,disableRemotePlayback:oe,prefix:null,property:null,results:B,security:null,unselectable:null},space:"html",transform:tp}),x_=Cr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:St,accentHeight:B,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:B,amplitude:B,arabicForm:null,ascent:B,attributeName:null,attributeType:null,azimuth:B,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:B,by:null,calcMode:null,capHeight:B,className:ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:B,diffuseConstant:B,direction:null,display:null,dur:null,divisor:B,dominantBaseline:null,download:oe,dx:null,dy:null,edgeMode:null,editable:null,elevation:B,enableBackground:null,end:null,event:null,exponent:B,externalResourcesRequired:null,fill:null,fillOpacity:B,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pr,g2:pr,glyphName:pr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:B,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:B,horizOriginX:B,horizOriginY:B,id:null,ideographic:B,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:B,k:B,k1:B,k2:B,k3:B,k4:B,kernelMatrix:St,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:B,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:B,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:B,overlineThickness:B,paintOrder:null,panose1:null,path:null,pathLength:B,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:B,pointsAtY:B,pointsAtZ:B,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:St,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:St,rev:St,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:St,requiredFeatures:St,requiredFonts:St,requiredFormats:St,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:B,specularExponent:B,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:B,strikethroughThickness:B,string:null,stroke:null,strokeDashArray:St,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:B,strokeOpacity:B,strokeWidth:null,style:null,surfaceScale:B,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:St,tabIndex:B,tableValues:null,target:null,targetX:B,targetY:B,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:St,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:B,underlineThickness:B,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:B,values:null,vAlphabetic:B,vMathematical:B,vectorEffect:null,vHanging:B,vIdeographic:B,version:null,vertAdvY:B,vertOriginX:B,vertOriginY:B,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:B,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ep}),np=Cr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),rp=Cr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:tp}),sp=Cr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),y_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},b_=/[A-Z]/g,$h=/-[a-z]/g,w_=/^data[-\w.:]+$/i;function v_(t,e){const n=Xo(e);let r=e,s=_t;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&w_.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace($h,E_);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!$h.test(i)){let o=i.replace(b_,__);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}s=Zl}return new s(r,e)}function __(t){return"-"+t.toLowerCase()}function E_(t){return t.charAt(1).toUpperCase()}const N_=Xf([Zf,g_,np,rp,sp],"html"),ec=Xf([Zf,x_,np,rp,sp],"svg");function T_(t){return t.join(" ").trim()}var tc={},Hh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,j_=/\n/g,S_=/^\s*/,k_=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,I_=/^:\s*/,A_=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,C_=/^[;\s]*/,P_=/^\s+|\s+$/g,R_=`
`,Qh="/",Kh="*",qn="",D_="comment",L_="declaration",O_=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(v){var E=v.match(j_);E&&(n+=E.length);var C=v.lastIndexOf(R_);r=~C?v.length-C:r+v.length}function i(){var v={line:n,column:r};return function(E){return E.position=new o(v),h(),E}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function l(v){var E=new Error(e.source+":"+n+":"+r+": "+v);if(E.reason=v,E.filename=e.source,E.line=n,E.column=r,E.source=t,!e.silent)throw E}function u(v){var E=v.exec(t);if(E){var C=E[0];return s(C),t=t.slice(C.length),E}}function h(){u(S_)}function d(v){var E;for(v=v||[];E=f();)E!==!1&&v.push(E);return v}function f(){var v=i();if(!(Qh!=t.charAt(0)||Kh!=t.charAt(1))){for(var E=2;qn!=t.charAt(E)&&(Kh!=t.charAt(E)||Qh!=t.charAt(E+1));)++E;if(E+=2,qn===t.charAt(E-1))return l("End of comment missing");var C=t.slice(2,E-2);return r+=2,s(C),t=t.slice(E),r+=2,v({type:D_,comment:C})}}function g(){var v=i(),E=u(k_);if(E){if(f(),!u(I_))return l("property missing ':'");var C=u(A_),A=v({type:L_,property:Gh(E[0].replace(Hh,qn)),value:C?Gh(C[0].replace(Hh,qn)):qn});return u(C_),A}}function p(){var v=[];d(v);for(var E;E=g();)E!==!1&&(v.push(E),d(v));return v}return h(),p()};function Gh(t){return t?t.replace(P_,qn):qn}var V_=Ni&&Ni.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tc,"__esModule",{value:!0});tc.default=F_;var M_=V_(O_);function F_(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,M_.default)(t),s=typeof e=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;s?e(o,l,i):l&&(n=n||{},n[o]=l)}}),n}var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.camelCase=void 0;var q_=/^--[a-zA-Z0-9_-]+$/,z_=/-([a-z])/g,U_=/^[^-]+$/,B_=/^-(webkit|moz|ms|o|khtml)-/,$_=/^-(ms)-/,H_=function(t){return!t||U_.test(t)||q_.test(t)},Q_=function(t,e){return e.toUpperCase()},Wh=function(t,e){return"".concat(e,"-")},K_=function(t,e){return e===void 0&&(e={}),H_(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace($_,Wh):t=t.replace(B_,Wh),t.replace(z_,Q_))};Ea.camelCase=K_;var G_=Ni&&Ni.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},W_=G_(tc),J_=Ea;function tl(t,e){var n={};return!t||typeof t!="string"||(0,W_.default)(t,function(r,s){r&&s&&(n[(0,J_.camelCase)(r,e)]=s)}),n}tl.default=tl;var Y_=tl;const X_=Ts(Y_),ip=ap("end"),nc=ap("start");function ap(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Z_(t){const e=nc(t),n=ip(t);if(e&&n)return{start:e,end:n}}function us(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Jh(t.position):"start"in t||"end"in t?Jh(t):"line"in t||"column"in t?nl(t):""}function nl(t){return Yh(t&&t.line)+":"+Yh(t&&t.column)}function Jh(t){return nl(t&&t.start)+"-"+nl(t&&t.end)}function Yh(t){return t&&typeof t=="number"?t:1}class ut extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?s=e:!i.cause&&e&&(o=!0,s=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=l?l.line:void 0,this.name=us(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}ut.prototype.file="";ut.prototype.name="";ut.prototype.reason="";ut.prototype.message="";ut.prototype.stack="";ut.prototype.column=void 0;ut.prototype.line=void 0;ut.prototype.ancestors=void 0;ut.prototype.cause=void 0;ut.prototype.fatal=void 0;ut.prototype.place=void 0;ut.prototype.ruleId=void 0;ut.prototype.source=void 0;const rc={}.hasOwnProperty,eE=new Map,tE=/[A-Z]/g,nE=new Set(["table","tbody","thead","tfoot","tr"]),rE=new Set(["td","th"]),op="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sE(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dE(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=hE(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ec:N_,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=lp(s,t,void 0);return i&&typeof i!="string"?i:s.create(t,s.Fragment,{children:i||void 0},void 0)}function lp(t,e,n){if(e.type==="element")return iE(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return aE(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return lE(t,e,n);if(e.type==="mdxjsEsm")return oE(t,e);if(e.type==="root")return cE(t,e,n);if(e.type==="text")return uE(t,e)}function iE(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=ec,t.schema=s),t.ancestors.push(e);const i=up(t,e.tagName,!1),o=mE(t,e);let l=ic(t,e);return nE.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!f_(u):!0})),cp(t,o,i,e),sc(o,l),t.ancestors.pop(),t.schema=r,t.create(e,i,o,n)}function aE(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ns(t,e.position)}function oE(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ns(t,e.position)}function lE(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=ec,t.schema=s),t.ancestors.push(e);const i=e.name===null?t.Fragment:up(t,e.name,!0),o=fE(t,e),l=ic(t,e);return cp(t,o,i,e),sc(o,l),t.ancestors.pop(),t.schema=r,t.create(e,i,o,n)}function cE(t,e,n){const r={};return sc(r,ic(t,e)),t.create(e,t.Fragment,r,n)}function uE(t,e){return e.value}function cp(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function sc(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function hE(t,e,n){return r;function r(s,i,o,l){const h=Array.isArray(o.children)?n:e;return l?h(i,o,l):h(i,o)}}function dE(t,e){return n;function n(r,s,i,o){const l=Array.isArray(i.children),u=nc(r);return e(s,i,o,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function mE(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&rc.call(e.properties,s)){const i=pE(t,s,e.properties[s]);if(i){const[o,l]=i;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&rE.has(e.tagName)?r=l:n[o]=l}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fE(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Ns(t,e.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,i=t.evaluater.evaluateExpression(l.expression)}else Ns(t,e.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function ic(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:eE;for(;++r<e.children.length;){const i=e.children[r];let o;if(t.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const h=s.get(u)||0;o=u+"-"+h,s.set(u,h+1)}}const l=lp(t,i,o);l!==void 0&&n.push(l)}return n}function pE(t,e,n){const r=v_(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?c_(n):T_(n)),r.property==="style"){let s=typeof n=="object"?n:gE(t,String(n));return t.stylePropertyNameCase==="css"&&(s=xE(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?y_[r.property]||r.property:r.attribute,n]}}function gE(t,e){try{return X_(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new ut("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=op+"#cannot-parse-style-attribute",s}}function up(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let i=-1,o;for(;++i<s.length;){const l=zh(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=o}else r=zh(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return rc.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ns(t)}function Ns(t,e){const n=new ut("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=op+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xE(t){const e={};let n;for(n in t)rc.call(t,n)&&(e[yE(n)]=t[n]);return e}function yE(t){let e=t.replace(tE,bE);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function bE(t){return"-"+t.toLowerCase()}const so={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},wE={};function vE(t,e){const n=wE,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return hp(t,r,s)}function hp(t,e,n){if(_E(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Xh(t.children,e,n)}return Array.isArray(t)?Xh(t,e,n):""}function Xh(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=hp(t[s],e,n);return r.join("")}function _E(t){return!!(t&&typeof t=="object")}const Zh=document.createElement("i");function ac(t){const e="&"+t+";";Zh.innerHTML=e;const n=Zh.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Kt(t,e,n,r){const s=t.length;let i=0,o;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(e,0),t.splice(...o),i+=1e4,e+=1e4}function Pt(t,e){return t.length>0?(Kt(t,t.length,0,e),t):e}const ed={}.hasOwnProperty;function EE(t){const e={};let n=-1;for(;++n<t.length;)NE(e,t[n]);return e}function NE(t,e){let n;for(n in e){const s=(ed.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let o;if(i)for(o in i){ed.call(s,o)||(s[o]=[]);const l=i[o];TE(s[o],Array.isArray(l)?l:l?[l]:[])}}}function TE(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Kt(t,0,0,r)}function dp(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function gr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qt=Cn(/[A-Za-z]/),It=Cn(/[\dA-Za-z]/),jE=Cn(/[#-'*+\--9=?A-Z^-~]/);function rl(t){return t!==null&&(t<32||t===127)}const sl=Cn(/\d/),SE=Cn(/[\dA-Fa-f]/),kE=Cn(/[!-/:-@[-`{-~]/);function te(t){return t!==null&&t<-2}function vt(t){return t!==null&&(t<0||t===32)}function ve(t){return t===-2||t===-1||t===32}const IE=Cn(new RegExp("\\p{P}|\\p{S}","u")),AE=Cn(/\s/);function Cn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Pr(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const i=t.charCodeAt(n);let o="";if(i===37&&It(t.charCodeAt(n+1))&&It(t.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=t.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),s=1):o="�"}else o=String.fromCharCode(i);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Ie(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(u){return ve(u)?(t.enter(n),l(u)):e(u)}function l(u){return ve(u)&&i++<s?(t.consume(u),l):(t.exit(n),e(u))}}const CE={tokenize:PE};function PE(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ie(t,e,"linePrefix")}function s(l){return t.enter("paragraph"),i(l)}function i(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return te(l)?(t.consume(l),t.exit("chunkText"),i):(t.consume(l),o)}}const RE={tokenize:DE},td={tokenize:LE};function DE(t){const e=this,n=[];let r=0,s,i,o;return l;function l(L){if(r<n.length){const U=n[r];return e.containerState=U[1],t.attempt(U[0].continuation,u,h)(L)}return h(L)}function u(L){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&R();const U=e.events.length;let W=U,D;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){D=e.events[W][1].end;break}A(r);let k=U;for(;k<e.events.length;)e.events[k][1].end={...D},k++;return Kt(e.events,W+1,0,e.events.slice(U)),e.events.length=k,h(L)}return l(L)}function h(L){if(r===n.length){if(!s)return g(L);if(s.currentConstruct&&s.currentConstruct.concrete)return v(L);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(td,d,f)(L)}function d(L){return s&&R(),A(r),g(L)}function f(L){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(L)}function g(L){return e.containerState={},t.attempt(td,p,v)(L)}function p(L){return r++,n.push([e.currentConstruct,e.containerState]),g(L)}function v(L){if(L===null){s&&R(),A(0),t.consume(L);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),E(L)}function E(L){if(L===null){C(t.exit("chunkFlow"),!0),A(0),t.consume(L);return}return te(L)?(t.consume(L),C(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(L),E)}function C(L,U){const W=e.sliceStream(L);if(U&&W.push(null),L.previous=i,i&&(i.next=L),i=L,s.defineSkip(L.start),s.write(W),e.parser.lazy[L.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<o&&(!s.events[D][1].end||s.events[D][1].end.offset>o))return;const k=e.events.length;let y=k,w,N;for(;y--;)if(e.events[y][0]==="exit"&&e.events[y][1].type==="chunkFlow"){if(w){N=e.events[y][1].end;break}w=!0}for(A(r),D=k;D<e.events.length;)e.events[D][1].end={...N},D++;Kt(e.events,y+1,0,e.events.slice(k)),e.events.length=D}}function A(L){let U=n.length;for(;U-- >L;){const W=n[U];e.containerState=W[1],W[0].exit.call(e,t)}n.length=L}function R(){s.write([null]),i=void 0,s=void 0,e.containerState._closeFlow=void 0}}function LE(t,e,n){return Ie(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nd(t){if(t===null||vt(t)||AE(t))return 1;if(IE(t))return 2}function oc(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const i=t[s].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}const il={name:"attention",resolveAll:OE,tokenize:VE};function OE(t,e){let n=-1,r,s,i,o,l,u,h,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},g={...t[n][1].start};rd(f,-u),rd(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},i={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Pt(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Pt(h,[["enter",s,e],["enter",o,e],["exit",o,e],["enter",i,e]]),h=Pt(h,oc(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Pt(h,[["exit",i,e],["enter",l,e],["exit",l,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,h=Pt(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Kt(t,r-1,n-r+3,h),n=r+h.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function VE(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=nd(r);let i;return o;function o(u){return i=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===i)return t.consume(u),l;const h=t.exit("attentionSequence"),d=nd(u),f=!d||d===2&&s||n.includes(u),g=!s||s===2&&d||n.includes(r);return h._open=!!(i===42?f:f&&(s||!g)),h._close=!!(i===42?g:g&&(d||!f)),e(u)}}function rd(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ME={name:"autolink",tokenize:FE};function FE(t,e,n){let r=0;return s;function s(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(p){return qt(p)?(t.consume(p),o):p===64?n(p):h(p)}function o(p){return p===43||p===45||p===46||It(p)?(r=1,l(p)):h(p)}function l(p){return p===58?(t.consume(p),r=0,u):(p===43||p===45||p===46||It(p))&&r++<32?(t.consume(p),l):(r=0,h(p))}function u(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||rl(p)?n(p):(t.consume(p),u)}function h(p){return p===64?(t.consume(p),d):jE(p)?(t.consume(p),h):n(p)}function d(p){return It(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):g(p)}function g(p){if((p===45||It(p))&&r++<63){const v=p===45?g:f;return t.consume(p),v}return n(p)}}const Na={partial:!0,tokenize:qE};function qE(t,e,n){return r;function r(i){return ve(i)?Ie(t,s,"linePrefix")(i):s(i)}function s(i){return i===null||te(i)?e(i):n(i)}}const mp={continuation:{tokenize:UE},exit:BE,name:"blockQuote",tokenize:zE};function zE(t,e,n){const r=this;return s;function s(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),i}return n(o)}function i(o){return ve(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function UE(t,e,n){const r=this;return s;function s(o){return ve(o)?Ie(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return t.attempt(mp,e,n)(o)}}function BE(t){t.exit("blockQuote")}const fp={name:"characterEscape",tokenize:$E};function $E(t,e,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),s}function s(i){return kE(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const pp={name:"characterReference",tokenize:HE};function HE(t,e,n){const r=this;let s=0,i,o;return l;function l(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),u}function u(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),i=31,o=It,d(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,o=SE,d):(t.enter("characterReferenceValue"),i=7,o=sl,d(f))}function d(f){if(f===59&&s){const g=t.exit("characterReferenceValue");return o===It&&!ac(r.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&s++<i?(t.consume(f),d):n(f)}}const sd={partial:!0,tokenize:KE},id={concrete:!0,name:"codeFenced",tokenize:QE};function QE(t,e,n){const r=this,s={partial:!0,tokenize:W};let i=0,o=0,l;return u;function u(D){return h(D)}function h(D){const k=r.events[r.events.length-1];return i=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(D)}function d(D){return D===l?(o++,t.consume(D),d):o<3?n(D):(t.exit("codeFencedFenceSequence"),ve(D)?Ie(t,f,"whitespace")(D):f(D))}function f(D){return D===null||te(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(sd,E,U)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(D))}function g(D){return D===null||te(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(D)):ve(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ie(t,p,"whitespace")(D)):D===96&&D===l?n(D):(t.consume(D),g)}function p(D){return D===null||te(D)?f(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||te(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(D)):D===96&&D===l?n(D):(t.consume(D),v)}function E(D){return t.attempt(s,U,C)(D)}function C(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),A}function A(D){return i>0&&ve(D)?Ie(t,R,"linePrefix",i+1)(D):R(D)}function R(D){return D===null||te(D)?t.check(sd,E,U)(D):(t.enter("codeFlowValue"),L(D))}function L(D){return D===null||te(D)?(t.exit("codeFlowValue"),R(D)):(t.consume(D),L)}function U(D){return t.exit("codeFenced"),e(D)}function W(D,k,y){let w=0;return N;function N(Y){return D.enter("lineEnding"),D.consume(Y),D.exit("lineEnding"),_}function _(Y){return D.enter("codeFencedFence"),ve(Y)?Ie(D,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):j(Y)}function j(Y){return Y===l?(D.enter("codeFencedFenceSequence"),T(Y)):y(Y)}function T(Y){return Y===l?(w++,D.consume(Y),T):w>=o?(D.exit("codeFencedFenceSequence"),ve(Y)?Ie(D,K,"whitespace")(Y):K(Y)):y(Y)}function K(Y){return Y===null||te(Y)?(D.exit("codeFencedFence"),k(Y)):y(Y)}}}function KE(t,e,n){const r=this;return s;function s(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const io={name:"codeIndented",tokenize:WE},GE={partial:!0,tokenize:JE};function WE(t,e,n){const r=this;return s;function s(h){return t.enter("codeIndented"),Ie(t,i,"linePrefix",5)(h)}function i(h){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?u(h):te(h)?t.attempt(GE,o,u)(h):(t.enter("codeFlowValue"),l(h))}function l(h){return h===null||te(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),l)}function u(h){return t.exit("codeIndented"),e(h)}}function JE(t,e,n){const r=this;return s;function s(o){return r.parser.lazy[r.now().line]?n(o):te(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):Ie(t,i,"linePrefix",5)(o)}function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):te(o)?s(o):n(o)}}const YE={name:"codeText",previous:ZE,resolve:XE,tokenize:eN};function XE(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function ZE(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function eN(t,e,n){let r=0,s,i;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),l(f)}function l(f){return f===96?(t.consume(f),r++,l):(t.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),u):f===96?(i=t.enter("codeTextSequence"),s=0,d(f)):te(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||te(f)?(t.exit("codeTextData"),u(f)):(t.consume(f),h)}function d(f){return f===96?(t.consume(f),s++,d):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(i.type="codeTextData",h(f))}}class tN{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Yr(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Yr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Yr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Yr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Yr(this.left,n.reverse())}}}function Yr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function gp(t){const e={};let n=-1,r,s,i,o,l,u,h;const d=new tN(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,nN(d,n)),n=e[n],h=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},l=d.slice(s,n),l.unshift(r),d.splice(s,n-s+1,l))}}return Kt(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!h}function nN(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],h={};let d,f,g=-1,p=n,v=0,E=0;const C=[E];for(;p;){for(;t.get(++s)[1]!==p;);i.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(E=g+1,C.push(E),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):C.pop(),g=C.length;g--;){const A=l.slice(C[g],C[g+1]),R=i.pop();u.push([R,R+A.length-1]),t.splice(R,2,A)}for(u.reverse(),g=-1;++g<u.length;)h[v+u[g][0]]=v+u[g][1],v+=u[g][1]-u[g][0]-1;return h}const rN={resolve:iN,tokenize:aN},sN={partial:!0,tokenize:oN};function iN(t){return gp(t),t}function aN(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?i(l):te(l)?t.check(sN,o,i)(l):(t.consume(l),s)}function i(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function oN(t,e,n){const r=this;return s;function s(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ie(t,i,"linePrefix")}function i(o){if(o===null||te(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function xp(t,e,n,r,s,i,o,l,u){const h=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(A){return A===60?(t.enter(r),t.enter(s),t.enter(i),t.consume(A),t.exit(i),g):A===null||A===32||A===41||rl(A)?n(A):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),E(A))}function g(A){return A===62?(t.enter(i),t.consume(A),t.exit(i),t.exit(s),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===62?(t.exit("chunkString"),t.exit(l),g(A)):A===null||A===60||te(A)?n(A):(t.consume(A),A===92?v:p)}function v(A){return A===60||A===62||A===92?(t.consume(A),p):p(A)}function E(A){return!d&&(A===null||A===41||vt(A))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(A)):d<h&&A===40?(t.consume(A),d++,E):A===41?(t.consume(A),d--,E):A===null||A===32||A===40||rl(A)?n(A):(t.consume(A),A===92?C:E)}function C(A){return A===40||A===41||A===92?(t.consume(A),E):E(A)}}function yp(t,e,n,r,s,i){const o=this;let l=0,u;return h;function h(p){return t.enter(r),t.enter(s),t.consume(p),t.exit(s),t.enter(i),d}function d(p){return l>999||p===null||p===91||p===93&&!u||p===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(i),t.enter(s),t.consume(p),t.exit(s),t.exit(r),e):te(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||te(p)||l++>999?(t.exit("chunkString"),d(p)):(t.consume(p),u||(u=!ve(p)),p===92?g:f)}function g(p){return p===91||p===92||p===93?(t.consume(p),l++,f):f(p)}}function bp(t,e,n,r,s,i){let o;return l;function l(g){return g===34||g===39||g===40?(t.enter(r),t.enter(s),t.consume(g),t.exit(s),o=g===40?41:g,u):n(g)}function u(g){return g===o?(t.enter(s),t.consume(g),t.exit(s),t.exit(r),e):(t.enter(i),h(g))}function h(g){return g===o?(t.exit(i),u(o)):g===null?n(g):te(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Ie(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||te(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?f:d)}function f(g){return g===o||g===92?(t.consume(g),d):d(g)}}function hs(t,e){let n;return r;function r(s){return te(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):ve(s)?Ie(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const lN={name:"definition",tokenize:uN},cN={partial:!0,tokenize:hN};function uN(t,e,n){const r=this;let s;return i;function i(p){return t.enter("definition"),o(p)}function o(p){return yp.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=gr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),u):n(p)}function u(p){return vt(p)?hs(t,h)(p):h(p)}function h(p){return xp(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(cN,f,f)(p)}function f(p){return ve(p)?Ie(t,g,"whitespace")(p):g(p)}function g(p){return p===null||te(p)?(t.exit("definition"),r.parser.defined.push(s),e(p)):n(p)}}function hN(t,e,n){return r;function r(l){return vt(l)?hs(t,s)(l):n(l)}function s(l){return bp(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return ve(l)?Ie(t,o,"whitespace")(l):o(l)}function o(l){return l===null||te(l)?e(l):n(l)}}const dN={name:"hardBreakEscape",tokenize:mN};function mN(t,e,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),s}function s(i){return te(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const fN={name:"headingAtx",resolve:pN,tokenize:gN};function pN(t,e){let n=t.length-2,r=3,s,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Kt(t,r,n-r+1,[["enter",s,e],["enter",i,e],["exit",i,e],["exit",s,e]])),t}function gN(t,e,n){let r=0;return s;function s(d){return t.enter("atxHeading"),i(d)}function i(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||vt(d)?(t.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(t.enter("atxHeadingSequence"),u(d)):d===null||te(d)?(t.exit("atxHeading"),e(d)):ve(d)?Ie(t,l,"whitespace")(d):(t.enter("atxHeadingText"),h(d))}function u(d){return d===35?(t.consume(d),u):(t.exit("atxHeadingSequence"),l(d))}function h(d){return d===null||d===35||vt(d)?(t.exit("atxHeadingText"),l(d)):(t.consume(d),h)}}const xN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ad=["pre","script","style","textarea"],yN={concrete:!0,name:"htmlFlow",resolveTo:vN,tokenize:_N},bN={partial:!0,tokenize:NN},wN={partial:!0,tokenize:EN};function vN(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function _N(t,e,n){const r=this;let s,i,o,l,u;return h;function h(S){return d(S)}function d(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),f}function f(S){return S===33?(t.consume(S),g):S===47?(t.consume(S),i=!0,E):S===63?(t.consume(S),s=3,r.interrupt?e:I):qt(S)?(t.consume(S),o=String.fromCharCode(S),C):n(S)}function g(S){return S===45?(t.consume(S),s=2,p):S===91?(t.consume(S),s=5,l=0,v):qt(S)?(t.consume(S),s=4,r.interrupt?e:I):n(S)}function p(S){return S===45?(t.consume(S),r.interrupt?e:I):n(S)}function v(S){const ze="CDATA[";return S===ze.charCodeAt(l++)?(t.consume(S),l===ze.length?r.interrupt?e:j:v):n(S)}function E(S){return qt(S)?(t.consume(S),o=String.fromCharCode(S),C):n(S)}function C(S){if(S===null||S===47||S===62||vt(S)){const ze=S===47,Ye=o.toLowerCase();return!ze&&!i&&ad.includes(Ye)?(s=1,r.interrupt?e(S):j(S)):xN.includes(o.toLowerCase())?(s=6,ze?(t.consume(S),A):r.interrupt?e(S):j(S)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):i?R(S):L(S))}return S===45||It(S)?(t.consume(S),o+=String.fromCharCode(S),C):n(S)}function A(S){return S===62?(t.consume(S),r.interrupt?e:j):n(S)}function R(S){return ve(S)?(t.consume(S),R):N(S)}function L(S){return S===47?(t.consume(S),N):S===58||S===95||qt(S)?(t.consume(S),U):ve(S)?(t.consume(S),L):N(S)}function U(S){return S===45||S===46||S===58||S===95||It(S)?(t.consume(S),U):W(S)}function W(S){return S===61?(t.consume(S),D):ve(S)?(t.consume(S),W):L(S)}function D(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),u=S,k):ve(S)?(t.consume(S),D):y(S)}function k(S){return S===u?(t.consume(S),u=null,w):S===null||te(S)?n(S):(t.consume(S),k)}function y(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||vt(S)?W(S):(t.consume(S),y)}function w(S){return S===47||S===62||ve(S)?L(S):n(S)}function N(S){return S===62?(t.consume(S),_):n(S)}function _(S){return S===null||te(S)?j(S):ve(S)?(t.consume(S),_):n(S)}function j(S){return S===45&&s===2?(t.consume(S),fe):S===60&&s===1?(t.consume(S),le):S===62&&s===4?(t.consume(S),_e):S===63&&s===3?(t.consume(S),I):S===93&&s===5?(t.consume(S),Oe):te(S)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(bN,we,T)(S)):S===null||te(S)?(t.exit("htmlFlowData"),T(S)):(t.consume(S),j)}function T(S){return t.check(wN,K,we)(S)}function K(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),Y}function Y(S){return S===null||te(S)?T(S):(t.enter("htmlFlowData"),j(S))}function fe(S){return S===45?(t.consume(S),I):j(S)}function le(S){return S===47?(t.consume(S),o="",je):j(S)}function je(S){if(S===62){const ze=o.toLowerCase();return ad.includes(ze)?(t.consume(S),_e):j(S)}return qt(S)&&o.length<8?(t.consume(S),o+=String.fromCharCode(S),je):j(S)}function Oe(S){return S===93?(t.consume(S),I):j(S)}function I(S){return S===62?(t.consume(S),_e):S===45&&s===2?(t.consume(S),I):j(S)}function _e(S){return S===null||te(S)?(t.exit("htmlFlowData"),we(S)):(t.consume(S),_e)}function we(S){return t.exit("htmlFlow"),e(S)}}function EN(t,e,n){const r=this;return s;function s(o){return te(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function NN(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Na,e,n)}}const TN={name:"htmlText",tokenize:jN};function jN(t,e,n){const r=this;let s,i,o;return l;function l(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),u}function u(I){return I===33?(t.consume(I),h):I===47?(t.consume(I),W):I===63?(t.consume(I),L):qt(I)?(t.consume(I),y):n(I)}function h(I){return I===45?(t.consume(I),d):I===91?(t.consume(I),i=0,v):qt(I)?(t.consume(I),R):n(I)}function d(I){return I===45?(t.consume(I),p):n(I)}function f(I){return I===null?n(I):I===45?(t.consume(I),g):te(I)?(o=f,le(I)):(t.consume(I),f)}function g(I){return I===45?(t.consume(I),p):f(I)}function p(I){return I===62?fe(I):I===45?g(I):f(I)}function v(I){const _e="CDATA[";return I===_e.charCodeAt(i++)?(t.consume(I),i===_e.length?E:v):n(I)}function E(I){return I===null?n(I):I===93?(t.consume(I),C):te(I)?(o=E,le(I)):(t.consume(I),E)}function C(I){return I===93?(t.consume(I),A):E(I)}function A(I){return I===62?fe(I):I===93?(t.consume(I),A):E(I)}function R(I){return I===null||I===62?fe(I):te(I)?(o=R,le(I)):(t.consume(I),R)}function L(I){return I===null?n(I):I===63?(t.consume(I),U):te(I)?(o=L,le(I)):(t.consume(I),L)}function U(I){return I===62?fe(I):L(I)}function W(I){return qt(I)?(t.consume(I),D):n(I)}function D(I){return I===45||It(I)?(t.consume(I),D):k(I)}function k(I){return te(I)?(o=k,le(I)):ve(I)?(t.consume(I),k):fe(I)}function y(I){return I===45||It(I)?(t.consume(I),y):I===47||I===62||vt(I)?w(I):n(I)}function w(I){return I===47?(t.consume(I),fe):I===58||I===95||qt(I)?(t.consume(I),N):te(I)?(o=w,le(I)):ve(I)?(t.consume(I),w):fe(I)}function N(I){return I===45||I===46||I===58||I===95||It(I)?(t.consume(I),N):_(I)}function _(I){return I===61?(t.consume(I),j):te(I)?(o=_,le(I)):ve(I)?(t.consume(I),_):w(I)}function j(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),s=I,T):te(I)?(o=j,le(I)):ve(I)?(t.consume(I),j):(t.consume(I),K)}function T(I){return I===s?(t.consume(I),s=void 0,Y):I===null?n(I):te(I)?(o=T,le(I)):(t.consume(I),T)}function K(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||vt(I)?w(I):(t.consume(I),K)}function Y(I){return I===47||I===62||vt(I)?w(I):n(I)}function fe(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),e):n(I)}function le(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),je}function je(I){return ve(I)?Ie(t,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):Oe(I)}function Oe(I){return t.enter("htmlTextData"),o(I)}}const lc={name:"labelEnd",resolveAll:AN,resolveTo:CN,tokenize:PN},SN={tokenize:RN},kN={tokenize:DN},IN={tokenize:LN};function AN(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Kt(t,0,t.length,n),t}function CN(t,e){let n=t.length,r=0,s,i,o,l;for(;n--;)if(s=t[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(o=n);const u={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[i][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",u,e],["enter",h,e]],l=Pt(l,t.slice(i+1,i+r+3)),l=Pt(l,[["enter",d,e]]),l=Pt(l,oc(e.parser.constructs.insideSpan.null,t.slice(i+r+4,o-3),e)),l=Pt(l,[["exit",d,e],t[o-2],t[o-1],["exit",h,e]]),l=Pt(l,t.slice(o+1)),l=Pt(l,[["exit",u,e]]),Kt(t,i,t.length,l),t}function PN(t,e,n){const r=this;let s=r.events.length,i,o;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return l;function l(g){return i?i._inactive?f(g):(o=r.parser.defined.includes(gr(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(SN,d,o?d:f)(g):g===91?t.attempt(kN,d,o?h:f)(g):o?d(g):f(g)}function h(g){return t.attempt(IN,d,f)(g)}function d(g){return e(g)}function f(g){return i._balanced=!0,n(g)}}function RN(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),s}function s(f){return vt(f)?hs(t,i)(f):i(f)}function i(f){return f===41?d(f):xp(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return vt(f)?hs(t,u)(f):d(f)}function l(f){return n(f)}function u(f){return f===34||f===39||f===40?bp(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function h(f){return vt(f)?hs(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function DN(t,e,n){const r=this;return s;function s(l){return yp.call(r,t,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(gr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function LN(t,e,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),s}function s(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const ON={name:"labelStartImage",resolveAll:lc.resolveAll,tokenize:VN};function VN(t,e,n){const r=this;return s;function s(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),i}function i(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const MN={name:"labelStartLink",resolveAll:lc.resolveAll,tokenize:FN};function FN(t,e,n){const r=this;return s;function s(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const ao={name:"lineEnding",tokenize:qN};function qN(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ie(t,e,"linePrefix")}}const wi={name:"thematicBreak",tokenize:zN};function zN(t,e,n){let r=0,s;return i;function i(h){return t.enter("thematicBreak"),o(h)}function o(h){return s=h,l(h)}function l(h){return h===s?(t.enter("thematicBreakSequence"),u(h)):r>=3&&(h===null||te(h))?(t.exit("thematicBreak"),e(h)):n(h)}function u(h){return h===s?(t.consume(h),r++,u):(t.exit("thematicBreakSequence"),ve(h)?Ie(t,l,"whitespace")(h):l(h))}}const xt={continuation:{tokenize:HN},exit:KN,name:"list",tokenize:$N},UN={partial:!0,tokenize:GN},BN={partial:!0,tokenize:QN};function $N(t,e,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return l;function l(p){const v=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:sl(p)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(wi,n,h)(p):h(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(p)}return n(p)}function u(p){return sl(p)&&++o<10?(t.consume(p),u):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),h(p)):n(p)}function h(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Na,r.interrupt?n:d,t.attempt(UN,g,f))}function d(p){return r.containerState.initialBlankLine=!0,i++,g(p)}function f(p){return ve(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),g):n(p)}function g(p){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function HN(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Na,s,i);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ie(t,e,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!ve(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(BN,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ie(t,t.attempt(xt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function QN(t,e,n){const r=this;return Ie(t,s,"listItemIndent",r.containerState.size+1);function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(i):n(i)}}function KN(t){t.exit(this.containerState.type)}function GN(t,e,n){const r=this;return Ie(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const o=r.events[r.events.length-1];return!ve(i)&&o&&o[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const od={name:"setextUnderline",resolveTo:WN,tokenize:JN};function WN(t,e){let n=t.length,r,s,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",i?(t.splice(s,0,["enter",o,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function JN(t,e,n){const r=this;let s;return i;function i(h){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),s=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),l(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),ve(h)?Ie(t,u,"lineSuffix")(h):u(h))}function u(h){return h===null||te(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const YN={tokenize:XN};function XN(t){const e=this,n=t.attempt(Na,r,t.attempt(this.parser.constructs.flowInitial,s,Ie(t,t.attempt(this.parser.constructs.flow,s,t.attempt(rN,s)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ZN={resolveAll:vp()},eT=wp("string"),tT=wp("text");function wp(t){return{resolveAll:vp(t==="text"?nT:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],i=n.attempt(s,o,l);return o;function o(d){return h(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return h(d)?(n.exit("data"),i(d)):(n.consume(d),u)}function h(d){if(d===null)return!0;const f=s[d];let g=-1;if(f)for(;++g<f.length;){const p=f[g];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function vp(t){return e;function e(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return t?t(n,r):n}}function nT(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let i=s.length,o=-1,l=0,u;for(;i--;){const h=s[i];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(h===-2)u=!0,l++;else if(h!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const h={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const rT={42:xt,43:xt,45:xt,48:xt,49:xt,50:xt,51:xt,52:xt,53:xt,54:xt,55:xt,56:xt,57:xt,62:mp},sT={91:lN},iT={[-2]:io,[-1]:io,32:io},aT={35:fN,42:wi,45:[od,wi],60:yN,61:od,95:wi,96:id,126:id},oT={38:pp,92:fp},lT={[-5]:ao,[-4]:ao,[-3]:ao,33:ON,38:pp,42:il,60:[ME,TN],91:MN,92:[dN,fp],93:lc,95:il,96:YE},cT={null:[il,ZN]},uT={null:[42,95]},hT={null:[]},dT=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uT,contentInitial:sT,disable:hT,document:rT,flow:aT,flowInitial:iT,insideSpan:cT,string:oT,text:lT},Symbol.toStringTag,{value:"Module"}));function mT(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let o=[],l=[];const u={attempt:k(W),check:k(D),consume:R,enter:L,exit:U,interrupt:k(D,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:v,parser:t,previous:null,sliceSerialize:g,sliceStream:p,write:f};let d=e.tokenize.call(h,u);return e.resolveAll&&i.push(e),h;function f(_){return o=Pt(o,_),C(),o[o.length-1]!==null?[]:(y(e,0),h.events=oc(i,h.events,h),h.events)}function g(_,j){return pT(p(_),j)}function p(_){return fT(o,_)}function v(){const{_bufferIndex:_,_index:j,line:T,column:K,offset:Y}=r;return{_bufferIndex:_,_index:j,line:T,column:K,offset:Y}}function E(_){s[_.line]=_.column,N()}function C(){let _;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<j.length;)A(j.charCodeAt(r._bufferIndex));else A(j)}}function A(_){d=d(_)}function R(_){te(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,N()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=_}function L(_,j){const T=j||{};return T.type=_,T.start=v(),h.events.push(["enter",T,h]),l.push(T),T}function U(_){const j=l.pop();return j.end=v(),h.events.push(["exit",j,h]),j}function W(_,j){y(_,j.from)}function D(_,j){j.restore()}function k(_,j){return T;function T(K,Y,fe){let le,je,Oe,I;return Array.isArray(K)?we(K):"tokenize"in K?we([K]):_e(K);function _e(Fe){return $;function $(ce){const me=ce!==null&&Fe[ce],xe=ce!==null&&Fe.null,ye=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return we(ye)(ce)}}function we(Fe){return le=Fe,je=0,Fe.length===0?fe:S(Fe[je])}function S(Fe){return $;function $(ce){return I=w(),Oe=Fe,Fe.partial||(h.currentConstruct=Fe),Fe.name&&h.parser.constructs.disable.null.includes(Fe.name)?Ye():Fe.tokenize.call(j?Object.assign(Object.create(h),j):h,u,ze,Ye)(ce)}}function ze(Fe){return _(Oe,I),Y}function Ye(Fe){return I.restore(),++je<le.length?S(le[je]):fe}}}function y(_,j){_.resolveAll&&!i.includes(_)&&i.push(_),_.resolve&&Kt(h.events,j,h.events.length-j,_.resolve(h.events.slice(j),h)),_.resolveTo&&(h.events=_.resolveTo(h.events,h))}function w(){const _=v(),j=h.previous,T=h.currentConstruct,K=h.events.length,Y=Array.from(l);return{from:K,restore:fe};function fe(){r=_,h.previous=j,h.currentConstruct=T,h.events.length=K,l=Y,N()}}function N(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function fT(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,i=e.end._bufferIndex;let o;if(n===s)o=[t[n].slice(r,i)];else{if(o=t.slice(n,s),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}i>0&&o.push(t[s].slice(0,i))}return o}function pT(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const i=t[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&s)continue;o=" ";break}default:o=String.fromCharCode(i)}s=i===-2,r.push(o)}return r.join("")}function gT(t){const r={constructs:EE([dT,...(t||{}).extensions||[]]),content:s(CE),defined:[],document:s(RE),flow:s(YN),lazy:{},string:s(eT),text:s(tT)};return r;function s(i){return o;function o(l){return mT(r,i,l)}}}function xT(t){for(;!gp(t););return t}const ld=/[\0\t\n\r]/g;function yT(){let t=1,e="",n=!0,r;return s;function s(i,o,l){const u=[];let h,d,f,g,p;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,e="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(ld.lastIndex=f,h=ld.exec(i),g=h&&h.index!==void 0?h.index:i.length,p=i.charCodeAt(g),!h){e=i.slice(f);break}if(p===10&&f===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<g&&(u.push(i.slice(f,g)),t+=g-f),p){case 0:{u.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,u.push(-2);t++<d;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}f=g+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const bT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wT(t){return t.replace(bT,vT)}function vT(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return dp(n.slice(i?2:1),i?16:10)}return ac(n)||t}const _p={}.hasOwnProperty;function _T(t,e,n){return typeof e!="string"&&(n=e,e=void 0),ET(n)(xT(gT(n).document().write(yT()(t,e,!0))))}function ET(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Rr),autolinkProtocol:w,autolinkEmail:w,atxHeading:i(Ue),blockQuote:i(xe),characterEscape:w,characterReference:w,codeFenced:i(ye),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(ye,o),codeText:i(Ee,o),codeTextData:w,data:w,codeFlowValue:w,definition:i(gt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ht),hardBreakEscape:i(Vt),hardBreakTrailing:i(Vt),htmlFlow:i(Pn,o),htmlFlowData:w,htmlText:i(Pn,o),htmlTextData:w,image:i(Rn),label:o,link:i(Rr),listItem:i(Ms),listItemValue:g,listOrdered:i(Wn,f),listUnordered:i(Wn),paragraph:i(Sa),reference:S,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Ue),strong:i(Dr),thematicBreak:i(Fs)},exit:{atxHeading:u(),atxHeadingSequence:W,autolink:u(),autolinkEmail:me,autolinkProtocol:ce,blockQuote:u(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:Ye,characterReferenceMarkerNumeric:Ye,characterReferenceValue:Fe,characterReference:$,codeFenced:u(C),codeFencedFence:E,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:N,codeIndented:u(A),codeText:u(Y),codeTextData:N,data:N,definition:u(),definitionDestinationString:U,definitionLabelString:R,definitionTitleString:L,emphasis:u(),hardBreakEscape:u(j),hardBreakTrailing:u(j),htmlFlow:u(T),htmlFlowData:N,htmlText:u(K),htmlTextData:N,image:u(le),label:Oe,labelText:je,lineEnding:_,link:u(fe),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ze,resourceDestinationString:I,resourceTitleString:_e,resource:we,setextHeading:u(y),setextHeadingLineSequence:k,setextHeadingText:D,strong:u(),thematicBreak:u()}};Ep(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(V){let z={type:"root",children:[]};const ee={stack:[z],tokenStack:[],config:e,enter:l,exit:h,buffer:o,resume:d,data:n},he=[];let Ne=-1;for(;++Ne<V.length;)if(V[Ne][1].type==="listOrdered"||V[Ne][1].type==="listUnordered")if(V[Ne][0]==="enter")he.push(Ne);else{const Et=he.pop();Ne=s(V,Et,Ne)}for(Ne=-1;++Ne<V.length;){const Et=e[V[Ne][0]];_p.call(Et,V[Ne][1].type)&&Et[V[Ne][1].type].call(Object.assign({sliceSerialize:V[Ne][2].sliceSerialize},ee),V[Ne][1])}if(ee.tokenStack.length>0){const Et=ee.tokenStack[ee.tokenStack.length-1];(Et[1]||cd).call(ee,void 0,Et[0])}for(z.position={start:dn(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:dn(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<e.transforms.length;)z=e.transforms[Ne](z)||z;return z}function s(V,z,ee){let he=z-1,Ne=-1,Et=!1,Nt,At,on,Gt;for(;++he<=ee;){const dt=V[he];switch(dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dt[0]==="enter"?Ne++:Ne--,Gt=void 0;break}case"lineEndingBlank":{dt[0]==="enter"&&(Nt&&!Gt&&!Ne&&!on&&(on=he),Gt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Gt=void 0}if(!Ne&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||Ne===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(Nt){let ln=he;for(At=void 0;ln--;){const Tt=V[ln];if(Tt[1].type==="lineEnding"||Tt[1].type==="lineEndingBlank"){if(Tt[0]==="exit")continue;At&&(V[At][1].type="lineEndingBlank",Et=!0),Tt[1].type="lineEnding",At=ln}else if(!(Tt[1].type==="linePrefix"||Tt[1].type==="blockQuotePrefix"||Tt[1].type==="blockQuotePrefixWhitespace"||Tt[1].type==="blockQuoteMarker"||Tt[1].type==="listItemIndent"))break}on&&(!At||on<At)&&(Nt._spread=!0),Nt.end=Object.assign({},At?V[At][1].start:dt[1].end),V.splice(At||he,0,["exit",Nt,dt[2]]),he++,ee++}if(dt[1].type==="listItemPrefix"){const ln={type:"listItem",_spread:!1,start:Object.assign({},dt[1].start),end:void 0};Nt=ln,V.splice(he,0,["enter",ln,dt[2]]),he++,ee++,on=void 0,Gt=!0}}}return V[z][1]._spread=Et,ee}function i(V,z){return ee;function ee(he){l.call(this,V(he),he),z&&z.call(this,he)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(V,z,ee){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([z,ee||void 0]),V.position={start:dn(z.start),end:void 0}}function u(V){return z;function z(ee){V&&V.call(this,ee),h.call(this,ee)}}function h(V,z){const ee=this.stack.pop(),he=this.tokenStack.pop();if(he)he[0].type!==V.type&&(z?z.call(this,V,he[0]):(he[1]||cd).call(this,V,he[0]));else throw new Error("Cannot close `"+V.type+"` ("+us({start:V.start,end:V.end})+"): it’s not open");ee.position.end=dn(V.end)}function d(){return vE(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(V){if(this.data.expectingFirstListItemValue){const z=this.stack[this.stack.length-2];z.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function p(){const V=this.resume(),z=this.stack[this.stack.length-1];z.lang=V}function v(){const V=this.resume(),z=this.stack[this.stack.length-1];z.meta=V}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const V=this.resume(),z=this.stack[this.stack.length-1];z.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const V=this.resume(),z=this.stack[this.stack.length-1];z.value=V.replace(/(\r?\n|\r)$/g,"")}function R(V){const z=this.resume(),ee=this.stack[this.stack.length-1];ee.label=z,ee.identifier=gr(this.sliceSerialize(V)).toLowerCase()}function L(){const V=this.resume(),z=this.stack[this.stack.length-1];z.title=V}function U(){const V=this.resume(),z=this.stack[this.stack.length-1];z.url=V}function W(V){const z=this.stack[this.stack.length-1];if(!z.depth){const ee=this.sliceSerialize(V).length;z.depth=ee}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function k(V){const z=this.stack[this.stack.length-1];z.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function y(){this.data.setextHeadingSlurpLineEnding=void 0}function w(V){const ee=this.stack[this.stack.length-1].children;let he=ee[ee.length-1];(!he||he.type!=="text")&&(he=Lr(),he.position={start:dn(V.start),end:void 0},ee.push(he)),this.stack.push(he)}function N(V){const z=this.stack.pop();z.value+=this.sliceSerialize(V),z.position.end=dn(V.end)}function _(V){const z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ee=z.children[z.children.length-1];ee.position.end=dn(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(z.type)&&(w.call(this,V),N.call(this,V))}function j(){this.data.atHardBreak=!0}function T(){const V=this.resume(),z=this.stack[this.stack.length-1];z.value=V}function K(){const V=this.resume(),z=this.stack[this.stack.length-1];z.value=V}function Y(){const V=this.resume(),z=this.stack[this.stack.length-1];z.value=V}function fe(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const z=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=z,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function le(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const z=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=z,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function je(V){const z=this.sliceSerialize(V),ee=this.stack[this.stack.length-2];ee.label=wT(z),ee.identifier=gr(z).toLowerCase()}function Oe(){const V=this.stack[this.stack.length-1],z=this.resume(),ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,ee.type==="link"){const he=V.children;ee.children=he}else ee.alt=z}function I(){const V=this.resume(),z=this.stack[this.stack.length-1];z.url=V}function _e(){const V=this.resume(),z=this.stack[this.stack.length-1];z.title=V}function we(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function ze(V){const z=this.resume(),ee=this.stack[this.stack.length-1];ee.label=z,ee.identifier=gr(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function Ye(V){this.data.characterReferenceType=V.type}function Fe(V){const z=this.sliceSerialize(V),ee=this.data.characterReferenceType;let he;ee?(he=dp(z,ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=ac(z);const Ne=this.stack[this.stack.length-1];Ne.value+=he}function $(V){const z=this.stack.pop();z.position.end=dn(V.end)}function ce(V){N.call(this,V);const z=this.stack[this.stack.length-1];z.url=this.sliceSerialize(V)}function me(V){N.call(this,V);const z=this.stack[this.stack.length-1];z.url="mailto:"+this.sliceSerialize(V)}function xe(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function gt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ht(){return{type:"emphasis",children:[]}}function Ue(){return{type:"heading",depth:0,children:[]}}function Vt(){return{type:"break"}}function Pn(){return{type:"html",value:""}}function Rn(){return{type:"image",title:null,url:"",alt:null}}function Rr(){return{type:"link",title:null,url:"",children:[]}}function Wn(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function Ms(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function Sa(){return{type:"paragraph",children:[]}}function Dr(){return{type:"strong",children:[]}}function Lr(){return{type:"text",value:""}}function Fs(){return{type:"thematicBreak"}}}function dn(t){return{line:t.line,column:t.column,offset:t.offset}}function Ep(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Ep(t,r):NT(t,r)}}function NT(t,e){let n;for(n in e)if(_p.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function cd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+us({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+us({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+us({start:e.start,end:e.end})+") is still open")}function TT(t){const e=this;e.parser=n;function n(r){return _T(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function jT(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ST(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function kT(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function IT(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AT(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function CT(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Pr(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=i+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,h),t.applyData(e,h)}function PT(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function RT(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Np(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=r:s.push({type:"text",value:r}),s}function DT(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Np(t,e);const s={src:Pr(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,i),t.applyData(e,i)}function LT(t,e){const n={src:Pr(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function OT(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function VT(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Np(t,e);const s={href:Pr(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function MT(t,e){const n={href:Pr(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function FT(t,e,n){const r=t.all(e),s=n?qT(n):Tp(e),i={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(s||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(s||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:i,children:o};return t.patch(e,h),t.applyData(e,h)}function qT(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Tp(n[r])}return e}function Tp(t){const e=t.spread;return e??t.children.length>1}function zT(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const o=r[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function UT(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BT(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function $T(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HT(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),s.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=nc(e.children[1]),u=ip(e.children[e.children.length-1]);l&&u&&(o.position={start:l,end:u}),s.push(o)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,i),t.applyData(e,i)}function QT(t,e,n){const r=n?n.children:void 0,i=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let u=-1;const h=[];for(;++u<l;){const f=e.children[u],g={},p=o?o[u]:void 0;p&&(g.align=p);let v={type:"element",tagName:i,properties:g,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(f,v)),h.push(v)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,d),t.applyData(e,d)}function KT(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ud=9,hd=32;function GT(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const i=[];for(;r;)i.push(dd(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return i.push(dd(e.slice(s),s>0,!1)),i.join("")}function dd(t,e,n){let r=0,s=t.length;if(e){let i=t.codePointAt(r);for(;i===ud||i===hd;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(s-1);for(;i===ud||i===hd;)s--,i=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function WT(t,e){const n={type:"text",value:GT(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function JT(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const YT={blockquote:jT,break:ST,code:kT,delete:IT,emphasis:AT,footnoteReference:CT,heading:PT,html:RT,imageReference:DT,image:LT,inlineCode:OT,linkReference:VT,link:MT,listItem:FT,list:zT,paragraph:UT,root:BT,strong:$T,table:HT,tableCell:KT,tableRow:QT,text:WT,thematicBreak:JT,toml:li,yaml:li,definition:li,footnoteDefinition:li};function li(){}const jp=-1,Ta=0,ds=1,Ji=2,cc=3,uc=4,hc=5,dc=6,Sp=7,kp=8,md=typeof self=="object"?self:globalThis,XT=(t,e)=>{const n=(s,i)=>(t.set(i,s),s),r=s=>{if(t.has(s))return t.get(s);const[i,o]=e[s];switch(i){case Ta:case jp:return n(o,s);case ds:{const l=n([],s);for(const u of o)l.push(r(u));return l}case Ji:{const l=n({},s);for(const[u,h]of o)l[r(u)]=r(h);return l}case cc:return n(new Date(o),s);case uc:{const{source:l,flags:u}=o;return n(new RegExp(l,u),s)}case hc:{const l=n(new Map,s);for(const[u,h]of o)l.set(r(u),r(h));return l}case dc:{const l=n(new Set,s);for(const u of o)l.add(r(u));return l}case Sp:{const{name:l,message:u}=o;return n(new md[l](u),s)}case kp:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new md[i](o),s)};return r},fd=t=>XT(new Map,t)(0),ir="",{toString:ZT}={},{keys:ej}=Object,Xr=t=>{const e=typeof t;if(e!=="object"||!t)return[Ta,e];const n=ZT.call(t).slice(8,-1);switch(n){case"Array":return[ds,ir];case"Object":return[Ji,ir];case"Date":return[cc,ir];case"RegExp":return[uc,ir];case"Map":return[hc,ir];case"Set":return[dc,ir];case"DataView":return[ds,n]}return n.includes("Array")?[ds,n]:n.includes("Error")?[Sp,n]:[Ji,n]},ci=([t,e])=>t===Ta&&(e==="function"||e==="symbol"),tj=(t,e,n,r)=>{const s=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},i=o=>{if(n.has(o))return n.get(o);let[l,u]=Xr(o);switch(l){case Ta:{let d=o;switch(u){case"bigint":l=kp,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return s([jp],o)}return s([l,d],o)}case ds:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),s([u,[...g]],o)}const d=[],f=s([l,d],o);for(const g of o)d.push(i(g));return f}case Ji:{if(u)switch(u){case"BigInt":return s([u,o.toString()],o);case"Boolean":case"Number":case"String":return s([u,o.valueOf()],o)}if(e&&"toJSON"in o)return i(o.toJSON());const d=[],f=s([l,d],o);for(const g of ej(o))(t||!ci(Xr(o[g])))&&d.push([i(g),i(o[g])]);return f}case cc:return s([l,o.toISOString()],o);case uc:{const{source:d,flags:f}=o;return s([l,{source:d,flags:f}],o)}case hc:{const d=[],f=s([l,d],o);for(const[g,p]of o)(t||!(ci(Xr(g))||ci(Xr(p))))&&d.push([i(g),i(p)]);return f}case dc:{const d=[],f=s([l,d],o);for(const g of o)(t||!ci(Xr(g)))&&d.push(i(g));return f}}const{message:h}=o;return s([l,{name:u,message:h}],o)};return i},pd=(t,{json:e,lossy:n}={})=>{const r=[];return tj(!(e||n),!!e,new Map,r)(t),r},Yi=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?fd(pd(t,e)):structuredClone(t):(t,e)=>fd(pd(t,e));function nj(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function rj(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function sj(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||nj,r=t.options.footnoteBackLabel||rj,s=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[u]);if(!h)continue;const d=t.all(h),f=String(h.identifier).toUpperCase(),g=Pr(f.toLowerCase());let p=0;const v=[],E=t.footnoteCounts.get(f);for(;E!==void 0&&++p<=E;){v.length>0&&v.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,p);typeof R=="string"&&(R={type:"text",value:R}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const C=d[d.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const R=C.children[C.children.length-1];R&&R.type==="text"?R.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...v)}else d.push(...v);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(d,!0)};t.patch(h,A),l.push(A)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Yi(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const Ip=function(t){if(t==null)return lj;if(typeof t=="function")return ja(t);if(typeof t=="object")return Array.isArray(t)?ij(t):aj(t);if(typeof t=="string")return oj(t);throw new Error("Expected function, string, or object as test")};function ij(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ip(t[n]);return ja(r);function r(...s){let i=-1;for(;++i<e.length;)if(e[i].apply(this,s))return!0;return!1}}function aj(t){const e=t;return ja(n);function n(r){const s=r;let i;for(i in t)if(s[i]!==e[i])return!1;return!0}}function oj(t){return ja(e);function e(n){return n&&n.type===t}}function ja(t){return e;function e(n,r,s){return!!(cj(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function lj(){return!0}function cj(t){return t!==null&&typeof t=="object"&&"type"in t}const Ap=[],uj=!0,gd=!1,hj="skip";function dj(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const i=Ip(s),o=r?-1:1;l(t,void 0,[])();function l(u,h,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return g;function g(){let p=Ap,v,E,C;if((!e||i(u,h,d[d.length-1]||void 0))&&(p=mj(n(u,d)),p[0]===gd))return p;if("children"in u&&u.children){const A=u;if(A.children&&p[0]!==hj)for(E=(r?A.children.length:-1)+o,C=d.concat(A);E>-1&&E<A.children.length;){const R=A.children[E];if(v=l(R,E,C)(),v[0]===gd)return v;E=typeof v[1]=="number"?v[1]:E+o}}return p}}}function mj(t){return Array.isArray(t)?t:typeof t=="number"?[uj,t]:t==null?Ap:[t]}function Cp(t,e,n,r){let s,i,o;typeof e=="function"&&typeof n!="function"?(i=void 0,o=e,s=n):(i=e,o=n,s=r),dj(t,i,l,s);function l(u,h){const d=h[h.length-1],f=d?d.children.indexOf(u):void 0;return o(u,f,d)}}const al={}.hasOwnProperty,fj={};function pj(t,e){const n=e||fj,r=new Map,s=new Map,i=new Map,o={...YT,...n.handlers},l={all:h,applyData:xj,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:o,one:u,options:n,patch:gj,wrap:bj};return Cp(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:s,g=String(d.identifier).toUpperCase();f.has(g)||f.set(g,d)}}),l;function u(d,f){const g=d.type,p=l.handlers[g];if(al.call(l.handlers,g)&&p)return p(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in d){const{children:E,...C}=d,A=Yi(C);return A.children=l.all(d),A}return Yi(d)}return(l.options.unknownHandler||yj)(l,d,f)}function h(d){const f=[];if("children"in d){const g=d.children;let p=-1;for(;++p<g.length;){const v=l.one(g[p],d);if(v){if(p&&g[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=xd(v.value)),!Array.isArray(v)&&v.type==="element")){const E=v.children[0];E&&E.type==="text"&&(E.value=xd(E.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function gj(t,e){t.position&&(e.position=Z_(t))}function xj(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Yi(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function yj(t,e){const n=e.data||{},r="value"in e&&!(al.call(n,"hProperties")||al.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function bj(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function xd(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function yd(t,e){const n=pj(t,e),r=n.one(t,void 0),s=sj(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function wj(t,e){return t&&"run"in t?async function(n,r){const s=yd(n,{file:r,...e});await t.run(s,r)}:function(n,r){return yd(n,{file:r,...t||e})}}function bd(t){if(t)throw t}var vi=Object.prototype.hasOwnProperty,Pp=Object.prototype.toString,wd=Object.defineProperty,vd=Object.getOwnPropertyDescriptor,_d=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Pp.call(e)==="[object Array]"},Ed=function(e){if(!e||Pp.call(e)!=="[object Object]")return!1;var n=vi.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&vi.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var s;for(s in e);return typeof s>"u"||vi.call(e,s)},Nd=function(e,n){wd&&n.name==="__proto__"?wd(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Td=function(e,n){if(n==="__proto__")if(vi.call(e,n)){if(vd)return vd(e,n).value}else return;return e[n]},vj=function t(){var e,n,r,s,i,o,l=arguments[0],u=1,h=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<h;++u)if(e=arguments[u],e!=null)for(n in e)r=Td(l,n),s=Td(e,n),l!==s&&(d&&s&&(Ed(s)||(i=_d(s)))?(i?(i=!1,o=r&&_d(r)?r:[]):o=r&&Ed(r)?r:{},Nd(l,{name:n,newValue:t(d,o,s)})):typeof s<"u"&&Nd(l,{name:n,newValue:s}));return l};const oo=Ts(vj);function ol(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function _j(){const t=[],e={run:n,use:r};return e;function n(...s){let i=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...s);function l(u,...h){const d=t[++i];let f=-1;if(u){o(u);return}for(;++f<s.length;)(h[f]===null||h[f]===void 0)&&(h[f]=s[f]);s=h,d?Ej(d,l)(...h):o(null,...h)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Ej(t,e){let n;return r;function r(...o){const l=t.length>o.length;let u;l&&o.push(s);try{u=t.apply(this,o)}catch(h){const d=h;if(l&&n)throw d;return s(d)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,s):u instanceof Error?s(u):i(u))}function s(o,...l){n||(n=!0,e(o,...l))}function i(o){s(null,o)}}const Mt={basename:Nj,dirname:Tj,extname:jj,join:Sj,sep:"/"};function Nj(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Vs(t);let n=0,r=-1,s=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(i){n=s+1;break}}else o<0&&(i=!0,o=s+1),l>-1&&(t.codePointAt(s)===e.codePointAt(l--)?l<0&&(r=s):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Tj(t){if(Vs(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function jj(t){Vs(t);let e=t.length,n=-1,r=0,s=-1,i=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?s<0?s=e:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function Sj(...t){let e=-1,n;for(;++e<t.length;)Vs(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":kj(n)}function kj(t){Vs(t);const e=t.codePointAt(0)===47;let n=Ij(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Ij(t,e){let n="",r=0,s=-1,i=0,o=-1,l,u;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(s===o-1||i===1))if(s!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),s=o,i=0;continue}}else if(n.length>0){n="",r=0,s=o,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,o):n=t.slice(s+1,o),r=o-s-1;s=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function Vs(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Aj={cwd:Cj};function Cj(){return"/"}function ll(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Pj(t){if(typeof t=="string")t=new URL(t);else if(!ll(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Rj(t)}function Rj(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const lo=["history","path","basename","stem","extname","dirname"];class Rp{constructor(e){let n;e?ll(e)?n={path:e}:typeof e=="string"||Dj(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Aj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lo.length;){const i=lo[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)lo.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Mt.basename(this.path):void 0}set basename(e){uo(e,"basename"),co(e,"basename"),this.path=Mt.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Mt.dirname(this.path):void 0}set dirname(e){jd(this.basename,"dirname"),this.path=Mt.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Mt.extname(this.path):void 0}set extname(e){if(co(e,"extname"),jd(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mt.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ll(e)&&(e=Pj(e)),uo(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Mt.basename(this.path,this.extname):void 0}set stem(e){uo(e,"stem"),co(e,"stem"),this.path=Mt.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new ut(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function co(t,e){if(t&&t.includes(Mt.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Mt.sep+"`")}function uo(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function jd(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Dj(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Lj=function(t){const r=this.constructor.prototype,s=r[t],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},Oj={}.hasOwnProperty;class mc extends Lj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_j()}copy(){const e=new mc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(oo(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(fo("data",this.frozen),this.namespace[e]=n,this):Oj.call(this.namespace,e)&&this.namespace[e]||void 0:e?(fo("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ui(e),r=this.parser||this.Parser;return ho("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ho("process",this.parser||this.Parser),mo("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,o){const l=ui(e),u=r.parse(l);r.run(u,l,function(d,f,g){if(d||!f||!g)return h(d);const p=f,v=r.stringify(p,g);Fj(v)?g.value=v:g.result=v,h(d,g)});function h(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),ho("processSync",this.parser||this.Parser),mo("processSync",this.compiler||this.Compiler),this.process(e,s),kd("processSync","process",n),r;function s(i,o){n=!0,bd(i),r=o}}run(e,n,r){Sd(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,l){const u=ui(n);s.run(e,u,h);function h(d,f,g){const p=f||e;d?l(d):o?o(p):r(void 0,p,g)}}}runSync(e,n){let r=!1,s;return this.run(e,n,i),kd("runSync","run",r),s;function i(o,l){bd(o),s=l,r=!0}}stringify(e,n){this.freeze();const r=ui(n),s=this.compiler||this.Compiler;return mo("stringify",s),Sd(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(fo("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[d,...f]=h;u(d,f)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(h.plugins),h.settings&&(s.settings=oo(!0,s.settings,h.settings))}function l(h){let d=-1;if(h!=null)if(Array.isArray(h))for(;++d<h.length;){const f=h[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,d){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===h){g=f;break}if(g===-1)r.push([h,...d]);else if(d.length>0){let[p,...v]=d;const E=r[g][1];ol(E)&&ol(p)&&(p=oo(!0,E,p)),r[g]=[h,p,...v]}}}}const Vj=new mc().freeze();function ho(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function mo(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function fo(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sd(t){if(!ol(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function kd(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ui(t){return Mj(t)?t:new Rp(t)}function Mj(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Fj(t){return typeof t=="string"||qj(t)}function qj(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Id=[],Ad={allowDangerousHtml:!0},Uj=/^(https?|ircs?|mailto|xmpp)$/i,Bj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $j(t){const e=Hj(t),n=Qj(t);return Kj(e.runSync(e.parse(n),n),t)}function Hj(t){const e=t.rehypePlugins||Id,n=t.remarkPlugins||Id,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ad}:Ad;return Vj().use(TT).use(n).use(wj,r).use(e)}function Qj(t){const e=t.children||"",n=new Rp;return typeof e=="string"&&(n.value=e),n}function Kj(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,i=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Gj;for(const d of Bj)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+zj+d.id,void 0);return Cp(t,h),sE(t,{Fragment:a.Fragment,components:s,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function h(d,f,g){if(d.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in so)if(Object.hasOwn(so,p)&&Object.hasOwn(d.properties,p)){const v=d.properties[p],E=so[p];(E===null||E.includes(d.tagName))&&(d.properties[p]=u(String(v||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,g)),p&&g&&typeof f=="number")return l&&d.children?g.children.splice(f,1,...d.children):g.children.splice(f,1),f}}}function Gj(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||Uj.test(t.slice(0,e))?t:""}const Wj=()=>{const{id:t}=Rd();sn();const[e,n]=F.useState(null),[r,s]=F.useState(!0),[i,o]=F.useState(null),[l,u]=F.useState({name:"",email:"",content:""}),[h,d]=F.useState(!1),[f,g]=F.useState(!1);F.useEffect(()=>{(async()=>{if(!t){o("記事IDが指定されていません。"),s(!1);return}try{s(!0);const L=await Yo(t);L?n(L):o("記事が見つかりませんでした。")}catch(L){console.error("記事の読み込み中にエラーが発生しました:",L),o("記事の読み込み中にエラーが発生しました。")}finally{s(!1)}})()},[t]);const p=R=>{const{name:L,value:U}=R.target;u(W=>({...W,[L]:U}))},v=async R=>{if(R.preventDefault(),!(!e||!e.id)){d(!0);try{if(await G1(e.id,l.name,l.email,l.content)){u({name:"",email:"",content:""}),g(!0),setTimeout(()=>{g(!1)},5e3);const U=await Yo(e.id);U&&n(U)}}catch(L){console.error("Erreur lors de l'ajout du commentaire:",L)}finally{d(!1)}}},E=R=>new Date(R).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),C=e?{"@context":"https://schema.org","@type":"BlogPosting",headline:e.title,description:e.content.substring(0,150)+"...",image:e.imageUrl,datePublished:e.date,author:{"@type":"Person",name:e.author},publisher:{"@type":"Organization",name:"Softis ピラティススタジオ",logo:{"@type":"ImageObject",url:"https://softis.jp/logo.png"}},keywords:e.tags.join(", "),comment:e.comments.filter(R=>R.status==="approved").map(R=>({"@type":"Comment",author:{"@type":"Person",name:R.author},datePublished:R.date,text:R.content}))}:{};if(r)return a.jsx(Ae,{className:"py-20",children:a.jsx(ie,{children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"読み込み中..."})]})})});if(i||!e)return a.jsx(Ae,{className:"py-20",children:a.jsx(ie,{children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"エラー"}),a.jsx("p",{className:"text-gray-700 mb-6",children:i||"記事が見つかりませんでした。"}),a.jsxs(Pe,{to:"/blog",className:"inline-flex items-center px-4 py-2 bg-purple-600 rounded-lg text-white hover:bg-purple-700 transition-colors",children:[a.jsx(ms,{className:"h-4 w-4 mr-2"}),"ブログトップに戻る"]})]})})});const A=e.comments.filter(R=>R.status==="approved");return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:`${e.title} - ピラティススタジオSoftis`,description:e.content.substring(0,160),keywords:`${e.tags.join(", ")}, ピラティス, ブログ, Softis`,structuredData:C}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:e.imageUrl?`url(${e.imageUrl})`:"none",backgroundColor:e.imageUrl?void 0:"rgba(147, 51, 234, 0.9)"},children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/70 to-purple-900/90"})}),a.jsxs(ie,{className:"relative z-10",children:[a.jsxs(Pe,{to:"/blog",className:"inline-flex items-center text-purple-200 hover:text-white mb-6 transition-colors",children:[a.jsx(ms,{className:"h-4 w-4 mr-1"}),"ブログトップに戻る"]}),a.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.map(R=>a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-200 text-purple-800",children:[a.jsx(Nr,{className:"w-3 h-3 mr-1"}),R]},R))}),a.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-white mb-4",children:e.title}),a.jsxs("div",{className:"flex items-center text-purple-100 text-sm mt-4",children:[a.jsxs("div",{className:"flex items-center mr-4",children:[a.jsx(Si,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:e.author})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xi,{className:"h-4 w-4 mr-1"}),a.jsx("time",{dateTime:e.date,children:E(e.date)})]}),a.jsxs("div",{className:"flex items-center ml-4",children:[a.jsx(Zt,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[A.length," コメント"]})]})]})]})]})]}),a.jsx(Ae,{className:"bg-white",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx(J.div,{className:"prose prose-lg prose-purple mx-auto mb-16",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:a.jsx($j,{children:e.content})}),a.jsxs(J.div,{className:"border-t border-gray-200 pt-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[a.jsxs("h3",{className:"text-2xl font-serif font-bold text-gray-800 mb-8",children:["コメント (",A.length,")"]}),A.length>0?a.jsx("div",{className:"space-y-8 mb-12",children:A.map((R,L)=>a.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[a.jsx("div",{className:"flex justify-between items-start mb-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-200 flex items-center justify-center",children:a.jsx(Si,{className:"h-5 w-5 text-purple-700"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"font-medium text-gray-900",children:R.author}),a.jsx("p",{className:"text-xs text-gray-500",children:E(R.date)})]})]})}),a.jsx("div",{className:"mt-2 text-gray-800",children:R.content})]},R.id))}):a.jsxs("div",{className:"text-center bg-gray-50 p-8 rounded-lg mb-12",children:[a.jsx(Zt,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),a.jsx("p",{children:"まだコメントがありません。最初のコメントを残しましょう！"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[a.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"コメントを残す"}),f?a.jsx("div",{className:"bg-green-100 text-green-700 p-4 rounded-lg mb-6",children:"コメントありがとうございます！管理者の承認後に表示されます。"}):a.jsxs("form",{onSubmit:v,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["お名前 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["メールアドレス ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:["コメント ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"content",name:"content",rows:4,value:l.content,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsx("div",{className:"text-right",children:a.jsxs(De,{type:"submit",variant:"primary",disabled:h,children:[h?"送信中...":"コメントを投稿",!h&&a.jsx(ul,{className:"ml-2 h-4 w-4"})]})})]})]})]})]})})})]})},Jj=()=>{const t=sn(),[e,n]=F.useState({title:"",content:"",author:"",email:"",imageUrl:"",tags:["ピラティス"]}),[r,s]=F.useState(""),[i,o]=F.useState(!1),[l,u]=F.useState(null),h=v=>{const{name:E,value:C}=v.target;n(A=>({...A,[E]:C}))},d=()=>{r.trim()&&!e.tags.includes(r.trim())&&(n(v=>({...v,tags:[...v.tags,r.trim()]})),s(""))},f=v=>{n(E=>({...E,tags:E.tags.filter(C=>C!==v)}))},g=async v=>{v.preventDefault(),o(!0),u(null);try{const E=await H1(e.title,e.content,e.author,e.email,e.tags,e.imageUrl||void 0);E?t(`/blog/${E.id}`):(u("記事の作成中にエラーが発生しました。もう一度お試しください。"),o(!1))}catch(E){console.error("Erreur lors de la création de l'article:",E),u("記事の作成中にエラーが発生しました。後でもう一度お試しください。"),o(!1)}},p=()=>e.content?e.content.replace(/#{1,6} (.+)$/gm,"<strong>$1</strong>").split(`

`).map((E,C)=>a.jsx("p",{className:"mb-4",children:E},C)):a.jsx("p",{className:"text-gray-400",children:"プレビューはここに表示されます..."});return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:"新しい記事を書く - ピラティススタジオSoftis",description:"ピラティス、姿勢改善、健康に関する新しい記事を投稿します。",keywords:"ピラティス, ブログ投稿, 記事作成, Softis"}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-pink-600 to-purple-700",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsxs(ie,{className:"relative z-10",children:[a.jsxs(Pe,{to:"/blog",className:"inline-flex items-center text-purple-200 hover:text-white mb-6 transition-colors",children:[a.jsx(ms,{className:"h-4 w-4 mr-1"}),"ブログトップに戻る"]}),a.jsxs(J.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-4",children:"新しい記事を書く"}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-pink-300 to-purple-300 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl max-w-3xl mx-auto",children:"ピラティスや健康に関する知識を共有しましょう"})]})]})]}),a.jsx(Ae,{className:"bg-gray-50",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-hidden",children:[l&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg m-6",children:l}),a.jsxs("form",{onSubmit:g,className:"p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["タイトル ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:e.title,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300 text-lg",placeholder:"魅力的なタイトルを入力してください",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:["著者名 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"author",name:"author",value:e.author,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["メールアドレス ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"画像URL (オプション)"}),a.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:e.imageUrl,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["タグ ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[e.tags.map(v=>a.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[a.jsx(Nr,{className:"h-3 w-3 mr-1"}),v,a.jsx("button",{type:"button",onClick:()=>f(v),className:"ml-1 text-purple-600 hover:text-purple-800",children:a.jsx(ea,{className:"h-3 w-3"})})]},v)),a.jsxs("div",{className:"inline-flex",children:[a.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),className:"px-3 py-1 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-1 focus:ring-purple-300 w-32",placeholder:"新しいタグ",onKeyPress:v=>v.key==="Enter"&&(v.preventDefault(),d())}),a.jsx("button",{type:"button",onClick:d,className:"px-3 py-1 bg-purple-600 text-white rounded-r-lg hover:bg-purple-700",children:a.jsx(Qd,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:["内容 ",a.jsx("span",{className:"text-red-500",children:"*"}),a.jsx("span",{className:"text-xs ml-2 text-gray-500",children:"Markdown形式に対応しています"})]}),a.jsx("textarea",{id:"content",name:"content",value:e.content,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300 font-mono",rows:10,placeholder:"# 見出し\\n\\n段落テキスト\\n\\n## 小見出し\\n\\n- リストアイテム\\n- リストアイテム",required:!0})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"プレビュー"}),a.jsx("div",{className:"p-4 border border-gray-300 rounded-lg bg-gray-50 min-h-[100px] prose max-w-none",children:p()})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(Pe,{to:"/blog",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"キャンセル"}),a.jsxs(De,{type:"submit",variant:"primary",disabled:i,children:[i?"保存中...":"記事を公開する",!i&&a.jsx(Zi,{className:"ml-2 h-4 w-4"})]})]})]})]})})})]})},Yj=()=>{const t=sn(),{id:e}=Rd(),[n,r]=F.useState({id:"",title:"",content:"",author:"",email:"",imageUrl:null,tags:[],date:"",comments:[],status:"published"}),[s,i]=F.useState(""),[o,l]=F.useState(!1),[u,h]=F.useState(!0),[d,f]=F.useState(null);F.useEffect(()=>{if(!e){f("ID de l'article manquant"),h(!1);return}(async()=>{try{const R=await Yo(e);R?r(R):(f("Article non trouvé"),t("/admin/blog"))}catch(R){console.error("Erreur lors du chargement de l'article:",R),f("Impossible de charger l'article. Veuillez réessayer.")}finally{h(!1)}})()},[e,t]);const g=A=>{const{name:R,value:L}=A.target;r(U=>({...U,[R]:L}))},p=()=>{s.trim()&&!n.tags.includes(s.trim())&&(r(A=>({...A,tags:[...A.tags,s.trim()]})),i(""))},v=A=>{r(R=>({...R,tags:R.tags.filter(L=>L!==A)}))},E=async A=>{A.preventDefault(),l(!0),f(null);try{const R=await Q1(n);R?t(`/blog/${R.id}`):(f("エラーが発生しました。もう一度お試しください。"),l(!1))}catch(R){console.error("Erreur lors de la mise à jour de l'article:",R),f("エラーが発生しました。後でもう一度お試しください。"),l(!1)}};if(u)return a.jsx(Ae,{className:"pt-32",children:a.jsx(ie,{children:a.jsxs("div",{className:"flex justify-center items-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),a.jsx("p",{className:"ml-3 text-gray-600",children:"記事を読み込んでいます..."})]})})});const C=()=>n.content?n.content.replace(/#{1,6} (.+)$/gm,"<strong>$1</strong>").split(`

`).map((R,L)=>a.jsx("p",{className:"mb-4",children:R},L)):a.jsx("p",{className:"text-gray-400",children:"プレビューはここに表示されます..."});return a.jsxs(a.Fragment,{children:[a.jsx(an,{title:"記事を編集 - ピラティススタジオSoftis",description:"ピラティス、姿勢改善、健康に関する記事を編集します。",keywords:"ピラティス, ブログ編集, 記事更新, Softis"}),a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-pink-600 to-purple-700",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsxs(ie,{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs(Pe,{to:"/admin/blog",className:"inline-flex items-center text-purple-200 hover:text-white transition-colors",children:[a.jsx(ms,{className:"h-4 w-4 mr-1"}),"ブログ管理に戻る"]}),a.jsx(Pe,{to:`/blog/${e}`,className:"inline-flex items-center text-purple-200 hover:text-white transition-colors",target:"_blank",rel:"noopener noreferrer",children:"記事を表示"})]}),a.jsxs(J.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-4",children:"記事を編集"}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-pink-300 to-purple-300 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl max-w-3xl mx-auto",children:"ピラティスや健康に関する情報を更新しましょう"})]})]})]}),a.jsx(Ae,{className:"bg-gray-50",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-hidden",children:[d&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg m-6",children:d}),a.jsxs("form",{onSubmit:E,className:"p-4 md:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["タイトル ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300 text-lg",placeholder:"魅力的なタイトルを入力してください",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:["著者名 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"author",name:"author",value:n.author,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["メールアドレス ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"画像URL (オプション)"}),a.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:n.imageUrl||"",onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["タグ ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.tags.map(A=>a.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[a.jsx(Nr,{className:"h-3 w-3 mr-1"}),A,a.jsx("button",{type:"button",onClick:()=>v(A),className:"ml-1 text-purple-600 hover:text-purple-800",children:a.jsx(ea,{className:"h-3 w-3"})})]},A)),a.jsxs("div",{className:"inline-flex w-full sm:w-auto mt-2 sm:mt-0",children:[a.jsx("input",{type:"text",value:s,onChange:A=>i(A.target.value),className:"px-3 py-1 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-1 focus:ring-purple-300 w-full sm:w-32",placeholder:"新しいタグ",onKeyPress:A=>A.key==="Enter"&&(A.preventDefault(),p())}),a.jsx("button",{type:"button",onClick:p,className:"px-3 py-1 bg-purple-600 text-white rounded-r-lg hover:bg-purple-700",children:a.jsx(Qd,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"状態"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"status",value:"published",checked:n.status==="published",onChange:()=>r(A=>({...A,status:"published"})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"ml-2 text-gray-700",children:"公開"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"status",value:"draft",checked:n.status==="draft",onChange:()=>r(A=>({...A,status:"draft"})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"ml-2 text-gray-700",children:"下書き"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:["内容 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("textarea",{id:"content",name:"content",value:n.content,onChange:g,rows:12,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300 font-mono text-sm",placeholder:"記事の内容をここに入力してください...",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Markdownが使用できます。"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"プレビュー"}),a.jsx("div",{className:"prose prose-sm max-w-none",children:C()})]})]})]}),n.comments.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"コメント"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"text-sm text-gray-700",children:["この記事には ",n.comments.length," 件のコメントがあります。"]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8",children:[a.jsx(De,{type:"button",variant:"outline",onClick:()=>t("/admin/blog"),className:"w-full sm:w-auto",children:"キャンセル"}),a.jsx(De,{type:"submit",variant:"primary",disabled:o,className:"w-full sm:w-auto",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"処理中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zi,{className:"h-4 w-4 mr-2"}),"更新する"]})})]})]})]})})})]})},Xj=()=>{const t=sn(),[e,n]=F.useState([]),[r,s]=F.useState(null),[i,o]=F.useState([]),[l,u]=F.useState("all"),[h,d]=F.useState("list"),[f,g]=F.useState(!1);F.useEffect(()=>{if(!Ls()){t("/admin-login");return}p()},[t]);const p=async()=>{try{g(!0);const y=await Jo();n(y);const w=[];y.forEach(N=>{N.comments.filter(_=>_.status==="pending").forEach(_=>{w.push({postId:N.id,comment:_})})}),o(w)}catch(y){console.error("Erreur lors du chargement des articles:",y)}finally{g(!1)}},v=()=>{_a(),t("/admin-login")},E=async y=>{if(window.confirm("Cette article sera supprimé définitivement. Continuer ?"))try{g(!0),await K1(y)?(await p(),(r==null?void 0:r.id)===y&&s(null)):alert("Erreur lors de la suppression de l'article")}catch(w){console.error("Erreur lors de la suppression:",w),alert("Erreur lors de la suppression de l'article")}finally{g(!1)}},C=y=>{s(y)},A=async(y,w)=>{try{g(!0),await W1(y,w)?await p():alert("Erreur lors de l'approbation du commentaire")}catch(N){console.error("Erreur lors de l'approbation du commentaire:",N),alert("Erreur lors de l'approbation du commentaire")}finally{g(!1)}},R=async(y,w)=>{if(window.confirm("Ce commentaire sera supprimé définitivement. Continuer ?"))try{g(!0),await J1(y,w)?await p():alert("Erreur lors de la suppression du commentaire")}catch(N){console.error("Erreur lors de la suppression du commentaire:",N),alert("Erreur lors de la suppression du commentaire")}finally{g(!1)}},L=async()=>{try{g(!0);const y=await Jo(),w=JSON.stringify(y,null,2),N=new Blob([w],{type:"application/json"}),_=URL.createObjectURL(N),j=document.createElement("a");j.href=_,j.download=`softis-blog-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(_)}catch(y){console.error("Erreur lors de l'exportation:",y),alert("Erreur lors de l'exportation des données")}finally{g(!1)}},U=y=>{var _;const w=(_=y.target.files)==null?void 0:_[0];if(!w)return;const N=new FileReader;N.onload=j=>{var K;const T=(K=j.target)==null?void 0:K.result;importBlogData(T)?(alert("ブログのデータが正常にインポートされました。"),p()):alert("ブログのデータのインポート中にエラーが発生しました。")},N.readAsText(w)},W=e.filter(y=>l==="all"?!0:y.status===l),D=y=>new Date(y).toLocaleString("ja-JP"),k=(y,w)=>y.length<=w?y:y.substring(0,w)+"...";return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-purple-700 to-indigo-500",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsxs(ie,{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-serif font-bold",children:"ブログ管理"}),a.jsxs(De,{variant:"outline",size:"sm",onClick:v,className:"bg-white/10 backdrop-blur-sm hover:bg-white/20",children:["ログアウト ",a.jsx(js,{className:"ml-2 h-4 w-4"})]})]}),a.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-4 flex gap-4",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg px-4 py-3 backdrop-blur-sm",children:[a.jsx("div",{className:"text-xl font-bold",children:e.filter(y=>y.status==="draft").length}),a.jsx("div",{className:"text-xs opacity-70",children:"下書き"})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-4 py-3 backdrop-blur-sm",children:[a.jsx("div",{className:"text-xl font-bold",children:e.filter(y=>y.status==="published").length}),a.jsx("div",{className:"text-xs opacity-70",children:"公開済み"})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg px-4 py-3 backdrop-blur-sm",children:[a.jsx("div",{className:"text-xl font-bold",children:i.length}),a.jsx("div",{className:"text-xs opacity-70",children:"承認待ちコメント"})]})]})]})]}),a.jsx(Ae,{children:a.jsxs(ie,{children:[a.jsx(Xl,{onLogout:v}),a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row flex-wrap justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"記事一覧"}),a.jsx(Pe,{to:"/blog/new",className:"ml-4 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700",children:"新規作成"})]}),a.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto justify-end",children:[a.jsxs("div",{className:"flex items-center space-x-2 p-2 border border-gray-300 rounded-lg bg-white",children:[a.jsx("button",{className:`p-1 rounded ${l==="all"?"bg-purple-100 text-purple-600":"text-gray-500"}`,onClick:()=>u("all"),children:a.jsx(Kg,{className:"h-4 w-4"})}),a.jsx("button",{className:`p-1 rounded ${l==="published"?"bg-purple-100 text-purple-600":"text-gray-500"}`,onClick:()=>u("published"),children:"公開"}),a.jsx("button",{className:`p-1 rounded ${l==="draft"?"bg-purple-100 text-purple-600":"text-gray-500"}`,onClick:()=>u("draft"),children:"下書き"})]}),a.jsxs("div",{className:"flex items-center space-x-2 p-2 border border-gray-300 rounded-lg bg-white",children:[a.jsx("button",{className:`p-1 rounded ${h==="list"?"bg-purple-100 text-purple-600":"text-gray-500"}`,onClick:()=>d("list"),children:a.jsx(Yg,{className:"h-4 w-4"})}),a.jsx("button",{className:`p-1 rounded ${h==="grid"?"bg-purple-100 text-purple-600":"text-gray-500"}`,onClick:()=>d("grid"),children:a.jsx(Wg,{className:"h-4 w-4"})})]})]})]}),W.length>0?h==="list"?a.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"タイトル"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"著者"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"日付"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"コメント"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"アクション"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:W.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>C(y),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:y.title})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden md:table-cell",children:a.jsx("div",{className:"text-sm text-gray-500",children:y.author})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:a.jsx("div",{className:"text-sm text-gray-500",children:D(y.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:y.status==="published"?"公開":"下書き"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden md:table-cell",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[y.comments.length,a.jsxs("span",{className:"ml-1 text-xs",children:["(",y.comments.filter(w=>w.status==="pending").length," 未承認)"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(Pe,{to:`/blog/${y.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",onClick:w=>w.stopPropagation(),children:a.jsx(vo,{className:"h-4 w-4"})}),a.jsx("button",{onClick:w=>{w.stopPropagation(),E(y.id)},className:"text-red-600 hover:text-red-900",children:a.jsx(mi,{className:"h-4 w-4"})})]})})]},y.id))})]})})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(y=>a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>C(y),children:[y.imageUrl&&a.jsx("div",{className:"h-40 relative overflow-hidden",children:a.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full h-full object-cover absolute top-0 left-0"})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:y.title}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${y.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:y.status==="published"?"公開":"下書き"})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Calendar,{className:"h-3 w-3 mr-1"}),new Date(y.date).toLocaleDateString("ja-JP")]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zt,{className:"h-3 w-3 mr-1"}),y.comments.length]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[y.tags.slice(0,3).map(w=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-purple-100 text-purple-800",children:[a.jsx(Nr,{className:"h-2 w-2 mr-1"}),w]},w)),y.tags.length>3&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-800",children:["+",y.tags.length-3]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("span",{className:"text-xs text-gray-500",children:y.author}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pe,{to:`/blog/${y.id}/edit`,className:"p-1 text-indigo-600 hover:text-indigo-900",onClick:w=>w.stopPropagation(),children:a.jsx(vo,{className:"h-4 w-4"})}),a.jsx("button",{onClick:w=>{w.stopPropagation(),E(y.id)},className:"p-1 text-red-600 hover:text-red-900",children:a.jsx(mi,{className:"h-4 w-4"})})]})]})]})]},y.id))}):a.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-500",children:"記事がありません。新しい記事を作成してください。"})}),a.jsxs("div",{className:"mt-12",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["承認待ちコメント (",i.length,")"]}),i.length>0?a.jsx("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"投稿者"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"記事"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"コメント"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"日付"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"アクション"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(({postId:y,comment:w})=>{const N=e.find(_=>_.id===y);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(Si,{className:"h-4 w-4 text-gray-500"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.author}),a.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:w.email})]})]})}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:a.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:(N==null?void 0:N.title)||"不明な記事"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:k(w.content,100)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:a.jsx("div",{className:"text-sm text-gray-500",children:D(w.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>A(y,w.id),className:"text-green-600 hover:text-green-900",children:a.jsx(Ti,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>R(y,w.id),className:"text-red-600 hover:text-red-900",children:a.jsx(mi,{className:"h-4 w-4"})})]})})]},w.id)})})]})})})}):a.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-center",children:a.jsx("p",{className:"text-gray-500",children:"承認待ちのコメントはありません。"})})]}),a.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"データ管理"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",onClick:L,children:[a.jsx($d,{className:"h-4 w-4 mr-2"})," ブログをエクスポート"]}),a.jsxs("label",{className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 cursor-pointer",children:[a.jsx(hl,{className:"h-4 w-4 mr-2"})," ブログをインポート",a.jsx("input",{type:"file",accept:".json",onChange:U,className:"hidden"})]})]})]})]})})]})},Zj=async()=>{const t={success:!1,questionsCount:0,blogPostsCount:0,errors:[]};try{const e=await e2();t.questionsCount=e.count,e.errors.length>0&&(t.errors=[...t.errors,...e.errors]);const n=await t2();return t.blogPostsCount=n.count,n.errors.length>0&&(t.errors=[...t.errors,...n.errors]),t.success=!0,t}catch(e){return console.error("Erreur lors de la migration des données:",e),t.errors.push("Migration échouée: "+(e instanceof Error?e.message:String(e))),t}},e2=async()=>{const t={count:0,errors:[]};try{const e=localStorage.getItem("questions");if(!e)return t;const n=JSON.parse(e),r=Yf(He);for(const s of n)try{const{id:i,...o}=s,l=Je(He,"questions",i);r.set(l,o),t.count++}catch(i){console.error(`Erreur lors de la migration de la question ${s.id}:`,i),t.errors.push(`Question ${s.id}: ${i instanceof Error?i.message:String(i)}`)}return await r.commit(),t}catch(e){return console.error("Erreur lors de la migration des questions:",e),t.errors.push("Migration des questions échouée: "+(e instanceof Error?e.message:String(e))),t}},t2=async()=>{const t={count:0,errors:[]};try{const e=localStorage.getItem("blogData");if(!e)return t;const n=JSON.parse(e),r=Yf(He);for(const s of n.posts)try{const{id:i,...o}=s,l=Je(He,"blog",i);r.set(l,o),t.count++}catch(i){console.error(`Erreur lors de la migration de l'article ${s.id}:`,i),t.errors.push(`Article ${s.id}: ${i instanceof Error?i.message:String(i)}`)}return await r.commit(),t}catch(e){return console.error("Erreur lors de la migration des articles de blog:",e),t.errors.push("Migration des articles échouée: "+(e instanceof Error?e.message:String(e))),t}},n2=()=>{const t=sn(),[e,n]=F.useState(null),[r,s]=F.useState(!1);Xt.useEffect(()=>{Ls()||t("/admin-login")},[t]);const i=async()=>{if(window.confirm("Êtes-vous sûr de vouloir migrer les données de localStorage vers Firebase ? Cette opération peut prendre quelques instants.")){s(!0);try{const l=await Zj();n(l)}catch(l){console.error("Erreur lors de la migration:",l),n({success:!1,questionsCount:0,blogPostsCount:0,errors:[l instanceof Error?l.message:"Une erreur inconnue est survenue"]})}finally{s(!1)}}},o=()=>{_a(),t("/admin-login")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-700",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsxs(ie,{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs(Pe,{to:"/admin",className:"inline-flex items-center text-blue-200 hover:text-white transition-colors",children:[a.jsx(ms,{className:"h-4 w-4 mr-1"}),"管理画面に戻る"]}),a.jsxs(De,{variant:"outline",size:"sm",onClick:o,className:"bg-white/10 backdrop-blur-sm hover:bg-white/20",children:["ログアウト ",a.jsx(js,{className:"ml-2 h-4 w-4"})]})]}),a.jsxs(J.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-4",children:"Firebase データ管理"}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-blue-300 to-indigo-300 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white text-xl max-w-3xl mx-auto",children:"LocalStorageからFirebaseへのデータ移行とFirebaseデータの管理"})]})]})]}),a.jsx(Ae,{className:"bg-gray-50",children:a.jsx(ie,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs(J.div,{className:"bg-white rounded-xl shadow-md p-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(hl,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"LocalStorage から Firebase への移行"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"現在のLocalStorageに保存されているデータ（FAQ、ブログの記事とコメント）をFirebaseに移行します。 既存のデータは上書きされる可能性がありますのでご注意ください。"}),e?a.jsxs("div",{className:`p-4 rounded-lg ${e.success?"bg-green-50":"bg-red-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.success?a.jsx(Ti,{className:"h-6 w-6 text-green-600"}):a.jsx(Ud,{className:"h-6 w-6 text-red-600"}),a.jsx("h3",{className:`text-lg font-bold ${e.success?"text-green-600":"text-red-600"}`,children:e.success?"移行成功":"移行に問題が発生しました"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("p",{children:"移行結果:"}),a.jsxs("ul",{className:"list-disc ml-5",children:[a.jsxs("li",{children:["FAQ/質問: ",e.questionsCount," 件"]}),a.jsxs("li",{children:["ブログ記事: ",e.blogPostsCount," 件"]})]})]}),e.errors.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-bold text-red-600",children:"エラー:"}),a.jsx("ul",{className:"list-disc ml-5 text-red-600",children:e.errors.map((l,u)=>a.jsx("li",{children:l},u))})]}),a.jsx("div",{className:"mt-6",children:a.jsx(De,{variant:"primary",onClick:()=>n(null),children:"閉じる"})})]}):a.jsx(De,{variant:"primary",onClick:i,disabled:r,className:"w-full",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-t-transparent border-white rounded-full mr-2"}),"移行中..."]}):a.jsx(a.Fragment,{children:"移行を開始"})})]}),a.jsxs(J.div,{className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ji,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Firebase 管理"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Firebaseデータの管理はFirebaseコンソールから直接行うことができます。 より高度なデータ管理や分析が必要な場合は、以下のリンクからFirebaseコンソールにアクセスしてください。"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("a",{href:"https://console.firebase.google.com/project/softis-a8ac1/firestore/data",target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(ji,{className:"h-5 w-5 mr-2"}),"Firestore データベース"]}),a.jsx("a",{href:"https://console.firebase.google.com/project/softis-a8ac1/overview",target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Firebase コンソール"})]})]})]})})})]})},_i=zl(Yl),Dp=async(t=!1)=>{try{console.log("Tentative de chargement des traductions depuis Firestore...");const e=t?`?_=${new Date().getTime()}`:"",n=await An(Je(_i,"translations","latest"));if(n.exists()&&n.data().fr&&n.data().en&&n.data().ja){console.log("Traductions chargées depuis Firestore avec succès");const h=n.data();return{fr:JSON.parse(h.fr),en:JSON.parse(h.en),ja:JSON.parse(h.ja)}}console.log("Aucune donnée trouvée dans Firestore, chargement des fichiers statiques...");const r=await fetch(`/src/i18n/locales/fr.json${e}`),s=await fetch(`/src/i18n/locales/en.json${e}`),i=await fetch(`/src/i18n/locales/ja.json${e}`),o=await r.json(),l=await s.json(),u=await i.json();return console.log("Traductions chargées depuis les fichiers statiques"),{fr:o,en:l,ja:u}}catch(e){console.error("Erreur lors du chargement des traductions:",e);try{console.log("Tentative de chargement depuis les fichiers statiques après erreur...");const n=t?`?_=${new Date().getTime()}`:"",r=await fetch(`/src/i18n/locales/fr.json${n}`),s=await fetch(`/src/i18n/locales/en.json${n}`),i=await fetch(`/src/i18n/locales/ja.json${n}`),o=await r.json(),l=await s.json(),u=await i.json();return{fr:o,en:l,ja:u}}catch(n){throw console.error("Échec total du chargement des traductions:",n),e}}},r2=async t=>{try{console.log("Début de la sauvegarde des traductions...");let e={fr:{},en:{},ja:{}};try{const l=await An(Je(_i,"translations","latest"));if(l.exists()){console.log("Données existantes trouvées dans Firestore");const u=l.data();e={fr:JSON.parse(u.fr||"{}"),en:JSON.parse(u.en||"{}"),ja:JSON.parse(u.ja||"{}")}}}catch(l){console.error("Erreur lors de la récupération des données existantes:",l)}if(Object.keys(t.fr).length<10&&Object.keys(t.en).length<10&&Object.keys(t.ja).length<10){console.log("Mise à jour partielle détectée, fusion avec les données existantes...");const l=(u,h)=>(Object.keys(h).forEach(d=>{h[d]&&typeof h[d]=="object"&&!Array.isArray(h[d])?(u[d]||(u[d]={}),l(u[d],h[d])):u[d]=h[d]}),u);t.fr=l(e.fr,t.fr),t.en=l(e.en,t.en),t.ja=l(e.ja,t.ja),console.log("Fusion terminée")}const r=JSON.stringify(t.fr),s=JSON.stringify(t.en),i=JSON.stringify(t.ja),o=new Date().toISOString();return console.log("Sauvegarde dans Firestore..."),await Jl(Je(_i,"translations","latest"),{timestamp:o,updatedBy:"admin",numChanges:Object.keys(t.fr).length+Object.keys(t.en).length+Object.keys(t.ja).length,fr:r,en:s,ja:i}),await va(Ar(_i,"translations_history"),{timestamp:o,updatedBy:"admin",fr:r,en:s,ja:i}),console.log("Traductions sauvegardées avec succès dans Firestore!"),!0}catch(e){console.error("Erreur lors de la mise à jour des traductions:",e),console.error("Détails de l'erreur:",e.message);try{console.log("Tentative de sauvegarde locale..."),localStorage.setItem("translations_backup_fr",JSON.stringify(t.fr)),localStorage.setItem("translations_backup_en",JSON.stringify(t.en)),localStorage.setItem("translations_backup_ja",JSON.stringify(t.ja)),console.log("Sauvegarde locale réussie")}catch(n){console.error("Échec également de la sauvegarde locale:",n)}return!1}},Ei=async()=>{try{const t=await Dp(!0);return Object.keys(t).forEach(e=>{Re.addResourceBundle(e,"translation",t[e],!0,!0)}),!0}catch(t){return console.error("Erreur lors du rechargement des traductions:",t),!1}};Re.use(dl).use(Wd).init({resources:{fr:{translation:Ci},en:{translation:Pi},ja:{translation:Ri}},fallbackLng:"ja",debug:!1,interpolation:{escapeValue:!1}});Ei().then(()=>{console.log("Traductions chargées depuis Firestore")});const Cd=zl(Yl),s2=async()=>{try{console.log("Début de l'initialisation des traductions dans Firestore...");const t=JSON.stringify(Ci),e=JSON.stringify(Pi),n=JSON.stringify(Ri),r=new Date().toISOString();return await Jl(Je(Cd,"translations","latest"),{timestamp:r,updatedBy:"system_initialization",numChanges:Object.keys(Ci).length+Object.keys(Pi).length+Object.keys(Ri).length,fr:t,en:e,ja:n}),await va(Ar(Cd,"translations_history"),{timestamp:r,updatedBy:"system_initialization",fr:t,en:e,ja:n}),console.log("Base de données Firestore initialisée avec succès avec les traductions locales!"),!0}catch(t){return console.error("Erreur lors de l'initialisation des traductions dans Firestore:",t),!1}},i2=()=>{const t=sn(),{t:e}=pt(),[n,r]=F.useState(!0),[s,i]=F.useState([]),[o,l]=F.useState([]),[u,h]=F.useState(""),[d,f]=F.useState(null),[g,p]=F.useState([]),[v,E]=F.useState(null),[C,A]=F.useState(null),[R,L]=F.useState(null),[U,W]=F.useState("asc"),[D,k]=F.useState("key"),[y,w]=F.useState(!1),[N,_]=F.useState("ja"),[j,T]=F.useState(!1);F.useEffect(()=>{if(!Ls()){t("/admin-login");return}K()},[t]),F.useEffect(()=>{const $=()=>{T(window.innerWidth<640)};return $(),window.addEventListener("resize",$),()=>{window.removeEventListener("resize",$)}},[]);const K=async()=>{try{r(!0),E(null),console.log("Chargement des traductions...");const $=await Dp();console.log("Données récupérées:",{frKeys:Object.keys($.fr).length,enKeys:Object.keys($.en).length,jaKeys:Object.keys($.ja).length});const ce=[],me=new Set,xe=(ye,Ee,gt="")=>{for(const[ht,Ue]of Object.entries(ye)){const Vt=gt?`${gt}.${ht}`:ht;if(typeof Ue=="object"&&Ue!==null)me.add(ht),xe(Ue,Ee,Vt);else{const Pn=ce.find(Rn=>Rn.path===Vt);if(Pn)Pn[Ee]=Ue;else{const Rn={key:Vt.split(".").pop()||"",path:Vt,fr:Ee==="fr"?Ue:"",en:Ee==="en"?Ue:"",ja:Ee==="ja"?Ue:"",modified:!1};ce.push(Rn)}}}};console.log("Traitement des données..."),xe($.fr,"fr"),xe($.en,"en"),xe($.ja,"ja"),console.log(`${ce.length} traductions chargées, ${me.size} catégories trouvées`),i(ce),l(ce),p(Array.from(me).sort())}catch($){console.error("Erreur lors du chargement des traductions:",$),E("Une erreur s'est produite lors du chargement des traductions. Vérifiez la console pour plus de détails.")}finally{r(!1)}},Y=()=>{_a(),t("/admin-login")},fe=$=>{const ce=$.target.value.toLowerCase();h(ce),je(ce,d)},le=$=>{f($),je(u,$)},je=($,ce)=>{let me=[...s];$&&(me=me.filter(xe=>xe.path.toLowerCase().includes($)||xe.fr.toLowerCase().includes($)||xe.en.toLowerCase().includes($)||xe.ja.toLowerCase().includes($))),ce&&(me=me.filter(xe=>xe.path.startsWith(ce))),l(me)},Oe=($,ce,me)=>{const xe=[...o];xe[$][ce]=me,xe[$].modified=!0,l(xe);const ye=s.findIndex(Ee=>Ee.path===xe[$].path);if(ye!==-1){const Ee=[...s];Ee[ye][ce]=me,Ee[ye].modified=!0,i(Ee)}},I=async()=>{try{r(!0),E(null),A(null);const $=s.filter(ye=>ye.modified);if($.length===0){A("Aucune modification à enregistrer"),r(!1);return}console.log(`Enregistrement de toutes les traductions après ${$.length} modifications...`);const ce={fr:{},en:{},ja:{}},me=(ye,Ee,gt)=>{let ht=ye;for(let Ue=0;Ue<Ee.length-1;Ue++)ht[Ee[Ue]]||(ht[Ee[Ue]]={}),ht=ht[Ee[Ue]];ht[Ee[Ee.length-1]]=gt};for(const ye of s){const Ee=ye.path.split(".");ye.fr&&me(ce.fr,Ee,ye.fr),ye.en&&me(ce.en,Ee,ye.en),ye.ja&&me(ce.ja,Ee,ye.ja)}if(console.log("Envoi des données à Firestore..."),await r2(ce)){console.log("Traductions sauvegardées avec succès!");const ye=s.map(gt=>({...gt,modified:!1}));i(ye);const Ee=o.map(gt=>({...gt,modified:!1}));l(Ee),console.log("Rechargement des traductions dans i18n..."),await Ei(),A("Toutes les traductions ont été enregistrées avec succès! Les modifications sont désormais disponibles dans l'interface."),console.log("Rechargement des traductions depuis Firestore..."),await K()}else console.error("Échec de la sauvegarde"),E("Erreur lors de la sauvegarde des traductions.")}catch($){console.error("Erreur lors de la sauvegarde des traductions:",$),E("Une erreur s'est produite lors de la sauvegarde des traductions.")}finally{r(!1)}},_e=$=>{L(R===$?null:$)},we=$=>{const ce=D===$&&U==="asc"?"desc":"asc";W(ce),k($);const me=[...o].sort((xe,ye)=>ce==="asc"?xe[$].localeCompare(ye[$]):ye[$].localeCompare(xe[$]));l(me)},S=async()=>{if(window.confirm(`Êtes-vous sûr de vouloir initialiser la base de données avec les fichiers de traduction locaux?
Cette action écrasera toutes les traductions existantes dans Firestore.`))try{w(!0),E(null),A(null),await s2()?(A("Base de données initialisée avec succès! Les traductions ont été chargées dans Firestore."),await Ei(),await K()):E("Erreur lors de l'initialisation de la base de données.")}catch($){console.error("Erreur:",$),E("Une erreur s'est produite lors de l'initialisation.")}finally{w(!1)}},ze=s.some($=>$.modified),Ye=()=>n&&o.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-turquoise-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:e("admin.loading")})]}):o.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:e("admin.noResults")})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-4 sticky top-0 z-20",children:[a.jsxs("div",{className:"font-medium mb-2 text-gray-700",children:[e("admin.editingLanguage"),":"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium ${N==="ja"?"bg-turquoise-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>_("ja"),children:e("admin.japanese")}),a.jsx("button",{className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium ${N==="fr"?"bg-turquoise-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>_("fr"),children:e("admin.french")}),a.jsx("button",{className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium ${N==="en"?"bg-turquoise-600 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>_("en"),children:e("admin.english")})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-4",children:a.jsx("div",{className:"divide-y divide-gray-200",children:o.slice(0,50).map(($,ce)=>a.jsx("div",{className:`${$.modified?"bg-yellow-50":""}`,children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>_e($.path),children:a.jsxs("div",{className:"flex items-center",children:[R===$.path?a.jsx(mn,{className:"h-5 w-5 text-turquoise-600 mr-2 flex-shrink-0"}):a.jsx(Bd,{className:"h-5 w-5 text-turquoise-600 mr-2 flex-shrink-0"}),a.jsxs("span",{className:`${$.modified?"font-semibold text-yellow-700":"text-gray-700"} break-all`,children:[$.modified&&a.jsx("span",{className:"text-yellow-500 mr-1",children:"★"}),$.key]})]})}),R===$.path&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2 ml-7",children:$.path}),a.jsx("div",{className:"mt-4 space-y-4 ml-7",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:N==="ja"?"Japonais":N==="fr"?"Français":"Anglais"}),a.jsx("textarea",{value:$[N],onChange:me=>Oe(ce,N,me.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm min-h-[100px] focus:ring-2 focus:ring-turquoise-300 focus:outline-none",dir:N==="ja"?"auto":"ltr"})]})})]})]})},$.path))})}),o.length>50&&a.jsx("div",{className:"bg-gray-50 px-6 py-3 text-center rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Affichage de 50 traductions sur ",o.length,". Utilisez la recherche pour affiner les résultats."]})})]}),Fe=()=>n&&o.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-turquoise-700 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des traductions..."})]}):o.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Aucune traduction trouvée"})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto w-full",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>we("key"),children:a.jsxs("div",{className:"flex items-center",children:["Clé",D==="key"&&(U==="asc"?a.jsx(mn,{className:"ml-1 h-4 w-4"}):a.jsx(Fn,{className:"ml-1 h-4 w-4"}))]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>we("ja"),children:a.jsxs("div",{className:"flex items-center",children:["Japonais",D==="ja"&&(U==="asc"?a.jsx(mn,{className:"ml-1 h-4 w-4"}):a.jsx(Fn,{className:"ml-1 h-4 w-4"}))]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>we("fr"),children:a.jsxs("div",{className:"flex items-center",children:["Français",D==="fr"&&(U==="asc"?a.jsx(mn,{className:"ml-1 h-4 w-4"}):a.jsx(Fn,{className:"ml-1 h-4 w-4"}))]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>we("en"),children:a.jsxs("div",{className:"flex items-center",children:["Anglais",D==="en"&&(U==="asc"?a.jsx(mn,{className:"ml-1 h-4 w-4"}):a.jsx(Fn,{className:"ml-1 h-4 w-4"}))]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.slice(0,100).map(($,ce)=>a.jsxs("tr",{className:$.modified?"bg-yellow-50":"",children:[a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 align-top",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>_e($.path),className:"text-gray-400 hover:text-gray-600 mr-2 flex-shrink-0",children:R===$.path?a.jsx(mn,{size:16}):a.jsx(Fn,{size:16})}),a.jsxs("span",{className:`${$.modified?"font-semibold text-yellow-700":""} break-all`,children:[$.modified&&a.jsx("span",{className:"text-yellow-500",children:"★ "}),$.key]})]}),R===$.path&&a.jsx("div",{className:"ml-6 mt-2 text-xs text-gray-400 break-all",children:$.path})]}),a.jsx("td",{className:"px-6 py-4 text-sm align-top",children:a.jsx("textarea",{value:$.ja,onChange:me=>Oe(ce,"ja",me.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm min-h-[60px] focus:ring-2 focus:ring-turquoise-300 focus:outline-none",dir:"auto"})}),a.jsx("td",{className:"px-6 py-4 text-sm align-top",children:a.jsx("textarea",{value:$.fr,onChange:me=>Oe(ce,"fr",me.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm min-h-[60px] focus:ring-2 focus:ring-turquoise-300 focus:outline-none"})}),a.jsx("td",{className:"px-6 py-4 text-sm align-top",children:a.jsx("textarea",{value:$.en,onChange:me=>Oe(ce,"en",me.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm min-h-[60px] focus:ring-2 focus:ring-turquoise-300 focus:outline-none"})})]},$.path))})]})}),o.length>100&&a.jsx("div",{className:"bg-gray-50 px-6 py-3 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Affichage de 100 traductions sur ",o.length,". Utilisez la recherche pour affiner les résultats."]})})]});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative pt-32 pb-16 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden bg-gradient-to-r from-turquoise-700 to-indigo-500",children:a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute transform rotate-45 -translate-x-1/4 -translate-y-1/4 -left-1/4 -top-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute transform -rotate-12 translate-x-1/4 translate-y-1/4 right-1/4 bottom-1/4 w-1/2 h-1/2 bg-white/20 rounded-full blur-3xl"})]})}),a.jsx(ie,{className:"relative z-10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-serif font-bold",children:e("admin.translationManagement")}),a.jsxs(De,{variant:"outline",size:"sm",onClick:Y,className:"bg-white/10 backdrop-blur-sm hover:bg-white/20",children:[e("admin.logout")," ",a.jsx(js,{className:"ml-2 h-4 w-4"})]})]})})]}),a.jsx(Ae,{children:a.jsxs(ie,{children:[a.jsx(Xl,{onLogout:Y}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[a.jsxs("div",{className:"relative flex-grow max-w-full md:max-w-md",children:[a.jsx(nx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:e("admin.search"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-turquoise-300 focus:outline-none",value:u,onChange:fe})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[a.jsxs(De,{variant:ze?"primary":"secondary",size:"md",onClick:I,disabled:!ze||n||y,className:`${ze?"":"opacity-50 cursor-not-allowed"} w-full sm:w-auto`,children:[e(n?"admin.saving":"admin.saveChanges"),a.jsx(Zi,{className:"ml-2 h-4 w-4"})]}),a.jsxs(De,{variant:"secondary",size:"md",onClick:async()=>{r(!0),await Ei(),A("Traductions rechargées dans l'interface!"),r(!1)},disabled:n||y,className:"w-full sm:w-auto",children:[a.jsx(tx,{className:"mr-2 h-4 w-4"}),e("admin.refreshInterface")]}),a.jsxs(De,{variant:"warning",size:"md",onClick:S,disabled:n||y,className:"bg-amber-600 hover:bg-amber-700 text-white w-full sm:w-auto",children:[e(y?"admin.processing":"admin.initializeDatabase"),a.jsx(ji,{className:"ml-2 h-4 w-4"})]})]})]}),v&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center",children:[a.jsx(ea,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("span",{children:v})]}),C&&a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 flex items-center",children:[a.jsx(rs,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsx("span",{children:C})]}),a.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>le(null),className:`px-3 py-1 rounded-lg text-sm ${d===null?"bg-turquoise-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e("admin.all")}),g.map($=>a.jsx("button",{onClick:()=>le($),className:`px-3 py-1 rounded-lg text-sm ${d===$?"bg-turquoise-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:$},$))]}),a.jsx("div",{className:"sm:hidden",children:Ye()}),a.jsx("div",{className:"hidden sm:block",children:Fe()})]})})]})};function a2(){return a.jsx(lg,{children:a.jsx(pn,{mode:"wait",children:a.jsxs(cg,{children:[a.jsxs(Xe,{path:"/",element:a.jsx(Fy,{}),children:[a.jsx(Xe,{index:!0,element:a.jsx(zy,{})}),a.jsx(Xe,{path:"pricing",element:a.jsx(Uy,{})}),a.jsx(Xe,{path:"instructors",element:a.jsx(By,{})}),a.jsx(Xe,{path:"contact",element:a.jsx($y,{})}),a.jsx(Xe,{path:"faq",element:a.jsx(X1,{})}),a.jsx(Xe,{path:"gallery",element:a.jsx(e_,{})}),a.jsx(Xe,{path:"questions",element:a.jsx(n_,{})}),a.jsx(Xe,{path:"toyota-city-pilates",element:a.jsx(r_,{})}),a.jsx(Xe,{path:"blog",element:a.jsx(l_,{})}),a.jsx(Xe,{path:"blog/:id",element:a.jsx(Wj,{})}),a.jsx(Xe,{path:"blog/new",element:a.jsx(Jj,{})}),a.jsx(Xe,{path:"blog/:id/edit",element:a.jsx(Yj,{})})]}),a.jsx(Xe,{path:"/admin-login",element:a.jsx(o_,{})}),a.jsx(Xe,{path:"/admin",element:a.jsx(a_,{})}),a.jsx(Xe,{path:"/admin/blog",element:a.jsx(Xj,{})}),a.jsx(Xe,{path:"/admin/firebase",element:a.jsx(n2,{})}),a.jsx(Xe,{path:"/admin/translations",element:a.jsx(i2,{})})]})})})}Dd(document.getElementById("root")).render(a.jsx(F.StrictMode,{children:a.jsx(zd,{children:a.jsx(Oy,{children:a.jsx(a2,{})})})}));
